(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(u){if(u.ep)return;u.ep=!0;const o=r(u);fetch(u.href,o)}})();function ky(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Wc={exports:{}},Wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function f_(){if(ug)return Wr;ug=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,u,o){var h=null;if(o!==void 0&&(h=""+o),u.key!==void 0&&(h=""+u.key),"key"in u){o={};for(var d in u)d!=="key"&&(o[d]=u[d])}else o=u;return u=o.ref,{$$typeof:a,type:s,key:h,ref:u!==void 0?u:null,props:o}}return Wr.Fragment=n,Wr.jsx=r,Wr.jsxs=r,Wr}var og;function h_(){return og||(og=1,Wc.exports=f_()),Wc.exports}var v=h_(),Fc={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function d_(){if(cg)return he;cg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function V(T,q,I){this.props=T,this.context=q,this.refs=M,this.updater=I||O}V.prototype.isReactComponent={},V.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},V.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function L(T,q,I){this.props=T,this.context=q,this.refs=M,this.updater=I||O}var U=L.prototype=new Y;U.constructor=L,k(U,V.prototype),U.isPureReactComponent=!0;var Z=Array.isArray;function H(){}var X={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function fe(T,q,I){var P=I.ref;return{$$typeof:a,type:T,key:q,ref:P!==void 0?P:null,props:I}}function Q(T,q){return fe(T.type,q,T.props)}function Ee(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function F(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(I){return q[I]})}var je=/\/+/g;function Re(T,q){return typeof T=="object"&&T!==null&&T.key!=null?F(""+T.key):q.toString(36)}function Ge(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(H,H):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function A(T,q,I,P,ue){var de=typeof T;(de==="undefined"||de==="boolean")&&(T=null);var ve=!1;if(T===null)ve=!0;else switch(de){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(T.$$typeof){case a:case n:ve=!0;break;case p:return ve=T._init,A(ve(T._payload),q,I,P,ue)}}if(ve)return ue=ue(T),ve=P===""?"."+Re(T,0):P,Z(ue)?(I="",ve!=null&&(I=ve.replace(je,"$&/")+"/"),A(ue,q,I,"",function(me){return me})):ue!=null&&(Ee(ue)&&(ue=Q(ue,I+(ue.key==null||T&&T.key===ue.key?"":(""+ue.key).replace(je,"$&/")+"/")+ve)),q.push(ue)),1;ve=0;var ot=P===""?".":P+":";if(Z(T))for(var J=0;J<T.length;J++)P=T[J],de=ot+Re(P,J),ve+=A(P,q,I,de,ue);else if(J=x(T),typeof J=="function")for(T=J.call(T),J=0;!(P=T.next()).done;)P=P.value,de=ot+Re(P,J++),ve+=A(P,q,I,de,ue);else if(de==="object"){if(typeof T.then=="function")return A(Ge(T),q,I,P,ue);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(T,q,I){if(T==null)return T;var P=[],ue=0;return A(T,P,"","",function(de){return q.call(I,de,ue++)}),P}function W(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(I){(T._status===0||T._status===-1)&&(T._status=1,T._result=I)},function(I){(T._status===0||T._status===-1)&&(T._status=2,T._result=I)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},re={map:G,forEach:function(T,q,I){G(T,function(){q.apply(this,arguments)},I)},count:function(T){var q=0;return G(T,function(){q++}),q},toArray:function(T){return G(T,function(q){return q})||[]},only:function(T){if(!Ee(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return he.Activity=_,he.Children=re,he.Component=V,he.Fragment=r,he.Profiler=u,he.PureComponent=L,he.StrictMode=s,he.Suspense=m,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,he.__COMPILER_RUNTIME={__proto__:null,c:function(T){return X.H.useMemoCache(T)}},he.cache=function(T){return function(){return T.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(T,q,I){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var P=k({},T.props),ue=T.key;if(q!=null)for(de in q.key!==void 0&&(ue=""+q.key),q)!ce.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(P[de]=q[de]);var de=arguments.length-2;if(de===1)P.children=I;else if(1<de){for(var ve=Array(de),ot=0;ot<de;ot++)ve[ot]=arguments[ot+2];P.children=ve}return fe(T.type,ue,P)},he.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},he.createElement=function(T,q,I){var P,ue={},de=null;if(q!=null)for(P in q.key!==void 0&&(de=""+q.key),q)ce.call(q,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ue[P]=q[P]);var ve=arguments.length-2;if(ve===1)ue.children=I;else if(1<ve){for(var ot=Array(ve),J=0;J<ve;J++)ot[J]=arguments[J+2];ue.children=ot}if(T&&T.defaultProps)for(P in ve=T.defaultProps,ve)ue[P]===void 0&&(ue[P]=ve[P]);return fe(T,de,ue)},he.createRef=function(){return{current:null}},he.forwardRef=function(T){return{$$typeof:d,render:T}},he.isValidElement=Ee,he.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:W}},he.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},he.startTransition=function(T){var q=X.T,I={};X.T=I;try{var P=T(),ue=X.S;ue!==null&&ue(I,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(H,te)}catch(de){te(de)}finally{q!==null&&I.types!==null&&(q.types=I.types),X.T=q}},he.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},he.use=function(T){return X.H.use(T)},he.useActionState=function(T,q,I){return X.H.useActionState(T,q,I)},he.useCallback=function(T,q){return X.H.useCallback(T,q)},he.useContext=function(T){return X.H.useContext(T)},he.useDebugValue=function(){},he.useDeferredValue=function(T,q){return X.H.useDeferredValue(T,q)},he.useEffect=function(T,q){return X.H.useEffect(T,q)},he.useEffectEvent=function(T){return X.H.useEffectEvent(T)},he.useId=function(){return X.H.useId()},he.useImperativeHandle=function(T,q,I){return X.H.useImperativeHandle(T,q,I)},he.useInsertionEffect=function(T,q){return X.H.useInsertionEffect(T,q)},he.useLayoutEffect=function(T,q){return X.H.useLayoutEffect(T,q)},he.useMemo=function(T,q){return X.H.useMemo(T,q)},he.useOptimistic=function(T,q){return X.H.useOptimistic(T,q)},he.useReducer=function(T,q,I){return X.H.useReducer(T,q,I)},he.useRef=function(T){return X.H.useRef(T)},he.useState=function(T){return X.H.useState(T)},he.useSyncExternalStore=function(T,q,I){return X.H.useSyncExternalStore(T,q,I)},he.useTransition=function(){return X.H.useTransition()},he.version="19.2.4",he}var fg;function Vf(){return fg||(fg=1,Fc.exports=d_()),Fc.exports}var pe=Vf();const it=ky(pe);var Pc={exports:{}},Fr={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function m_(){return hg||(hg=1,(function(a){function n(A,G){var W=A.length;A.push(G);e:for(;0<W;){var te=W-1>>>1,re=A[te];if(0<u(re,G))A[te]=G,A[W]=re,W=te;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var G=A[0],W=A.pop();if(W!==G){A[0]=W;e:for(var te=0,re=A.length,T=re>>>1;te<T;){var q=2*(te+1)-1,I=A[q],P=q+1,ue=A[P];if(0>u(I,W))P<re&&0>u(ue,I)?(A[te]=ue,A[P]=W,te=P):(A[te]=I,A[q]=W,te=q);else if(P<re&&0>u(ue,W))A[te]=ue,A[P]=W,te=P;else break e}}return G}function u(A,G){var W=A.sortIndex-G.sortIndex;return W!==0?W:A.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var m=[],g=[],p=1,_=null,w=3,x=!1,O=!1,k=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function U(A){for(var G=r(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=A)s(g),G.sortIndex=G.expirationTime,n(m,G);else break;G=r(g)}}function Z(A){if(k=!1,U(A),!O)if(r(m)!==null)O=!0,H||(H=!0,F());else{var G=r(g);G!==null&&Ge(Z,G.startTime-A)}}var H=!1,X=-1,ce=5,fe=-1;function Q(){return M?!0:!(a.unstable_now()-fe<ce)}function Ee(){if(M=!1,H){var A=a.unstable_now();fe=A;var G=!0;try{e:{O=!1,k&&(k=!1,Y(X),X=-1),x=!0;var W=w;try{t:{for(U(A),_=r(m);_!==null&&!(_.expirationTime>A&&Q());){var te=_.callback;if(typeof te=="function"){_.callback=null,w=_.priorityLevel;var re=te(_.expirationTime<=A);if(A=a.unstable_now(),typeof re=="function"){_.callback=re,U(A),G=!0;break t}_===r(m)&&s(m),U(A)}else s(m);_=r(m)}if(_!==null)G=!0;else{var T=r(g);T!==null&&Ge(Z,T.startTime-A),G=!1}}break e}finally{_=null,w=W,x=!1}G=void 0}}finally{G?F():H=!1}}}var F;if(typeof L=="function")F=function(){L(Ee)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Re=je.port2;je.port1.onmessage=Ee,F=function(){Re.postMessage(null)}}else F=function(){V(Ee,0)};function Ge(A,G){X=V(function(){A(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(A){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var W=w;w=G;try{return A()}finally{w=W}},a.unstable_requestPaint=function(){M=!0},a.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=w;w=A;try{return G()}finally{w=W}},a.unstable_scheduleCallback=function(A,G,W){var te=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,A){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,A={id:p++,callback:G,priorityLevel:A,startTime:W,expirationTime:re,sortIndex:-1},W>te?(A.sortIndex=W,n(g,A),r(m)===null&&A===r(g)&&(k?(Y(X),X=-1):k=!0,Ge(Z,W-te))):(A.sortIndex=re,n(m,A),O||x||(O=!0,H||(H=!0,F()))),A},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function(A){var G=w;return function(){var W=w;w=G;try{return A.apply(this,arguments)}finally{w=W}}}})(tf)),tf}var dg;function g_(){return dg||(dg=1,ef.exports=m_()),ef.exports}var nf={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function y_(){if(mg)return wt;mg=1;var a=Vf();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(m,g,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:m,containerInfo:g,implementation:p}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,wt.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return o(m,g,null,p)},wt.flushSync=function(m){var g=h.T,p=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=p,s.d.f()}},wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},wt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,_=d(p,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):p==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,_=d(p,g.crossOrigin);s.d.L(m,p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},wt.requestFormReset=function(m){s.d.r(m)},wt.unstable_batchedUpdates=function(m,g){return m(g)},wt.useFormState=function(m,g,p){return h.H.useFormState(m,g,p)},wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},wt.version="19.2.4",wt}var gg;function p_(){if(gg)return nf.exports;gg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),nf.exports=y_(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function v_(){if(yg)return Fr;yg=1;var a=g_(),n=Vf(),r=p_();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(o(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,l=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return m(c),e;if(f===l)return m(c),t;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=f;else{for(var y=!1,b=c.child;b;){if(b===i){y=!0,i=c,l=f;break}if(b===l){y=!0,l=c,i=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===i){y=!0,i=f,l=c;break}if(b===l){y=!0,l=f,i=c;break}b=b.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case V:return"Profiler";case M:return"StrictMode";case Z:return"Suspense";case H:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case L:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var Ge=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},te=[],re=-1;function T(e){return{current:e}}function q(e){0>re||(e.current=te[re],te[re]=null,re--)}function I(e,t){re++,te[re]=e.current,e.current=t}var P=T(null),ue=T(null),de=T(null),ve=T(null);function ot(e,t){switch(I(de,t),I(ue,e),I(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cm(t),e=Rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(P),I(P,e)}function J(){q(P),q(ue),q(de)}function me(e){e.memoizedState!==null&&I(ve,e);var t=P.current,i=Rm(t,e.type);t!==i&&(I(ue,e),I(P,i))}function be(e){ue.current===e&&(q(P),q(ue)),ve.current===e&&(q(ve),Qr._currentValue=W)}var K,ct;function Ae(e){if(K===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);K=t&&t[1]||"",ct=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+e+ct}var ft=!1;function ht(e,t){if(!e||ft)return"";ft=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var R=D}Reflect.construct(e,[],$)}else{try{$.call()}catch(D){R=D}e.call($.prototype)}}else{try{throw Error()}catch(D){R=D}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var S=y.split(`
`),C=b.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===C.length)for(l=S.length-1,c=C.length-1;1<=l&&0<=c&&S[l]!==C[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==C[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==C[c]){var z=`
`+S[l].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=l&&0<=c);break}}}finally{ft=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ae(i):""}function pn(e,t){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==t&&t!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return Ae("Activity");default:return""}}function ir(e){try{var t="",i=null;do t+=pn(e,i),i=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Uu=Object.prototype.hasOwnProperty,zu=a.unstable_scheduleCallback,Lu=a.unstable_cancelCallback,Gp=a.unstable_shouldYield,Vp=a.unstable_requestPaint,Ct=a.unstable_now,Kp=a.unstable_getCurrentPriorityLevel,oh=a.unstable_ImmediatePriority,ch=a.unstable_UserBlockingPriority,Es=a.unstable_NormalPriority,Xp=a.unstable_LowPriority,fh=a.unstable_IdlePriority,Qp=a.log,Jp=a.unstable_setDisableYieldValue,rr=null,Rt=null;function Vn(e){if(typeof Qp=="function"&&Jp(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(rr,e)}catch{}}var Mt=Math.clz32?Math.clz32:Wp,Ip=Math.log,Zp=Math.LN2;function Wp(e){return e>>>=0,e===0?32:31-(Ip(e)/Zp|0)|0}var As=256,Os=262144,Ns=4194304;function pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?c=pa(l):(y&=b,y!==0?c=pa(y):i||(i=b&~e,i!==0&&(c=pa(i))))):(b=l&~f,b!==0?c=pa(b):y!==0?c=pa(y):i||(i=l&~e,i!==0&&(c=pa(i)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:c}function sr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hh(){var e=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),e}function Bu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pp(e,t,i,l,c,f){var y=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,C=e.hiddenUpdates;for(i=y&~i;0<i;){var z=31-Mt(i),$=1<<z;b[z]=0,S[z]=-1;var R=C[z];if(R!==null)for(C[z]=null,z=0;z<R.length;z++){var D=R[z];D!==null&&(D.lane&=-536870913)}i&=~$}l!==0&&dh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function dh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function mh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Mt(i),c=1<<l;c&t|e[l]&t&&(e[l]|=t),i&=~c}}function gh(e,t){var i=t&-t;return i=(i&42)!==0?1:qu(i),(i&(e.suspendedLanes|t))!==0?0:i}function qu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function ph(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var Kn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Kn,St="__reactProps$"+Kn,Wa="__reactContainer$"+Kn,$u="__reactEvents$"+Kn,ev="__reactListeners$"+Kn,tv="__reactHandles$"+Kn,vh="__reactResources$"+Kn,ur="__reactMarker$"+Kn;function Yu(e){delete e[dt],delete e[St],delete e[$u],delete e[ev],delete e[tv]}function Fa(e){var t=e[dt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Wa]||i[dt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=qm(e);e!==null;){if(i=e[dt])return i;e=qm(e)}return t}e=i,i=e.parentNode}return null}function Pa(e){if(e=e[dt]||e[Wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function or(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ei(e){var t=e[vh];return t||(t=e[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[ur]=!0}var bh=new Set,_h={};function va(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(_h[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var nv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},xh={};function av(e){return Uu.call(xh,e)?!0:Uu.call(wh,e)?!1:nv.test(e)?xh[e]=!0:(wh[e]=!0,!1)}function js(e,t,i){if(av(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Cs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function vn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iv(e,t,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){i=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){if(!e._valueTracker){var t=Sh(e)?"checked":"value";e._valueTracker=iv(e,t,""+e[t])}}function Th(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Sh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rv=/[\n"\\]/g;function Kt(e){return e.replace(rv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vu(e,t,i,l,c,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Ku(e,y,Vt(t)):i!=null?Ku(e,y,Vt(i)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Vt(b):e.removeAttribute("name")}function Eh(e,t,i,l,c,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Gu(e);return}i=i!=null?""+Vt(i):"",t=t!=null?""+Vt(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Gu(e)}function Ku(e,t,i){t==="number"&&Rs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ni(e,t,i,l){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Vt(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ah(e,t,i){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Vt(i):""}function Oh(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(s(92));if(Ge(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=Vt(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),Gu(e)}function ai(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var sv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||sv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function kh(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&i[c]!==l&&Nh(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&Nh(e,f,t[f])}function Xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return uv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var Qu=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,ri=null;function jh(e){var t=Pa(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var c=l[St]||null;if(!c)throw Error(s(90));Vu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&Th(l)}break e;case"textarea":Ah(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ni(e,!!i.multiple,t,!1)}}}var Iu=!1;function Ch(e,t,i){if(Iu)return e(t,i);Iu=!0;try{var l=e(t);return l}finally{if(Iu=!1,(ii!==null||ri!==null)&&(_l(),ii&&(t=ii,e=ri,ri=ii=null,jh(t),e)))for(t=0;t<e.length;t++)jh(e[t])}}function cr(e,t){var i=e.stateNode;if(i===null)return null;var l=i[St]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(_n)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Zu=!1}var Xn=null,Wu=null,Ds=null;function Rh(){if(Ds)return Ds;var e,t=Wu,i=t.length,l,c="value"in Xn?Xn.value:Xn.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var y=i-e;for(l=1;l<=y&&t[i-l]===c[f-l];l++);return Ds=c.slice(e,1<l?1-l:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function Mh(){return!1}function Tt(e){function t(i,l,c,f,y){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zs:Mh,this.isPropagationStopped=Mh,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),t}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Tt(ba),hr=_({},ba,{view:0,detail:0}),ov=Tt(hr),Fu,Pu,dr,Bs=_({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(Fu=e.screenX-dr.screenX,Pu=e.screenY-dr.screenY):Pu=Fu=0,dr=e),Fu)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),Dh=Tt(Bs),cv=_({},Bs,{dataTransfer:0}),fv=Tt(cv),hv=_({},hr,{relatedTarget:0}),eo=Tt(hv),dv=_({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),mv=Tt(dv),gv=_({},ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=Tt(gv),pv=_({},ba,{data:0}),Uh=Tt(pv),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_v[e])?!!t[e]:!1}function to(){return wv}var xv=_({},hr,{key:function(e){if(e.key){var t=vv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=Tt(xv),Tv=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Tt(Tv),Ev=_({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Av=Tt(Ev),Ov=_({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=Tt(Ov),kv=_({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jv=Tt(kv),Cv=_({},ba,{newState:0,oldState:0}),Rv=Tt(Cv),Mv=[9,13,27,32],no=_n&&"CompositionEvent"in window,mr=null;_n&&"documentMode"in document&&(mr=document.documentMode);var Dv=_n&&"TextEvent"in window&&!mr,Lh=_n&&(!no||mr&&8<mr&&11>=mr),Bh=" ",qh=!1;function Hh(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function Uv(e,t){switch(e){case"compositionend":return $h(t);case"keypress":return t.which!==32?null:(qh=!0,Bh);case"textInput":return e=t.data,e===Bh&&qh?null:e;default:return null}}function zv(e,t){if(si)return e==="compositionend"||!no&&Hh(e,t)?(e=Rh(),Ds=Wu=Xn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lh&&t.locale!=="ko"?null:t.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lv[e.type]:t==="textarea"}function Gh(e,t,i,l){ii?ri?ri.push(l):ri=[l]:ii=l,t=Ol(t,"onChange"),0<t.length&&(i=new Ls("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var gr=null,yr=null;function Bv(e){Em(e,0)}function qs(e){var t=or(e);if(Th(t))return e}function Vh(e,t){if(e==="change")return t}var Kh=!1;if(_n){var ao;if(_n){var io="oninput"in document;if(!io){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),io=typeof Xh.oninput=="function"}ao=io}else ao=!1;Kh=ao&&(!document.documentMode||9<document.documentMode)}function Qh(){gr&&(gr.detachEvent("onpropertychange",Jh),yr=gr=null)}function Jh(e){if(e.propertyName==="value"&&qs(yr)){var t=[];Gh(t,yr,e,Ju(e)),Ch(Bv,t)}}function qv(e,t,i){e==="focusin"?(Qh(),gr=t,yr=i,gr.attachEvent("onpropertychange",Jh)):e==="focusout"&&Qh()}function Hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qs(yr)}function $v(e,t){if(e==="click")return qs(t)}function Yv(e,t){if(e==="input"||e==="change")return qs(t)}function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Gv;function pr(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Uu.call(t,c)||!Dt(e[c],t[c]))return!1}return!0}function Ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var i=Ih(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ih(i)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Rs(e.document)}return t}function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vv=_n&&"documentMode"in document&&11>=document.documentMode,li=null,so=null,vr=null,lo=!1;function Ph(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;lo||li==null||li!==Rs(l)||(l=li,"selectionStart"in l&&ro(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vr&&pr(vr,l)||(vr=l,l=Ol(so,"onSelect"),0<l.length&&(t=new Ls("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=li)))}function _a(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ui={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},uo={},ed={};_n&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function wa(e){if(uo[e])return uo[e];if(!ui[e])return e;var t=ui[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ed)return uo[e]=t[i];return e}var td=wa("animationend"),nd=wa("animationiteration"),ad=wa("animationstart"),Kv=wa("transitionrun"),Xv=wa("transitionstart"),Qv=wa("transitioncancel"),id=wa("transitionend"),rd=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function tn(e,t){rd.set(e,t),va(t,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],oi=0,co=0;function $s(){for(var e=oi,t=co=oi=0;t<e;){var i=Xt[t];Xt[t++]=null;var l=Xt[t];Xt[t++]=null;var c=Xt[t];Xt[t++]=null;var f=Xt[t];if(Xt[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&sd(i,c,f)}}function Ys(e,t,i,l){Xt[oi++]=e,Xt[oi++]=t,Xt[oi++]=i,Xt[oi++]=l,co|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fo(e,t,i,l){return Ys(e,t,i,l),Gs(e)}function xa(e,t){return Ys(e,null,null,t),Gs(e)}function sd(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Mt(i),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=i|536870912),f):null}function Gs(e){if(50<Hr)throw Hr=0,wc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ci={};function Jv(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,l){return new Jv(e,t,i,l)}function ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ld(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vs(e,t,i,l,c,f){var y=0;if(l=e,typeof e=="function")ho(e)&&(y=1);else if(typeof e=="string")y=Pb(e,i,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Ut(31,i,t,c),e.elementType=fe,e.lanes=f,e;case k:return Sa(i.children,c,f,t);case M:y=8,c|=24;break;case V:return e=Ut(12,i,t,c|2),e.elementType=V,e.lanes=f,e;case Z:return e=Ut(13,i,t,c),e.elementType=Z,e.lanes=f,e;case H:return e=Ut(19,i,t,c),e.elementType=H,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:y=10;break e;case Y:y=9;break e;case U:y=11;break e;case X:y=14;break e;case ce:y=16,l=null;break e}y=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Ut(y,i,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function Sa(e,t,i,l){return e=Ut(7,e,l,t),e.lanes=i,e}function mo(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function ud(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function go(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var od=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=od.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ir(t)},od.set(e,t),t)}return{value:e,source:t,stack:ir(t)}}var fi=[],hi=0,Ks=null,br=0,Jt=[],It=0,Qn=null,fn=1,hn="";function xn(e,t){fi[hi++]=br,fi[hi++]=Ks,Ks=e,br=t}function cd(e,t,i){Jt[It++]=fn,Jt[It++]=hn,Jt[It++]=Qn,Qn=e;var l=fn;e=hn;var c=32-Mt(l)-1;l&=~(1<<c),i+=1;var f=32-Mt(t)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,fn=1<<32-Mt(t)+c|i<<c|l,hn=f+e}else fn=1<<f|i<<c|l,hn=e}function yo(e){e.return!==null&&(xn(e,1),cd(e,1,0))}function po(e){for(;e===Ks;)Ks=fi[--hi],fi[hi]=null,br=fi[--hi],fi[hi]=null;for(;e===Qn;)Qn=Jt[--It],Jt[It]=null,hn=Jt[--It],Jt[It]=null,fn=Jt[--It],Jt[It]=null}function fd(e,t){Jt[It++]=fn,Jt[It++]=hn,Jt[It++]=Qn,fn=t.id,hn=t.overflow,Qn=e}var mt=null,$e=null,Te=!1,Jn=null,Zt=!1,vo=Error(s(519));function In(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _r(Qt(t,e)),vo}function hd(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[dt]=e,t[St]=l,i){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(i=0;i<Yr.length;i++)we(Yr[i],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Eh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Oh(t,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||km(t.textContent,i)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=bn),t=!0):t=!1,t||In(e,!0)}function dd(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:mt=mt.return}}function di(e){if(e!==mt)return!1;if(!Te)return dd(e),Te=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zc(e.type,e.memoizedProps)),i=!i),i&&$e&&In(e),dd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$e=Bm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$e=Bm(e)}else t===27?(t=$e,oa(e.type)?(e=$c,$c=null,$e=e):$e=t):$e=mt?Ft(e.stateNode.nextSibling):null;return!0}function Ta(){$e=mt=null,Te=!1}function bo(){var e=Jn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Jn=null),e}function _r(e){Jn===null?Jn=[e]:Jn.push(e)}var _o=T(null),Ea=null,Sn=null;function Zn(e,t,i){I(_o,t._currentValue),t._currentValue=i}function Tn(e){e._currentValue=_o.current,q(_o)}function wo(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function xo(e,t,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var S=0;S<t.length;S++)if(b.context===t[S]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),wo(f.return,i,e),l||(y=null);break e}f=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=i,f=y.alternate,f!==null&&(f.lanes|=i),wo(y,i,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function mi(e,t,i,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=c.type;Dt(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===ve.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Qr):e=[Qr])}c=c.return}e!==null&&xo(t,e,i,l),t.flags|=262144}function Xs(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ea=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return md(Ea,e)}function Qs(e,t){return Ea===null&&Aa(e),md(e,t)}function md(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Sn===null){if(e===null)throw Error(s(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return i}var Iv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Zv=a.unstable_scheduleCallback,Wv=a.unstable_NormalPriority,We={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function So(){return{controller:new Iv,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&Zv(Wv,function(){e.controller.abort()})}var xr=null,To=0,gi=0,yi=null;function Fv(e,t){if(xr===null){var i=xr=[];To=0,gi=Oc(),yi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return To++,t.then(gd,gd),t}function gd(){if(--To===0&&xr!==null){yi!==null&&(yi.status="fulfilled");var e=xr;xr=null,gi=0,yi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pv(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var yd=A.S;A.S=function(e,t){P0=Ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fv(e,t),yd!==null&&yd(e,t)};var Oa=T(null);function Eo(){var e=Oa.current;return e!==null?e:Be.pooledCache}function Js(e,t){t===null?I(Oa,Oa.current):I(Oa,t.pool)}function pd(){var e=Eo();return e===null?null:{parent:We._currentValue,pool:e}}var pi=Error(s(460)),Ao=Error(s(474)),Is=Error(s(542)),Zs={then:function(){}};function vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(bn,bn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e;default:if(typeof t.status=="string")t.then(bn,bn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e}throw ka=t,pi}}function Na(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ka=i,pi):i}}var ka=null;function _d(){if(ka===null)throw Error(s(459));var e=ka;return ka=null,e}function wd(e){if(e===pi||e===Is)throw Error(s(483))}var vi=null,Sr=0;function Ws(e){var t=Sr;return Sr+=1,vi===null&&(vi=[]),bd(vi,e,t)}function Tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xd(e){function t(N,E){if(e){var j=N.deletions;j===null?(N.deletions=[E],N.flags|=16):j.push(E)}}function i(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function l(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function c(N,E){return N=wn(N,E),N.index=0,N.sibling=null,N}function f(N,E,j){return N.index=j,e?(j=N.alternate,j!==null?(j=j.index,j<E?(N.flags|=67108866,E):j):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function y(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,E,j,B){return E===null||E.tag!==6?(E=mo(j,N.mode,B),E.return=N,E):(E=c(E,j),E.return=N,E)}function S(N,E,j,B){var ie=j.type;return ie===k?z(N,E,j.props.children,B,j.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ce&&Na(ie)===E.type)?(E=c(E,j.props),Tr(E,j),E.return=N,E):(E=Vs(j.type,j.key,j.props,null,N.mode,B),Tr(E,j),E.return=N,E)}function C(N,E,j,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==j.containerInfo||E.stateNode.implementation!==j.implementation?(E=go(j,N.mode,B),E.return=N,E):(E=c(E,j.children||[]),E.return=N,E)}function z(N,E,j,B,ie){return E===null||E.tag!==7?(E=Sa(j,N.mode,B,ie),E.return=N,E):(E=c(E,j),E.return=N,E)}function $(N,E,j){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=mo(""+E,N.mode,j),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case x:return j=Vs(E.type,E.key,E.props,null,N.mode,j),Tr(j,E),j.return=N,j;case O:return E=go(E,N.mode,j),E.return=N,E;case ce:return E=Na(E),$(N,E,j)}if(Ge(E)||F(E))return E=Sa(E,N.mode,j,null),E.return=N,E;if(typeof E.then=="function")return $(N,Ws(E),j);if(E.$$typeof===L)return $(N,Qs(N,E),j);Fs(N,E)}return null}function R(N,E,j,B){var ie=E!==null?E.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ie!==null?null:b(N,E,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return j.key===ie?S(N,E,j,B):null;case O:return j.key===ie?C(N,E,j,B):null;case ce:return j=Na(j),R(N,E,j,B)}if(Ge(j)||F(j))return ie!==null?null:z(N,E,j,B,null);if(typeof j.then=="function")return R(N,E,Ws(j),B);if(j.$$typeof===L)return R(N,E,Qs(N,j),B);Fs(N,j)}return null}function D(N,E,j,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(j)||null,b(E,N,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return N=N.get(B.key===null?j:B.key)||null,S(E,N,B,ie);case O:return N=N.get(B.key===null?j:B.key)||null,C(E,N,B,ie);case ce:return B=Na(B),D(N,E,j,B,ie)}if(Ge(B)||F(B))return N=N.get(j)||null,z(E,N,B,ie,null);if(typeof B.then=="function")return D(N,E,j,Ws(B),ie);if(B.$$typeof===L)return D(N,E,j,Qs(E,B),ie);Fs(E,B)}return null}function ee(N,E,j,B){for(var ie=null,Oe=null,ne=E,ye=E=0,Se=null;ne!==null&&ye<j.length;ye++){ne.index>ye?(Se=ne,ne=null):Se=ne.sibling;var Ne=R(N,ne,j[ye],B);if(Ne===null){ne===null&&(ne=Se);break}e&&ne&&Ne.alternate===null&&t(N,ne),E=f(Ne,E,ye),Oe===null?ie=Ne:Oe.sibling=Ne,Oe=Ne,ne=Se}if(ye===j.length)return i(N,ne),Te&&xn(N,ye),ie;if(ne===null){for(;ye<j.length;ye++)ne=$(N,j[ye],B),ne!==null&&(E=f(ne,E,ye),Oe===null?ie=ne:Oe.sibling=ne,Oe=ne);return Te&&xn(N,ye),ie}for(ne=l(ne);ye<j.length;ye++)Se=D(ne,N,ye,j[ye],B),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?ye:Se.key),E=f(Se,E,ye),Oe===null?ie=Se:Oe.sibling=Se,Oe=Se);return e&&ne.forEach(function(ma){return t(N,ma)}),Te&&xn(N,ye),ie}function se(N,E,j,B){if(j==null)throw Error(s(151));for(var ie=null,Oe=null,ne=E,ye=E=0,Se=null,Ne=j.next();ne!==null&&!Ne.done;ye++,Ne=j.next()){ne.index>ye?(Se=ne,ne=null):Se=ne.sibling;var ma=R(N,ne,Ne.value,B);if(ma===null){ne===null&&(ne=Se);break}e&&ne&&ma.alternate===null&&t(N,ne),E=f(ma,E,ye),Oe===null?ie=ma:Oe.sibling=ma,Oe=ma,ne=Se}if(Ne.done)return i(N,ne),Te&&xn(N,ye),ie;if(ne===null){for(;!Ne.done;ye++,Ne=j.next())Ne=$(N,Ne.value,B),Ne!==null&&(E=f(Ne,E,ye),Oe===null?ie=Ne:Oe.sibling=Ne,Oe=Ne);return Te&&xn(N,ye),ie}for(ne=l(ne);!Ne.done;ye++,Ne=j.next())Ne=D(ne,N,ye,Ne.value,B),Ne!==null&&(e&&Ne.alternate!==null&&ne.delete(Ne.key===null?ye:Ne.key),E=f(Ne,E,ye),Oe===null?ie=Ne:Oe.sibling=Ne,Oe=Ne);return e&&ne.forEach(function(c_){return t(N,c_)}),Te&&xn(N,ye),ie}function Le(N,E,j,B){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case x:e:{for(var ie=j.key;E!==null;){if(E.key===ie){if(ie=j.type,ie===k){if(E.tag===7){i(N,E.sibling),B=c(E,j.props.children),B.return=N,N=B;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ce&&Na(ie)===E.type){i(N,E.sibling),B=c(E,j.props),Tr(B,j),B.return=N,N=B;break e}i(N,E);break}else t(N,E);E=E.sibling}j.type===k?(B=Sa(j.props.children,N.mode,B,j.key),B.return=N,N=B):(B=Vs(j.type,j.key,j.props,null,N.mode,B),Tr(B,j),B.return=N,N=B)}return y(N);case O:e:{for(ie=j.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===j.containerInfo&&E.stateNode.implementation===j.implementation){i(N,E.sibling),B=c(E,j.children||[]),B.return=N,N=B;break e}else{i(N,E);break}else t(N,E);E=E.sibling}B=go(j,N.mode,B),B.return=N,N=B}return y(N);case ce:return j=Na(j),Le(N,E,j,B)}if(Ge(j))return ee(N,E,j,B);if(F(j)){if(ie=F(j),typeof ie!="function")throw Error(s(150));return j=ie.call(j),se(N,E,j,B)}if(typeof j.then=="function")return Le(N,E,Ws(j),B);if(j.$$typeof===L)return Le(N,E,Qs(N,j),B);Fs(N,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,E!==null&&E.tag===6?(i(N,E.sibling),B=c(E,j),B.return=N,N=B):(i(N,E),B=mo(j,N.mode,B),B.return=N,N=B),y(N)):i(N,E)}return function(N,E,j,B){try{Sr=0;var ie=Le(N,E,j,B);return vi=null,ie}catch(ne){if(ne===pi||ne===Is)throw ne;var Oe=Ut(29,ne,null,N.mode);return Oe.lanes=B,Oe.return=N,Oe}finally{}}}var ja=xd(!0),Sd=xd(!1),Wn=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Gs(e),sd(e,null,i),t}return Ys(e,l,t,i),Gs(e)}function Er(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,mh(e,i)}}function ko(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var jo=!1;function Ar(){if(jo){var e=yi;if(e!==null)throw e}}function Or(e,t,i,l){jo=!1;var c=e.updateQueue;Wn=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var S=b,C=S.next;S.next=null,y===null?f=C:y.next=C,y=S;var z=e.alternate;z!==null&&(z=z.updateQueue,b=z.lastBaseUpdate,b!==y&&(b===null?z.firstBaseUpdate=C:b.next=C,z.lastBaseUpdate=S))}if(f!==null){var $=c.baseState;y=0,z=C=S=null,b=f;do{var R=b.lane&-536870913,D=R!==b.lane;if(D?(xe&R)===R:(l&R)===R){R!==0&&R===gi&&(jo=!0),z!==null&&(z=z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ee=e,se=b;R=t;var Le=i;switch(se.tag){case 1:if(ee=se.payload,typeof ee=="function"){$=ee.call(Le,$,R);break e}$=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=se.payload,R=typeof ee=="function"?ee.call(Le,$,R):ee,R==null)break e;$=_({},$,R);break e;case 2:Wn=!0}}R=b.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[R]:D.push(R))}else D={lane:R,tag:b.tag,payload:b.payload,callback:b.callback,next:null},z===null?(C=z=D,S=$):z=z.next=D,y|=R;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;D=b,b=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);z===null&&(S=$),c.baseState=S,c.firstBaseUpdate=C,c.lastBaseUpdate=z,f===null&&(c.shared.lanes=0),ia|=y,e.lanes=y,e.memoizedState=$}}function Td(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ed(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Td(i[e],t)}var bi=T(null),Ps=T(0);function Ad(e,t){e=Mn,I(Ps,e),I(bi,t),Mn=e|t.baseLanes}function Co(){I(Ps,Mn),I(bi,bi.current)}function Ro(){Mn=Ps.current,q(bi),q(Ps)}var zt=T(null),Wt=null;function ea(e){var t=e.alternate;I(Ie,Ie.current&1),I(zt,e),Wt===null&&(t===null||bi.current!==null||t.memoizedState!==null)&&(Wt=e)}function Mo(e){I(Ie,Ie.current),I(zt,e),Wt===null&&(Wt=e)}function Od(e){e.tag===22?(I(Ie,Ie.current),I(zt,e),Wt===null&&(Wt=e)):ta()}function ta(){I(Ie,Ie.current),I(zt,zt.current)}function Lt(e){q(zt),Wt===e&&(Wt=null),q(Ie)}var Ie=T(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qc(i)||Hc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var En=0,ge=null,Ue=null,Fe=null,tl=!1,_i=!1,Ca=!1,nl=0,Nr=0,wi=null,eb=0;function Ke(){throw Error(s(321))}function Do(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Dt(e[i],t[i]))return!1;return!0}function Uo(e,t,i,l,c,f){return En=f,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?c0:Zo,Ca=!1,f=i(l,c),Ca=!1,_i&&(f=kd(t,i,l,c)),Nd(e),f}function Nd(e){A.H=Cr;var t=Ue!==null&&Ue.next!==null;if(En=0,Fe=Ue=ge=null,tl=!1,Nr=0,wi=null,t)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&Xs(e)&&(Pe=!0))}function kd(e,t,i,l){ge=e;var c=0;do{if(_i&&(wi=null),Nr=0,_i=!1,25<=c)throw Error(s(301));if(c+=1,Fe=Ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=f0,f=t(i,l)}while(_i);return f}function tb(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?kr(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ge.flags|=1024),t}function zo(){var e=nl!==0;return nl=0,e}function Lo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Bo(e){if(tl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tl=!1}En=0,Fe=Ue=ge=null,_i=!1,Nr=nl=0,wi=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ge.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ze(){if(Ue===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Fe===null?ge.memoizedState:Fe.next;if(t!==null)Fe=t,Ue=e;else{if(e===null)throw ge.alternate===null?Error(s(467)):Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Fe===null?ge.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var t=Nr;return Nr+=1,wi===null&&(wi=[]),e=bd(wi,e,t),t=ge,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?c0:Zo),e}function il(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===L)return gt(e)}throw Error(s(438,String(e)))}function qo(e){var t=null,i=ge.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=al(),ge.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=Q;return t.index++,i}function An(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=Ze();return Ho(t,Ue,e)}function Ho(e,t,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=y=null,S=null,C=t,z=!1;do{var $=C.lane&-536870913;if($!==C.lane?(xe&$)===$:(En&$)===$){var R=C.revertLane;if(R===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===gi&&(z=!0);else if((En&R)===R){C=C.next,R===gi&&(z=!0);continue}else $={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(b=S=$,y=f):S=S.next=$,ge.lanes|=R,ia|=R;$=C.action,Ca&&i(f,$),f=C.hasEagerState?C.eagerState:i(f,$)}else R={lane:$,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(b=S=R,y=f):S=S.next=R,ge.lanes|=$,ia|=$;C=C.next}while(C!==null&&C!==t);if(S===null?y=f:S.next=b,!Dt(f,e.memoizedState)&&(Pe=!0,z&&(i=yi,i!==null)))throw i;e.memoizedState=f,e.baseState=y,e.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $o(e){var t=Ze(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);Dt(f,t.memoizedState)||(Pe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function jd(e,t,i){var l=ge,c=Ze(),f=Te;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=t();var y=!Dt((Ue||c).memoizedState,i);if(y&&(c.memoizedState=i,Pe=!0),c=c.queue,Vo(Md.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,xi(9,{destroy:void 0},Rd.bind(null,l,c,i,t),null),Be===null)throw Error(s(349));f||(En&127)!==0||Cd(l,t,i)}return i}function Cd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ge.updateQueue,t===null?(t=al(),ge.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Rd(e,t,i,l){t.value=i,t.getSnapshot=l,Dd(t)&&Ud(e)}function Md(e,t,i){return i(function(){Dd(t)&&Ud(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Dt(e,i)}catch{return!0}}function Ud(e){var t=xa(e,2);t!==null&&kt(t,e,2)}function Yo(e){var t=xt();if(typeof e=="function"){var i=e;if(e=i(),Ca){Vn(!0);try{i()}finally{Vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t}function zd(e,t,i,l){return e.baseState=i,Ho(e,Ue,typeof l=="function"?l:An)}function nb(e,t,i,l,c){if(ul(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?i(!0):f.isTransition=!1,l(f),i=t.pending,i===null?(f.next=t.pending=f,Ld(t,f)):(f.next=i.next,t.pending=i.next=f)}}function Ld(e,t){var i=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=A.T,y={};A.T=y;try{var b=i(c,l),S=A.S;S!==null&&S(y,b),Bd(e,t,b)}catch(C){Go(e,t,C)}finally{f!==null&&y.types!==null&&(f.types=y.types),A.T=f}}else try{f=i(c,l),Bd(e,t,f)}catch(C){Go(e,t,C)}}function Bd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){qd(e,t,l)},function(l){return Go(e,t,l)}):qd(e,t,i)}function qd(e,t,i){t.status="fulfilled",t.value=i,Hd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ld(e,i)))}function Go(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,Hd(t),t=t.next;while(t!==l)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function Yd(e,t){if(Te){var i=Be.formState;if(i!==null){e:{var l=ge;if(Te){if($e){t:{for(var c=$e,f=Zt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Ft(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$e=Ft(c.nextSibling),l=c.data==="F!";break e}}In(l)}l=!1}l&&(t=i[0])}}return i=xt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},i.queue=l,i=l0.bind(null,ge,l),l.dispatch=i,l=Yo(!1),f=Io.bind(null,ge,!1,l.queue),l=xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,i=nb.bind(null,ge,c,f,i),c.dispatch=i,l.memoizedState=e,[t,i,!1]}function Gd(e){var t=Ze();return Vd(t,Ue,e)}function Vd(e,t,i){if(t=Ho(e,t,$d)[0],e=rl(An)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=kr(t)}catch(y){throw y===pi?Is:y}else l=t;t=Ze();var c=t.queue,f=c.dispatch;return i!==t.memoizedState&&(ge.flags|=2048,xi(9,{destroy:void 0},ab.bind(null,c,i),null)),[l,f,e]}function ab(e,t){e.action=t}function Kd(e){var t=Ze(),i=Ue;if(i!==null)return Vd(t,i,e);Ze(),t=t.memoizedState,i=Ze();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function xi(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=ge.updateQueue,t===null&&(t=al(),ge.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function Xd(){return Ze().memoizedState}function sl(e,t,i,l){var c=xt();ge.flags|=e,c.memoizedState=xi(1|t,{destroy:void 0},i,l===void 0?null:l)}function ll(e,t,i,l){var c=Ze();l=l===void 0?null:l;var f=c.memoizedState.inst;Ue!==null&&l!==null&&Do(l,Ue.memoizedState.deps)?c.memoizedState=xi(t,f,i,l):(ge.flags|=e,c.memoizedState=xi(1|t,f,i,l))}function Qd(e,t){sl(8390656,8,e,t)}function Vo(e,t){ll(2048,8,e,t)}function ib(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=al(),ge.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Jd(e){var t=Ze().memoizedState;return ib({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Id(e,t){return ll(4,2,e,t)}function Zd(e,t){return ll(4,4,e,t)}function Wd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,i){i=i!=null?i.concat([e]):null,ll(4,4,Wd.bind(null,t,e),i)}function Ko(){}function Pd(e,t){var i=Ze();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&Do(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function e0(e,t){var i=Ze();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&Do(t,l[1]))return l[0];if(l=e(),Ca){Vn(!0);try{e()}finally{Vn(!1)}}return i.memoizedState=[l,t],l}function Xo(e,t,i){return i===void 0||(En&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=tm(),ge.lanes|=e,ia|=e,i)}function t0(e,t,i,l){return Dt(i,t)?i:bi.current!==null?(e=Xo(e,i,l),Dt(e,t)||(Pe=!0),e):(En&42)===0||(En&1073741824)!==0&&(xe&261930)===0?(Pe=!0,e.memoizedState=i):(e=tm(),ge.lanes|=e,ia|=e,t)}function n0(e,t,i,l,c){var f=G.p;G.p=f!==0&&8>f?f:8;var y=A.T,b={};A.T=b,Io(e,!1,t,i);try{var S=c(),C=A.S;if(C!==null&&C(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=Pv(S,l);jr(e,t,z,Ht(e))}else jr(e,t,l,Ht(e))}catch($){jr(e,t,{then:function(){},status:"rejected",reason:$},Ht())}finally{G.p=f,y!==null&&b.types!==null&&(y.types=b.types),A.T=y}}function rb(){}function Qo(e,t,i,l){if(e.tag!==5)throw Error(s(476));var c=a0(e).queue;n0(e,c,t,W,i===null?rb:function(){return i0(e),i(l)})}function a0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function i0(e){var t=a0(e);t.next===null&&(t=e.alternate.memoizedState),jr(e,t.next.queue,{},Ht())}function Jo(){return gt(Qr)}function r0(){return Ze().memoizedState}function s0(){return Ze().memoizedState}function sb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Fn(i);var l=Pn(t,e,i);l!==null&&(kt(l,t,i),Er(l,t,i)),t={cache:So()},e.payload=t;return}t=t.return}}function lb(e,t,i){var l=Ht();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ul(e)?u0(t,i):(i=fo(e,t,i,l),i!==null&&(kt(i,e,l),o0(i,t,l)))}function l0(e,t,i){var l=Ht();jr(e,t,i,l)}function jr(e,t,i,l){var c={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ul(e))u0(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,i);if(c.hasEagerState=!0,c.eagerState=b,Dt(b,y))return Ys(e,t,c,0),Be===null&&$s(),!1}catch{}finally{}if(i=fo(e,t,c,l),i!==null)return kt(i,e,l),o0(i,t,l),!0}return!1}function Io(e,t,i,l){if(l={lane:2,revertLane:Oc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(t)throw Error(s(479))}else t=fo(e,i,l,2),t!==null&&kt(t,e,2)}function ul(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function u0(e,t){_i=tl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function o0(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,mh(e,i)}}var Cr={readContext:gt,use:il,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Cr.useEffectEvent=Ke;var c0={readContext:gt,use:il,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Qd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,sl(4194308,4,Wd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){sl(4,2,e,t)},useMemo:function(e,t){var i=xt();t=t===void 0?null:t;var l=e();if(Ca){Vn(!0);try{e()}finally{Vn(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=xt();if(i!==void 0){var c=i(t);if(Ca){Vn(!0);try{i(t)}finally{Vn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=lb.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Yo(e);var t=e.queue,i=l0.bind(null,ge,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Ko,useDeferredValue:function(e,t){var i=xt();return Xo(i,e,t)},useTransition:function(){var e=Yo(!1);return e=n0.bind(null,ge,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=ge,c=xt();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Be===null)throw Error(s(349));(xe&127)!==0||Cd(l,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,Qd(Md.bind(null,l,f,e),[e]),l.flags|=2048,xi(9,{destroy:void 0},Rd.bind(null,l,f,i,t),null),i},useId:function(){var e=xt(),t=Be.identifierPrefix;if(Te){var i=hn,l=fn;i=(l&~(1<<32-Mt(l)-1)).toString(32)+i,t="_"+t+"R_"+i,i=nl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=eb++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jo,useFormState:Yd,useActionState:Yd,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Io.bind(null,ge,!0,i),i.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return xt().memoizedState=sb.bind(null,ge)},useEffectEvent:function(e){var t=xt(),i={impl:e};return t.memoizedState=i,function(){if((Ce&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Zo={readContext:gt,use:il,useCallback:Pd,useContext:gt,useEffect:Vo,useImperativeHandle:Fd,useInsertionEffect:Id,useLayoutEffect:Zd,useMemo:e0,useReducer:rl,useRef:Xd,useState:function(){return rl(An)},useDebugValue:Ko,useDeferredValue:function(e,t){var i=Ze();return t0(i,Ue.memoizedState,e,t)},useTransition:function(){var e=rl(An)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:jd,useId:r0,useHostTransitionStatus:Jo,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var i=Ze();return zd(i,Ue,e,t)},useMemoCache:qo,useCacheRefresh:s0};Zo.useEffectEvent=Jd;var f0={readContext:gt,use:il,useCallback:Pd,useContext:gt,useEffect:Vo,useImperativeHandle:Fd,useInsertionEffect:Id,useLayoutEffect:Zd,useMemo:e0,useReducer:$o,useRef:Xd,useState:function(){return $o(An)},useDebugValue:Ko,useDeferredValue:function(e,t){var i=Ze();return Ue===null?Xo(i,e,t):t0(i,Ue.memoizedState,e,t)},useTransition:function(){var e=$o(An)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:jd,useId:r0,useHostTransitionStatus:Jo,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var i=Ze();return Ue!==null?zd(i,Ue,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:qo,useCacheRefresh:s0};f0.useEffectEvent=Jd;function Wo(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:_({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Fo={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Ht(),c=Fn(l);c.payload=t,i!=null&&(c.callback=i),t=Pn(e,c,l),t!==null&&(kt(t,e,l),Er(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Ht(),c=Fn(l);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Pn(e,c,l),t!==null&&(kt(t,e,l),Er(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),l=Fn(i);l.tag=2,t!=null&&(l.callback=t),t=Pn(e,l,i),t!==null&&(kt(t,e,i),Er(t,e,i))}};function h0(e,t,i,l,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):t.prototype&&t.prototype.isPureReactComponent?!pr(i,l)||!pr(c,f):!0}function d0(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=_({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function m0(e){Hs(e)}function g0(e){console.error(e)}function y0(e){Hs(e)}function ol(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function p0(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Po(e,t,i){return i=Fn(i),i.tag=3,i.payload={element:null},i.callback=function(){ol(e,t)},i}function v0(e){return e=Fn(e),e.tag=3,e}function b0(e,t,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){p0(t,i,l)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){p0(t,i,l),typeof c!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ub(e,t,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&mi(t,i,c,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Wt===null?wl():i.alternate===null&&Xe===0&&(Xe=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===Zs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),Tc(e,l,c)),!1;case 22:return i.flags|=65536,l===Zs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),Tc(e,l,c)),!1}throw Error(s(435,i.tag))}return Tc(e,l,c),wl(),!1}if(Te)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==vo&&(e=Error(s(422),{cause:l}),_r(Qt(e,i)))):(l!==vo&&(t=Error(s(423),{cause:l}),_r(Qt(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Qt(l,i),c=Po(e.stateNode,l,c),ko(e,c),Xe!==4&&(Xe=2)),!1;var f=Error(s(520),{cause:l});if(f=Qt(f,i),qr===null?qr=[f]:qr.push(f),Xe!==4&&(Xe=2),t===null)return!0;l=Qt(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Po(i.stateNode,l,e),ko(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ra===null||!ra.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=v0(c),b0(c,e,i,l),ko(i,c),!1}i=i.return}while(i!==null);return!1}var ec=Error(s(461)),Pe=!1;function yt(e,t,i,l){t.child=e===null?Sd(t,null,i,l):ja(t,e.child,i,l)}function _0(e,t,i,l,c){i=i.render;var f=t.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Aa(t),l=Uo(e,t,i,y,f,c),b=zo(),e!==null&&!Pe?(Lo(e,t,c),On(e,t,c)):(Te&&b&&yo(t),t.flags|=1,yt(e,t,l,c),t.child)}function w0(e,t,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!ho(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,x0(e,t,f,l,c)):(e=Vs(i.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!uc(e,c)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:pr,i(y,l)&&e.ref===t.ref)return On(e,t,c)}return t.flags|=1,e=wn(f,l),e.ref=t.ref,e.return=t,t.child=e}function x0(e,t,i,l,c){if(e!==null){var f=e.memoizedProps;if(pr(f,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=f,uc(e,c))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,On(e,t,c)}return tc(e,t,i,l,c)}function S0(e,t,i,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,t.child=null;return T0(e,t,f,i,l)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Js(t,f!==null?f.cachePool:null),f!==null?Ad(t,f):Co(),Od(t);else return l=t.lanes=536870912,T0(e,t,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(Js(t,f.cachePool),Ad(t,f),ta(),t.memoizedState=null):(e!==null&&Js(t,null),Co(),ta());return yt(e,t,c,i),t.child}function Rr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function T0(e,t,i,l,c){var f=Eo();return f=f===null?null:{parent:We._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Js(t,null),Co(),Od(t),e!==null&&mi(e,t,l,!0),t.childLanes=c,null}function cl(e,t){return t=hl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function E0(e,t,i){return ja(t,e.child,null,i),e=cl(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function ob(e,t,i){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=cl(t,l),t.lanes=536870912,Rr(null,e);if(Mo(t),(e=$e)?(e=Lm(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=ud(e),i.return=t,t.child=i,mt=t,$e=null)):e=null,e===null)throw In(t);return t.lanes=536870912,null}return cl(t,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Mo(t),c)if(t.flags&256)t.flags&=-257,t=E0(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Pe||mi(e,t,i,!1),c=(i&e.childLanes)!==0,Pe||c){if(l=Be,l!==null&&(y=gh(l,i),y!==0&&y!==f.retryLane))throw f.retryLane=y,xa(e,y),kt(l,e,y),ec;wl(),t=E0(e,t,i)}else e=f.treeContext,$e=Ft(y.nextSibling),mt=t,Te=!0,Jn=null,Zt=!1,e!==null&&fd(t,e),t=cl(t,l),t.flags|=4096;return t}return e=wn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function tc(e,t,i,l,c){return Aa(t),i=Uo(e,t,i,l,void 0,c),l=zo(),e!==null&&!Pe?(Lo(e,t,c),On(e,t,c)):(Te&&l&&yo(t),t.flags|=1,yt(e,t,i,c),t.child)}function A0(e,t,i,l,c,f){return Aa(t),t.updateQueue=null,i=kd(t,l,i,c),Nd(e),l=zo(),e!==null&&!Pe?(Lo(e,t,f),On(e,t,f)):(Te&&l&&yo(t),t.flags|=1,yt(e,t,i,f),t.child)}function O0(e,t,i,l,c){if(Aa(t),t.stateNode===null){var f=ci,y=i.contextType;typeof y=="object"&&y!==null&&(f=gt(y)),f=new i(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},Oo(t),y=i.contextType,f.context=typeof y=="object"&&y!==null?gt(y):ci,f.state=t.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Wo(t,i,y,l),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Fo.enqueueReplaceState(f,f.state,null),Or(t,l,f,c),Ar(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,S=Ra(i,b);f.props=S;var C=f.context,z=i.contextType;y=ci,typeof z=="object"&&z!==null&&(y=gt(z));var $=i.getDerivedStateFromProps;z=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||C!==y)&&d0(t,f,l,y),Wn=!1;var R=t.memoizedState;f.state=R,Or(t,l,f,c),Ar(),C=t.memoizedState,b||R!==C||Wn?(typeof $=="function"&&(Wo(t,i,$,l),C=t.memoizedState),(S=Wn||h0(t,i,S,l,R,C,y))?(z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=C),f.props=l,f.state=C,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,No(e,t),y=t.memoizedProps,z=Ra(i,y),f.props=z,$=t.pendingProps,R=f.context,C=i.contextType,S=ci,typeof C=="object"&&C!==null&&(S=gt(C)),b=i.getDerivedStateFromProps,(C=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||R!==S)&&d0(t,f,l,S),Wn=!1,R=t.memoizedState,f.state=R,Or(t,l,f,c),Ar();var D=t.memoizedState;y!==$||R!==D||Wn||e!==null&&e.dependencies!==null&&Xs(e.dependencies)?(typeof b=="function"&&(Wo(t,i,b,l),D=t.memoizedState),(z=Wn||h0(t,i,z,l,R,D,S)||e!==null&&e.dependencies!==null&&Xs(e.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,S)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=D),f.props=l,f.state=D,f.context=S,l=z):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,fl(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=ja(t,e.child,null,c),t.child=ja(t,null,i,c)):yt(e,t,i,c),t.memoizedState=f.state,e=t.child):e=On(e,t,c),e}function N0(e,t,i,l){return Ta(),t.flags|=256,yt(e,t,i,l),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:pd()}}function ic(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=qt),e}function k0(e,t,i){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(c?ea(t):ta(),(e=$e)?(e=Lm(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=ud(e),i.return=t,t.child=i,mt=t,$e=null)):e=null,e===null)throw In(t);return Hc(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(ta(),c=t.mode,b=hl({mode:"hidden",children:b},c),l=Sa(l,c,i,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=ac(i),l.childLanes=ic(e,y,i),t.memoizedState=nc,Rr(null,l)):(ea(t),rc(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(f)t.flags&256?(ea(t),t.flags&=-257,t=sc(e,t,i)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),b=l.fallback,c=t.mode,l=hl({mode:"visible",children:l.children},c),b=Sa(b,c,i,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,ja(t,e.child,null,i),l=t.child,l.memoizedState=ac(i),l.childLanes=ic(e,y,i),t.memoizedState=nc,t=Rr(null,l));else if(ea(t),Hc(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var C=y.dgst;y=C,l=Error(s(419)),l.stack="",l.digest=y,_r({value:l,source:null,stack:null}),t=sc(e,t,i)}else if(Pe||mi(e,t,i,!1),y=(i&e.childLanes)!==0,Pe||y){if(y=Be,y!==null&&(l=gh(y,i),l!==0&&l!==S.retryLane))throw S.retryLane=l,xa(e,l),kt(y,e,l),ec;qc(b)||wl(),t=sc(e,t,i)}else qc(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,$e=Ft(b.nextSibling),mt=t,Te=!0,Jn=null,Zt=!1,e!==null&&fd(t,e),t=rc(t,l.children),t.flags|=4096);return t}return c?(ta(),b=l.fallback,c=t.mode,S=e.child,C=S.sibling,l=wn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,C!==null?b=wn(C,b):(b=Sa(b,c,i,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Rr(null,l),l=t.child,b=e.child.memoizedState,b===null?b=ac(i):(c=b.cachePool,c!==null?(S=We._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=pd(),b={baseLanes:b.baseLanes|i,cachePool:c}),l.memoizedState=b,l.childLanes=ic(e,y,i),t.memoizedState=nc,Rr(e.child,l)):(ea(t),i=e.child,e=i.sibling,i=wn(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=i,t.memoizedState=null,i)}function rc(e,t){return t=hl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hl(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function sc(e,t,i){return ja(t,e.child,null,i),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j0(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wo(e.return,t,i)}function lc(e,t,i,l,c,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=i,y.tailMode=c,y.treeForkCount=f)}function C0(e,t,i){var l=t.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var y=Ie.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,I(Ie,y),yt(e,t,l,i),l=Te?br:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j0(e,i,t);else if(e.tag===19)j0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&el(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),lc(t,!1,c,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&el(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}lc(t,!0,i,null,f,l);break;case"together":lc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function On(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(mi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=wn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=wn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xs(e)))}function cb(e,t,i){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Zn(t,We,e.memoizedState.cache),Ta();break;case 27:case 5:me(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Zn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(t),t.flags|=128,null):(i&t.child.childLanes)!==0?k0(e,t,i):(ea(t),e=On(e,t,i),e!==null?e.sibling:null);ea(t);break;case 19:var c=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(mi(e,t,i,!1),l=(i&t.childLanes)!==0),c){if(l)return C0(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,S0(e,t,i,t.pendingProps);case 24:Zn(t,We,e.memoizedState.cache)}return On(e,t,i)}function R0(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!uc(e,i)&&(t.flags&128)===0)return Pe=!1,cb(e,t,i);Pe=(e.flags&131072)!==0}else Pe=!1,Te&&(t.flags&1048576)!==0&&cd(t,br,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Na(t.elementType),t.type=e,typeof e=="function")ho(e)?(l=Ra(e,l),t.tag=1,t=O0(null,t,e,l,i)):(t.tag=0,t=tc(null,t,e,l,i));else{if(e!=null){var c=e.$$typeof;if(c===U){t.tag=11,t=_0(null,t,e,l,i);break e}else if(c===X){t.tag=14,t=w0(null,t,e,l,i);break e}}throw t=Re(e)||e,Error(s(306,t,""))}}return t;case 0:return tc(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,c=Ra(l,t.pendingProps),O0(e,t,l,c,i);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,No(e,t),Or(t,l,null,i);var y=t.memoizedState;if(l=y.cache,Zn(t,We,l),l!==f.cache&&xo(t,[We],i,!0),Ar(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=N0(e,t,l,i);break e}else if(l!==c){c=Qt(Error(s(424)),t),_r(c),t=N0(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Ft(e.firstChild),mt=t,Te=!0,Jn=null,Zt=!0,i=Sd(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ta(),l===c){t=On(e,t,i);break e}yt(e,t,l,i)}t=t.child}return t;case 26:return fl(e,t),e===null?(i=Gm(t.type,null,t.pendingProps,null))?t.memoizedState=i:Te||(i=t.type,e=t.pendingProps,l=Nl(de.current).createElement(i),l[dt]=t,l[St]=e,pt(l,i,e),st(l),t.stateNode=l):t.memoizedState=Gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Te&&(l=t.stateNode=Hm(t.type,t.pendingProps,de.current),mt=t,Zt=!0,c=$e,oa(t.type)?($c=c,$e=Ft(l.firstChild)):$e=c),yt(e,t,t.pendingProps.children,i),fl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((c=l=$e)&&(l=Hb(l,t.type,t.pendingProps,Zt),l!==null?(t.stateNode=l,mt=t,$e=Ft(l.firstChild),Zt=!1,c=!0):c=!1),c||In(t)),me(t),c=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,zc(c,f)?l=null:y!==null&&zc(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=Uo(e,t,tb,null,null,i),Qr._currentValue=c),fl(e,t),yt(e,t,l,i),t.child;case 6:return e===null&&Te&&((e=i=$e)&&(i=$b(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,mt=t,$e=null,e=!0):e=!1),e||In(t)),null;case 13:return k0(e,t,i);case 4:return ot(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ja(t,null,l,i):yt(e,t,l,i),t.child;case 11:return _0(e,t,t.type,t.pendingProps,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Zn(t,t.type,l.value),yt(e,t,l.children,i),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Aa(t),c=gt(c),l=l(c),t.flags|=1,yt(e,t,l,i),t.child;case 14:return w0(e,t,t.type,t.pendingProps,i);case 15:return x0(e,t,t.type,t.pendingProps,i);case 19:return C0(e,t,i);case 31:return ob(e,t,i);case 22:return S0(e,t,i,t.pendingProps);case 24:return Aa(t),l=gt(We),e===null?(c=Eo(),c===null&&(c=Be,f=So(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),t.memoizedState={parent:l,cache:c},Oo(t),Zn(t,We,c)):((e.lanes&i)!==0&&(No(e,t),Or(t,null,null,i),Ar()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Zn(t,We,l)):(l=f.cache,Zn(t,We,l),l!==c.cache&&xo(t,[We],i,!0))),yt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Nn(e){e.flags|=4}function oc(e,t,i,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(rm())e.flags|=8192;else throw ka=Zs,Ao}else e.flags&=-16777217}function M0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(t))if(rm())e.flags|=8192;else throw ka=Zs,Ao}function dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hh():536870912,e.lanes|=t,Ai|=t)}function Mr(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function fb(e,t,i){var l=t.pendingProps;switch(po(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Tn(We),J(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(di(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bo())),Ye(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(Nn(t),f!==null?(Ye(t),M0(t,f)):(Ye(t),oc(t,c,null,l,i))):f?f!==e.memoizedState?(Nn(t),Ye(t),M0(t,f)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Nn(t),Ye(t),oc(t,c,e,l,i)),null;case 27:if(be(t),i=de.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}e=P.current,di(t)?hd(t):(e=Hm(c,l,i),t.stateNode=e,Nn(t))}return Ye(t),null;case 5:if(be(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(f=P.current,di(t))hd(t);else{var y=Nl(de.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}f[dt]=t,f[St]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(pt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Nn(t)}}return Ye(t),oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,di(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,c=mt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[dt]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||km(e.nodeValue,i)),e||In(t,!0)}else e=Nl(e).createTextNode(l),e[dt]=t,t.stateNode=e}return Ye(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(l=di(t),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[dt]=t}else Ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else i=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=di(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[dt]=t}else Ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),c=!1}else c=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),dl(t,t.updateQueue),Ye(t),null);case 4:return J(),e===null&&Cc(t.stateNode.containerInfo),Ye(t),null;case 10:return Tn(t.type),Ye(t),null;case 19:if(q(Ie),l=t.memoizedState,l===null)return Ye(t),null;if(c=(t.flags&128)!==0,f=l.rendering,f===null)if(c)Mr(l,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=el(e),f!==null){for(t.flags|=128,Mr(l,!1),e=f.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)ld(i,e),i=i.sibling;return I(Ie,Ie.current&1|2),Te&&xn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ct()>vl&&(t.flags|=128,c=!0,Mr(l,!1),t.lanes=4194304)}else{if(!c)if(e=el(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),Mr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Te)return Ye(t),null}else 2*Ct()-l.renderingStartTime>vl&&i!==536870912&&(t.flags|=128,c=!0,Mr(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ct(),e.sibling=null,i=Ie.current,I(Ie,c?i&1|2:i&1),Te&&xn(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Lt(t),Ro(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),i=t.updateQueue,i!==null&&dl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&q(Oa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Tn(We),Ye(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function hb(e,t){switch(po(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(We),J(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return be(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(s(340));Ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ie),null;case 4:return J(),null;case 10:return Tn(t.type),null;case 22:case 23:return Lt(t),Ro(),e!==null&&q(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(We),null;case 25:return null;default:return null}}function D0(e,t){switch(po(t),t.tag){case 3:Tn(We),J();break;case 26:case 27:case 5:be(t);break;case 4:J();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:q(Ie);break;case 10:Tn(t.type);break;case 22:case 23:Lt(t),Ro(),e!==null&&q(Oa);break;case 24:Tn(We)}}function Dr(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var f=i.create,y=i.inst;l=f(),y.destroy=l}i=i.next}while(i!==c)}}catch(b){De(t,t.return,b)}}function na(e,t,i){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=t;var S=i,C=b;try{C()}catch(z){De(c,S,z)}}}l=l.next}while(l!==f)}}catch(z){De(t,t.return,z)}}function U0(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ed(t,i)}catch(l){De(e,e.return,l)}}}function z0(e,t,i){i.props=Ra(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){De(e,t,l)}}function Ur(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){De(e,t,c)}}function dn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){De(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){De(e,t,c)}else i.current=null}function L0(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){De(e,e.return,c)}}function cc(e,t,i){try{var l=e.stateNode;Db(l,e.type,i,t),l[St]=t}catch(c){De(e,e.return,c)}}function B0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oa(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=bn));else if(l!==4&&(l===27&&oa(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(hc(e,t,i),e=e.sibling;e!==null;)hc(e,t,i),e=e.sibling}function ml(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&oa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ml(e,t,i),e=e.sibling;e!==null;)ml(e,t,i),e=e.sibling}function q0(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);pt(t,l,i),t[dt]=e,t[St]=i}catch(f){De(e,e.return,f)}}var kn=!1,et=!1,dc=!1,H0=typeof WeakSet=="function"?WeakSet:Set,lt=null;function db(e,t){if(e=e.containerInfo,Dc=Ul,e=Fh(e),ro(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,b=-1,S=-1,C=0,z=0,$=e,R=null;t:for(;;){for(var D;$!==i||c!==0&&$.nodeType!==3||(b=y+c),$!==f||l!==0&&$.nodeType!==3||(S=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(D=$.firstChild)!==null;)R=$,$=D;for(;;){if($===e)break t;if(R===i&&++C===c&&(b=y),R===f&&++z===l&&(S=y),(D=$.nextSibling)!==null)break;$=R,R=$.parentNode}$=D}i=b===-1||S===-1?null:{start:b,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Uc={focusedElem:e,selectionRange:i},Ul=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,c=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var ee=Ra(i.type,c);e=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){De(i,i.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Bc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function $0(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(e,i),l&4&&Dr(5,i);break;case 1:if(Cn(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(y){De(i,i.return,y)}else{var c=Ra(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){De(i,i.return,y)}}l&64&&U0(i),l&512&&Ur(i,i.return);break;case 3:if(Cn(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ed(e,t)}catch(y){De(i,i.return,y)}}break;case 27:t===null&&l&4&&q0(i);case 26:case 5:Cn(e,i),t===null&&l&4&&L0(i),l&512&&Ur(i,i.return);break;case 12:Cn(e,i);break;case 31:Cn(e,i),l&4&&V0(e,i);break;case 13:Cn(e,i),l&4&&K0(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=xb.bind(null,i),Yb(e,i))));break;case 22:if(l=i.memoizedState!==null||kn,!l){t=t!==null&&t.memoizedState!==null||et,c=kn;var f=et;kn=l,(et=t)&&!f?Rn(e,i,(i.subtreeFlags&8772)!==0):Cn(e,i),kn=c,et=f}break;case 30:break;default:Cn(e,i)}}function Y0(e){var t=e.alternate;t!==null&&(e.alternate=null,Y0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Et=!1;function jn(e,t,i){for(i=i.child;i!==null;)G0(e,t,i),i=i.sibling}function G0(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(rr,i)}catch{}switch(i.tag){case 26:et||dn(i,t),jn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:et||dn(i,t);var l=Ve,c=Et;oa(i.type)&&(Ve=i.stateNode,Et=!1),jn(e,t,i),Vr(i.stateNode),Ve=l,Et=c;break;case 5:et||dn(i,t);case 6:if(l=Ve,c=Et,Ve=null,jn(e,t,i),Ve=l,Et=c,Ve!==null)if(Et)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(i.stateNode)}catch(f){De(i,t,f)}else try{Ve.removeChild(i.stateNode)}catch(f){De(i,t,f)}break;case 18:Ve!==null&&(Et?(e=Ve,Um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Di(e)):Um(Ve,i.stateNode));break;case 4:l=Ve,c=Et,Ve=i.stateNode.containerInfo,Et=!0,jn(e,t,i),Ve=l,Et=c;break;case 0:case 11:case 14:case 15:na(2,i,t),et||na(4,i,t),jn(e,t,i);break;case 1:et||(dn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&z0(i,t,l)),jn(e,t,i);break;case 21:jn(e,t,i);break;case 22:et=(l=et)||i.memoizedState!==null,jn(e,t,i),et=l;break;default:jn(e,t,i)}}function V0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Di(e)}catch(i){De(t,t.return,i)}}}function K0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Di(e)}catch(i){De(t,t.return,i)}}function mb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new H0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new H0),t;default:throw Error(s(435,e.tag))}}function gl(e,t){var i=mb(e);t.forEach(function(l){if(!i.has(l)){i.add(l);var c=Sb.bind(null,e,l);l.then(c,c)}})}function At(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(oa(b.type)){Ve=b.stateNode,Et=!1;break e}break;case 5:Ve=b.stateNode,Et=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,Et=!0;break e}b=b.return}if(Ve===null)throw Error(s(160));G0(f,y,c),Ve=null,Et=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)X0(t,e),t=t.sibling}var nn=null;function X0(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Ot(e),l&4&&(na(3,e,e.return),Dr(3,e),na(5,e,e.return));break;case 1:At(t,e),Ot(e),l&512&&(et||i===null||dn(i,i.return)),l&64&&kn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=nn;if(At(t,e),Ot(e),l&512&&(et||i===null||dn(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ur]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),pt(f,l,i),f[dt]=e,st(f),l=f;break e;case"link":var y=Xm("link","href",c).get(l+(i.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(b,1);break t}}f=c.createElement(l),pt(f,l,i),c.head.appendChild(f);break;case"meta":if(y=Xm("meta","content",c).get(l+(i.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(b,1);break t}}f=c.createElement(l),pt(f,l,i),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[dt]=e,st(f),l=f}e.stateNode=l}else Qm(c,e.type,e.stateNode);else e.stateNode=Km(c,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?Qm(c,e.type,e.stateNode):Km(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&cc(e,e.memoizedProps,i.memoizedProps)}break;case 27:At(t,e),Ot(e),l&512&&(et||i===null||dn(i,i.return)),i!==null&&l&4&&cc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(At(t,e),Ot(e),l&512&&(et||i===null||dn(i,i.return)),e.flags&32){c=e.stateNode;try{ai(c,"")}catch(ee){De(e,e.return,ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,cc(e,c,i!==null?i.memoizedProps:c)),l&1024&&(dc=!0);break;case 6:if(At(t,e),Ot(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(ee){De(e,e.return,ee)}}break;case 3:if(Cl=null,c=nn,nn=kl(t.containerInfo),At(t,e),nn=c,Ot(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(ee){De(e,e.return,ee)}dc&&(dc=!1,Q0(e));break;case 4:l=nn,nn=kl(e.stateNode.containerInfo),At(t,e),Ot(e),nn=l;break;case 12:At(t,e),Ot(e);break;case 31:At(t,e),Ot(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gl(e,l)));break;case 13:At(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(pl=Ct()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gl(e,l)));break;case 22:c=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,C=kn,z=et;if(kn=C||c,et=z||S,At(t,e),et=z,kn=C,Ot(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||S||kn||et||Ma(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(f=S.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=S.stateNode;var $=S.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(ee){De(S,S.return,ee)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(ee){De(S,S.return,ee)}}}else if(t.tag===18){if(i===null){S=t;try{var D=S.stateNode;c?zm(D,!0):zm(S.stateNode,!1)}catch(ee){De(S,S.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,gl(e,i))));break;case 19:At(t,e),Ot(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gl(e,l)));break;case 30:break;case 21:break;default:At(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(B0(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,f=fc(e);ml(e,f,c);break;case 5:var y=i.stateNode;i.flags&32&&(ai(y,""),i.flags&=-33);var b=fc(e);ml(e,b,y);break;case 3:case 4:var S=i.stateNode.containerInfo,C=fc(e);hc(e,C,S);break;default:throw Error(s(161))}}catch(z){De(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Q0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$0(e,t.alternate,t),t=t.sibling}function Ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),Ma(t);break;case 1:dn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&z0(t,t.return,i),Ma(t);break;case 27:Vr(t.stateNode);case 26:case 5:dn(t,t.return),Ma(t);break;case 22:t.memoizedState===null&&Ma(t);break;case 30:Ma(t);break;default:Ma(t)}e=e.sibling}}function Rn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Rn(c,f,i),Dr(4,f);break;case 1:if(Rn(c,f,i),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(C){De(l,l.return,C)}if(l=f,c=l.updateQueue,c!==null){var b=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Td(S[c],b)}catch(C){De(l,l.return,C)}}i&&y&64&&U0(f),Ur(f,f.return);break;case 27:q0(f);case 26:case 5:Rn(c,f,i),i&&l===null&&y&4&&L0(f),Ur(f,f.return);break;case 12:Rn(c,f,i);break;case 31:Rn(c,f,i),i&&y&4&&V0(c,f);break;case 13:Rn(c,f,i),i&&y&4&&K0(c,f);break;case 22:f.memoizedState===null&&Rn(c,f,i),Ur(f,f.return);break;case 30:break;default:Rn(c,f,i)}t=t.sibling}}function mc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&wr(i))}function gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e))}function an(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J0(e,t,i,l),t=t.sibling}function J0(e,t,i,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,i,l),c&2048&&Dr(9,t);break;case 1:an(e,t,i,l);break;case 3:an(e,t,i,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e)));break;case 12:if(c&2048){an(e,t,i,l),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){De(t,t.return,S)}}else an(e,t,i,l);break;case 31:an(e,t,i,l);break;case 13:an(e,t,i,l);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?an(e,t,i,l):zr(e,t):f._visibility&2?an(e,t,i,l):(f._visibility|=2,Si(e,t,i,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&mc(y,t);break;case 24:an(e,t,i,l),c&2048&&gc(t.alternate,t);break;default:an(e,t,i,l)}}function Si(e,t,i,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,b=i,S=l,C=y.flags;switch(y.tag){case 0:case 11:case 15:Si(f,y,b,S,c),Dr(8,y);break;case 23:break;case 22:var z=y.stateNode;y.memoizedState!==null?z._visibility&2?Si(f,y,b,S,c):zr(f,y):(z._visibility|=2,Si(f,y,b,S,c)),c&&C&2048&&mc(y.alternate,y);break;case 24:Si(f,y,b,S,c),c&&C&2048&&gc(y.alternate,y);break;default:Si(f,y,b,S,c)}t=t.sibling}}function zr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,c=l.flags;switch(l.tag){case 22:zr(i,l),c&2048&&mc(l.alternate,l);break;case 24:zr(i,l),c&2048&&gc(l.alternate,l);break;default:zr(i,l)}t=t.sibling}}var Lr=8192;function Ti(e,t,i){if(e.subtreeFlags&Lr)for(e=e.child;e!==null;)I0(e,t,i),e=e.sibling}function I0(e,t,i){switch(e.tag){case 26:Ti(e,t,i),e.flags&Lr&&e.memoizedState!==null&&e_(i,nn,e.memoizedState,e.memoizedProps);break;case 5:Ti(e,t,i);break;case 3:case 4:var l=nn;nn=kl(e.stateNode.containerInfo),Ti(e,t,i),nn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Lr,Lr=16777216,Ti(e,t,i),Lr=l):Ti(e,t,i));break;default:Ti(e,t,i)}}function Z0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];lt=l,F0(l,e)}Z0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)W0(e),e=e.sibling}function W0(e){switch(e.tag){case 0:case 11:case 15:Br(e),e.flags&2048&&na(9,e,e.return);break;case 3:Br(e);break;case 12:Br(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yl(e)):Br(e);break;default:Br(e)}}function yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];lt=l,F0(l,e)}Z0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),yl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,yl(t));break;default:yl(t)}e=e.sibling}}function F0(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:na(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wr(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,lt=l;else e:for(i=e;lt!==null;){l=lt;var c=l.sibling,f=l.return;if(Y0(l),l===i){lt=null;break e}if(c!==null){c.return=f,lt=c;break e}lt=f}}}var gb={getCacheForType:function(e){var t=gt(We),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return gt(We).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Be=null,_e=null,xe=0,Me=0,Bt=null,aa=!1,Ei=!1,yc=!1,Mn=0,Xe=0,ia=0,Da=0,pc=0,qt=0,Ai=0,qr=null,Nt=null,vc=!1,pl=0,P0=0,vl=1/0,bl=null,ra=null,nt=0,sa=null,Oi=null,Dn=0,bc=0,_c=null,em=null,Hr=0,wc=null;function Ht(){return(Ce&2)!==0&&xe!==0?xe&-xe:A.T!==null?Oc():yh()}function tm(){if(qt===0)if((xe&536870912)===0||Te){var e=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),qt=e}else qt=536870912;return e=zt.current,e!==null&&(e.flags|=32),qt}function kt(e,t,i){(e===Be&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Ni(e,0),la(e,xe,qt,!1)),lr(e,i),((Ce&2)===0||e!==Be)&&(e===Be&&((Ce&2)===0&&(Da|=i),Xe===4&&la(e,xe,qt,!1)),mn(e))}function nm(e,t,i){if((Ce&6)!==0)throw Error(s(327));var l=!i&&(t&127)===0&&(t&e.expiredLanes)===0||sr(e,t),c=l?bb(e,t):Sc(e,t,!0),f=l;do{if(c===0){Ei&&!l&&la(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!pb(i)){c=Sc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;c=qr;var S=b.current.memoizedState.isDehydrated;if(S&&(Ni(b,y).flags|=256),y=Sc(b,y,!1),y!==2){if(yc&&!S){b.errorRecoveryDisabledLanes|=f,Da|=f,c=4;break e}f=Nt,Nt=c,f!==null&&(Nt===null?Nt=f:Nt.push.apply(Nt,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ni(e,0),la(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:la(l,t,qt,!aa);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=pl+300-Ct(),10<c)){if(la(l,t,qt,!aa),ks(l,0,!0)!==0)break e;Dn=t,l.timeoutHandle=Mm(am.bind(null,l,i,Nt,bl,vc,t,qt,Da,Ai,aa,f,"Throttled",-0,0),c);break e}am(l,i,Nt,bl,vc,t,qt,Da,Ai,aa,f,null,-0,0)}}break}while(!0);mn(e)}function am(e,t,i,l,c,f,y,b,S,C,z,$,R,D){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},I0(t,f,$);var ee=(f&62914560)===f?pl-Ct():(f&4194048)===f?P0-Ct():0;if(ee=t_($,ee),ee!==null){Dn=f,e.cancelPendingCommit=ee(fm.bind(null,e,t,f,i,l,c,y,b,S,z,$,null,R,D)),la(e,f,y,!C);return}}fm(e,t,f,i,l,c,y,b,S)}function pb(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Dt(f(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t,i,l){t&=~pc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-Mt(c),y=1<<f;l[f]=-1,c&=~y}i!==0&&dh(e,i,t)}function _l(){return(Ce&6)===0?($r(0),!1):!0}function xc(){if(_e!==null){if(Me===0)var e=_e.return;else e=_e,Sn=Ea=null,Bo(e),vi=null,Sr=0,e=_e;for(;e!==null;)D0(e.alternate,e),e=e.return;_e=null}}function Ni(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Lb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Dn=0,xc(),Be=e,_e=i=wn(e.current,null),xe=t,Me=0,Bt=null,aa=!1,Ei=sr(e,t),yc=!1,Ai=qt=pc=Da=ia=Xe=0,Nt=qr=null,vc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Mt(l),f=1<<c;t|=e[c],l&=~f}return Mn=t,$s(),i}function im(e,t){ge=null,A.H=Cr,t===pi||t===Is?(t=_d(),Me=3):t===Ao?(t=_d(),Me=4):Me=t===ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,_e===null&&(Xe=1,ol(e,Qt(t,e.current)))}function rm(){var e=zt.current;return e===null?!0:(xe&4194048)===xe?Wt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Wt:!1}function sm(){var e=A.H;return A.H=Cr,e===null?Cr:e}function lm(){var e=A.A;return A.A=gb,e}function wl(){Xe=4,aa||(xe&4194048)!==xe&&zt.current!==null||(Ei=!0),(ia&134217727)===0&&(Da&134217727)===0||Be===null||la(Be,xe,qt,!1)}function Sc(e,t,i){var l=Ce;Ce|=2;var c=sm(),f=lm();(Be!==e||xe!==t)&&(bl=null,Ni(e,t)),t=!1;var y=Xe;e:do try{if(Me!==0&&_e!==null){var b=_e,S=Bt;switch(Me){case 8:xc(),y=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var C=Me;if(Me=0,Bt=null,ki(e,b,S,C),i&&Ei){y=0;break e}break;default:C=Me,Me=0,Bt=null,ki(e,b,S,C)}}vb(),y=Xe;break}catch(z){im(e,z)}while(!0);return t&&e.shellSuspendCounter++,Sn=Ea=null,Ce=l,A.H=c,A.A=f,_e===null&&(Be=null,xe=0,$s()),y}function vb(){for(;_e!==null;)um(_e)}function bb(e,t){var i=Ce;Ce|=2;var l=sm(),c=lm();Be!==e||xe!==t?(bl=null,vl=Ct()+500,Ni(e,t)):Ei=sr(e,t);e:do try{if(Me!==0&&_e!==null){t=_e;var f=Bt;t:switch(Me){case 1:Me=0,Bt=null,ki(e,t,f,1);break;case 2:case 9:if(vd(f)){Me=0,Bt=null,om(t);break}t=function(){Me!==2&&Me!==9||Be!==e||(Me=7),mn(e)},f.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:vd(f)?(Me=0,Bt=null,om(t)):(Me=0,Bt=null,ki(e,t,f,7));break;case 5:var y=null;switch(_e.tag){case 26:y=_e.memoizedState;case 5:case 27:var b=_e;if(y?Jm(y):b.stateNode.complete){Me=0,Bt=null;var S=b.sibling;if(S!==null)_e=S;else{var C=b.return;C!==null?(_e=C,xl(C)):_e=null}break t}}Me=0,Bt=null,ki(e,t,f,5);break;case 6:Me=0,Bt=null,ki(e,t,f,6);break;case 8:xc(),Xe=6;break e;default:throw Error(s(462))}}_b();break}catch(z){im(e,z)}while(!0);return Sn=Ea=null,A.H=l,A.A=c,Ce=i,_e!==null?0:(Be=null,xe=0,$s(),Xe)}function _b(){for(;_e!==null&&!Gp();)um(_e)}function um(e){var t=R0(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?xl(e):_e=t}function om(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=A0(i,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=A0(i,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Bo(t);default:D0(i,t),t=_e=ld(t,Mn),t=R0(i,t,Mn)}e.memoizedProps=e.pendingProps,t===null?xl(e):_e=t}function ki(e,t,i,l){Sn=Ea=null,Bo(t),vi=null,Sr=0;var c=t.return;try{if(ub(e,c,t,i,xe)){Xe=1,ol(e,Qt(i,e.current)),_e=null;return}}catch(f){if(c!==null)throw _e=c,f;Xe=1,ol(e,Qt(i,e.current)),_e=null;return}t.flags&32768?(Te||l===1?e=!0:Ei||(xe&536870912)!==0?e=!1:(aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),cm(t,e)):xl(t)}function xl(e){var t=e;do{if((t.flags&32768)!==0){cm(t,aa);return}e=t.return;var i=fb(t.alternate,t,Mn);if(i!==null){_e=i;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Xe===0&&(Xe=5)}function cm(e,t){do{var i=hb(e.alternate,e);if(i!==null){i.flags&=32767,_e=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=i}while(e!==null);Xe=6,_e=null}function fm(e,t,i,l,c,f,y,b,S){e.cancelPendingCommit=null;do Sl();while(nt!==0);if((Ce&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=co,Pp(e,i,f,y,b,S),e===Be&&(_e=Be=null,xe=0),Oi=t,sa=e,Dn=i,bc=f,_c=c,em=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tb(Es,function(){return ym(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,c=G.p,G.p=2,y=Ce,Ce|=4;try{db(e,t,i)}finally{Ce=y,G.p=c,A.T=l}}nt=1,hm(),dm(),mm()}}function hm(){if(nt===1){nt=0;var e=sa,t=Oi,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=A.T,A.T=null;var l=G.p;G.p=2;var c=Ce;Ce|=4;try{X0(t,e);var f=Uc,y=Fh(e.containerInfo),b=f.focusedElem,S=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Wh(b.ownerDocument.documentElement,b)){if(S!==null&&ro(b)){var C=S.start,z=S.end;if(z===void 0&&(z=C),"selectionStart"in b)b.selectionStart=C,b.selectionEnd=Math.min(z,b.value.length);else{var $=b.ownerDocument||document,R=$&&$.defaultView||window;if(R.getSelection){var D=R.getSelection(),ee=b.textContent.length,se=Math.min(S.start,ee),Le=S.end===void 0?se:Math.min(S.end,ee);!D.extend&&se>Le&&(y=Le,Le=se,se=y);var N=Zh(b,se),E=Zh(b,Le);if(N&&E&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var j=$.createRange();j.setStart(N.node,N.offset),D.removeAllRanges(),se>Le?(D.addRange(j),D.extend(E.node,E.offset)):(j.setEnd(E.node,E.offset),D.addRange(j))}}}}for($=[],D=b;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var B=$[b];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Ul=!!Dc,Uc=Dc=null}finally{Ce=c,G.p=l,A.T=i}}e.current=t,nt=2}}function dm(){if(nt===2){nt=0;var e=sa,t=Oi,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=A.T,A.T=null;var l=G.p;G.p=2;var c=Ce;Ce|=4;try{$0(e,t.alternate,t)}finally{Ce=c,G.p=l,A.T=i}}nt=3}}function mm(){if(nt===4||nt===3){nt=0,Vp();var e=sa,t=Oi,i=Dn,l=em;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Oi=sa=null,gm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ra=null),Hu(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(rr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=A.T,c=G.p,G.p=2,A.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];f(b.value,{componentStack:b.stack})}}finally{A.T=t,G.p=c}}(Dn&3)!==0&&Sl(),mn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===wc?Hr++:(Hr=0,wc=e):Hr=0,$r(0)}}function gm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wr(t)))}function Sl(){return hm(),dm(),mm(),ym()}function ym(){if(nt!==5)return!1;var e=sa,t=bc;bc=0;var i=Hu(Dn),l=A.T,c=G.p;try{G.p=32>i?32:i,A.T=null,i=_c,_c=null;var f=sa,y=Dn;if(nt=0,Oi=sa=null,Dn=0,(Ce&6)!==0)throw Error(s(331));var b=Ce;if(Ce|=4,W0(f.current),J0(f,f.current,y,i),Ce=b,$r(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(rr,f)}catch{}return!0}finally{G.p=c,A.T=l,gm(e,t)}}function pm(e,t,i){t=Qt(i,t),t=Po(e.stateNode,t,2),e=Pn(e,t,2),e!==null&&(lr(e,2),mn(e))}function De(e,t,i){if(e.tag===3)pm(e,e,i);else for(;t!==null;){if(t.tag===3){pm(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){e=Qt(i,e),i=v0(2),l=Pn(t,i,2),l!==null&&(b0(i,l,t,e),lr(l,2),mn(l));break}}t=t.return}}function Tc(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new yb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(i)||(yc=!0,c.add(i),e=wb.bind(null,e,t,i),t.then(e,e))}function wb(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Be===e&&(xe&i)===i&&(Xe===4||Xe===3&&(xe&62914560)===xe&&300>Ct()-pl?(Ce&2)===0&&Ni(e,0):pc|=i,Ai===xe&&(Ai=0)),mn(e)}function vm(e,t){t===0&&(t=hh()),e=xa(e,t),e!==null&&(lr(e,t),mn(e))}function xb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),vm(e,i)}function Sb(e,t){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),vm(e,i)}function Tb(e,t){return zu(e,t)}var Tl=null,ji=null,Ec=!1,El=!1,Ac=!1,ua=0;function mn(e){e!==ji&&e.next===null&&(ji===null?Tl=ji=e:ji=ji.next=e),El=!0,Ec||(Ec=!0,Ab())}function $r(e,t){if(!Ac&&El){Ac=!0;do for(var i=!1,l=Tl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=c&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,xm(l,f))}else f=xe,f=ks(l,l===Be?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||sr(l,f)||(i=!0,xm(l,f));l=l.next}while(i);Ac=!1}}function Eb(){bm()}function bm(){El=Ec=!1;var e=0;ua!==0&&zb()&&(e=ua);for(var t=Ct(),i=null,l=Tl;l!==null;){var c=l.next,f=_m(l,t);f===0?(l.next=null,i===null?Tl=c:i.next=c,c===null&&(ji=i)):(i=l,(e!==0||(f&3)!==0)&&(El=!0)),l=c}nt!==0&&nt!==5||$r(e),ua!==0&&(ua=0)}function _m(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Mt(f),b=1<<y,S=c[y];S===-1?((b&i)===0||(b&l)!==0)&&(c[y]=Fp(b,t)):S<=t&&(e.expiredLanes|=b),f&=~b}if(t=Be,i=xe,i=ks(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Lu(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||sr(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&Lu(l),Hu(i)){case 2:case 8:i=ch;break;case 32:i=Es;break;case 268435456:i=fh;break;default:i=Es}return l=wm.bind(null,e),i=zu(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&Lu(l),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Sl()&&e.callbackNode!==i)return null;var l=xe;return l=ks(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nm(e,l,t),_m(e,Ct()),e.callbackNode!=null&&e.callbackNode===i?wm.bind(null,e):null)}function xm(e,t){if(Sl())return null;nm(e,t,!0)}function Ab(){Bb(function(){(Ce&6)!==0?zu(oh,Eb):bm()})}function Oc(){if(ua===0){var e=gi;e===0&&(e=As,As<<=1,(As&261888)===0&&(As=256)),ua=e}return ua}function Sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function Tm(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Ob(e,t,i,l,c){if(t==="submit"&&i&&i.stateNode===c){var f=Sm((c[St]||null).action),y=l.submitter;y&&(t=(t=y[St]||null)?Sm(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var b=new Ls("action","action",null,l,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var S=y?Tm(c,y):new FormData(c);Qo(i,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(b.preventDefault(),S=y?Tm(c,y):new FormData(c),Qo(i,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Nc=0;Nc<oo.length;Nc++){var kc=oo[Nc],Nb=kc.toLowerCase(),kb=kc[0].toUpperCase()+kc.slice(1);tn(Nb,"on"+kb)}tn(td,"onAnimationEnd"),tn(nd,"onAnimationIteration"),tn(ad,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Kv,"onTransitionRun"),tn(Xv,"onTransitionStart"),tn(Qv,"onTransitionCancel"),tn(id,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yr));function Em(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var y=l.length-1;0<=y;y--){var b=l[y],S=b.instance,C=b.currentTarget;if(b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=C;try{f(c)}catch(z){Hs(z)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(b=l[y],S=b.instance,C=b.currentTarget,b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=C;try{f(c)}catch(z){Hs(z)}c.currentTarget=null,f=S}}}}function we(e,t){var i=t[$u];i===void 0&&(i=t[$u]=new Set);var l=e+"__bubble";i.has(l)||(Am(t,e,2,!1),i.add(l))}function jc(e,t,i){var l=0;t&&(l|=4),Am(i,e,l,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Al]){e[Al]=!0,bh.forEach(function(i){i!=="selectionchange"&&(jb.has(i)||jc(i,!1,e),jc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,jc("selectionchange",!1,t))}}function Am(e,t,i,l){switch(tg(t)){case 2:var c=i_;break;case 8:c=r_;break;default:c=Xc}i=c.bind(null,t,i,e),c=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Rc(e,t,i,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=Fa(b),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue e}b=b.parentNode}}l=l.return}Ch(function(){var C=f,z=Ju(i),$=[];e:{var R=rd.get(e);if(R!==void 0){var D=Ls,ee=e;switch(e){case"keypress":if(Us(i)===0)break e;case"keydown":case"keyup":D=Sv;break;case"focusin":ee="focus",D=eo;break;case"focusout":ee="blur",D=eo;break;case"beforeblur":case"afterblur":D=eo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Av;break;case td:case nd:case ad:D=mv;break;case id:D=Nv;break;case"scroll":case"scrollend":D=ov;break;case"wheel":D=jv;break;case"copy":case"cut":case"paste":D=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=zh;break;case"toggle":case"beforetoggle":D=Rv}var se=(t&4)!==0,Le=!se&&(e==="scroll"||e==="scrollend"),N=se?R!==null?R+"Capture":null:R;se=[];for(var E=C,j;E!==null;){var B=E;if(j=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||j===null||N===null||(B=cr(E,N),B!=null&&se.push(Gr(E,B,j))),Le)break;E=E.return}0<se.length&&(R=new D(R,ee,null,i,z),$.push({event:R,listeners:se}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==Qu&&(ee=i.relatedTarget||i.fromElement)&&(Fa(ee)||ee[Wa]))break e;if((D||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,D?(ee=i.relatedTarget||i.toElement,D=C,ee=ee?Fa(ee):null,ee!==null&&(Le=o(ee),se=ee.tag,ee!==Le||se!==5&&se!==27&&se!==6)&&(ee=null)):(D=null,ee=C),D!==ee)){if(se=Dh,B="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=zh,B="onPointerLeave",N="onPointerEnter",E="pointer"),Le=D==null?R:or(D),j=ee==null?R:or(ee),R=new se(B,E+"leave",D,i,z),R.target=Le,R.relatedTarget=j,B=null,Fa(z)===C&&(se=new se(N,E+"enter",ee,i,z),se.target=j,se.relatedTarget=Le,B=se),Le=B,D&&ee)t:{for(se=Cb,N=D,E=ee,j=0,B=N;B;B=se(B))j++;B=0;for(var ie=E;ie;ie=se(ie))B++;for(;0<j-B;)N=se(N),j--;for(;0<B-j;)E=se(E),B--;for(;j--;){if(N===E||E!==null&&N===E.alternate){se=N;break t}N=se(N),E=se(E)}se=null}else se=null;D!==null&&Om($,R,D,se,!1),ee!==null&&Le!==null&&Om($,Le,ee,se,!0)}}e:{if(R=C?or(C):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var Oe=Vh;else if(Yh(R))if(Kh)Oe=Yv;else{Oe=Hv;var ne=qv}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?C&&Xu(C.elementType)&&(Oe=Vh):Oe=$v;if(Oe&&(Oe=Oe(e,C))){Gh($,Oe,i,z);break e}ne&&ne(e,R,C),e==="focusout"&&C&&R.type==="number"&&C.memoizedProps.value!=null&&Ku(R,"number",R.value)}switch(ne=C?or(C):window,e){case"focusin":(Yh(ne)||ne.contentEditable==="true")&&(li=ne,so=C,vr=null);break;case"focusout":vr=so=li=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Ph($,i,z);break;case"selectionchange":if(Vv)break;case"keydown":case"keyup":Ph($,i,z)}var ye;if(no)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else si?Hh(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(Lh&&i.locale!=="ko"&&(si||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&si&&(ye=Rh()):(Xn=z,Wu="value"in Xn?Xn.value:Xn.textContent,si=!0)),ne=Ol(C,Se),0<ne.length&&(Se=new Uh(Se,e,null,i,z),$.push({event:Se,listeners:ne}),ye?Se.data=ye:(ye=$h(i),ye!==null&&(Se.data=ye)))),(ye=Dv?Uv(e,i):zv(e,i))&&(Se=Ol(C,"onBeforeInput"),0<Se.length&&(ne=new Uh("onBeforeInput","beforeinput",null,i,z),$.push({event:ne,listeners:Se}),ne.data=ye)),Ob($,e,C,i,z)}Em($,t)})}function Gr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ol(e,t){for(var i=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=cr(e,i),c!=null&&l.unshift(Gr(e,c,f)),c=cr(e,t),c!=null&&l.push(Gr(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Cb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,t,i,l,c){for(var f=t._reactName,y=[];i!==null&&i!==l;){var b=i,S=b.alternate,C=b.stateNode;if(b=b.tag,S!==null&&S===l)break;b!==5&&b!==26&&b!==27||C===null||(S=C,c?(C=cr(i,f),C!=null&&y.unshift(Gr(i,C,S))):c||(C=cr(i,f),C!=null&&y.push(Gr(i,C,S)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var Rb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(Mb,"")}function km(e,t){return t=Nm(t),Nm(e)===t}function ze(e,t,i,l,c,f){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ai(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ai(e,""+l);break;case"className":Cs(e,"class",l);break;case"tabIndex":Cs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,i,l);break;case"style":kh(e,l,f);break;case"data":if(t!=="object"){Cs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ms(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&ze(e,t,"name",c.name,c,null),ze(e,t,"formEncType",c.formEncType,c,null),ze(e,t,"formMethod",c.formMethod,c,null),ze(e,t,"formTarget",c.formTarget,c,null)):(ze(e,t,"encType",c.encType,c,null),ze(e,t,"method",c.method,c,null),ze(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ms(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=bn);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Ms(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":we("beforetoggle",e),we("toggle",e),js(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=lv.get(i)||i,js(e,i,l))}}function Mc(e,t,i,l,c,f){switch(i){case"style":kh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?ai(e,l):(typeof l=="number"||typeof l=="bigint")&&ai(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_h.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),f=e[St]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):js(e,i,l)}}}function pt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var y=i[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ze(e,t,f,y,i,null)}}c&&ze(e,t,"srcSet",i.srcSet,i,null),l&&ze(e,t,"src",i.src,i,null);return;case"input":we("invalid",e);var b=f=y=c=null,S=null,C=null;for(l in i)if(i.hasOwnProperty(l)){var z=i[l];if(z!=null)switch(l){case"name":c=z;break;case"type":y=z;break;case"checked":S=z;break;case"defaultChecked":C=z;break;case"value":f=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:ze(e,t,l,z,i,null)}}Eh(e,f,b,S,C,y,c,!1);return;case"select":we("invalid",e),l=y=f=null;for(c in i)if(i.hasOwnProperty(c)&&(b=i[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:ze(e,t,c,b,i,null)}t=f,i=y,e.multiple=!!l,t!=null?ni(e,!!l,t,!1):i!=null&&ni(e,!!l,i,!0);return;case"textarea":we("invalid",e),f=c=l=null;for(y in i)if(i.hasOwnProperty(y)&&(b=i[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ze(e,t,y,b,i,null)}Oh(e,l,c,f);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(l=i[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ze(e,t,S,l,i,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<Yr.length;l++)we(Yr[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ze(e,t,C,l,i,null)}return;default:if(Xu(t)){for(z in i)i.hasOwnProperty(z)&&(l=i[z],l!==void 0&&Mc(e,t,z,l,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(l=i[b],l!=null&&ze(e,t,b,l,i,null))}function Db(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,b=null,S=null,C=null,z=null;for(D in i){var $=i[D];if(i.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=$;default:l.hasOwnProperty(D)||ze(e,t,D,null,l,$)}}for(var R in l){var D=l[R];if($=i[R],l.hasOwnProperty(R)&&(D!=null||$!=null))switch(R){case"type":f=D;break;case"name":c=D;break;case"checked":C=D;break;case"defaultChecked":z=D;break;case"value":y=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:D!==$&&ze(e,t,R,D,l,$)}}Vu(e,y,b,S,C,z,f,c);return;case"select":D=y=b=R=null;for(f in i)if(S=i[f],i.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":D=S;default:l.hasOwnProperty(f)||ze(e,t,f,null,l,S)}for(c in l)if(f=l[c],S=i[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":R=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==S&&ze(e,t,c,f,l,S)}t=b,i=y,l=D,R!=null?ni(e,!!i,R,!1):!!l!=!!i&&(t!=null?ni(e,!!i,t,!0):ni(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(b in i)if(c=i[b],i.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,t,b,null,l,c)}for(y in l)if(c=l[y],f=i[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":R=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&ze(e,t,y,c,l,f)}Ah(e,R,D);return;case"option":for(var ee in i)if(R=i[ee],i.hasOwnProperty(ee)&&R!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:ze(e,t,ee,null,l,R)}for(S in l)if(R=l[S],D=i[S],l.hasOwnProperty(S)&&R!==D&&(R!=null||D!=null))switch(S){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:ze(e,t,S,R,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in i)R=i[se],i.hasOwnProperty(se)&&R!=null&&!l.hasOwnProperty(se)&&ze(e,t,se,null,l,R);for(C in l)if(R=l[C],D=i[C],l.hasOwnProperty(C)&&R!==D&&(R!=null||D!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:ze(e,t,C,R,l,D)}return;default:if(Xu(t)){for(var Le in i)R=i[Le],i.hasOwnProperty(Le)&&R!==void 0&&!l.hasOwnProperty(Le)&&Mc(e,t,Le,void 0,l,R);for(z in l)R=l[z],D=i[z],!l.hasOwnProperty(z)||R===D||R===void 0&&D===void 0||Mc(e,t,z,R,l,D);return}}for(var N in i)R=i[N],i.hasOwnProperty(N)&&R!=null&&!l.hasOwnProperty(N)&&ze(e,t,N,null,l,R);for($ in l)R=l[$],D=i[$],!l.hasOwnProperty($)||R===D||R==null&&D==null||ze(e,t,$,R,l,D)}function jm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var c=i[l],f=c.transferSize,y=c.initiatorType,b=c.duration;if(f&&b&&jm(y)){for(y=0,b=c.responseEnd,l+=1;l<i.length;l++){var S=i[l],C=S.startTime;if(C>b)break;var z=S.transferSize,$=S.initiatorType;z&&jm($)&&(S=S.responseEnd,y+=z*(S<b?1:(b-C)/(S-C)))}if(--l,t+=8*(f+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dc=null,Uc=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function Cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lc=null;function zb(){var e=window.event;return e&&e.type==="popstate"?e===Lc?!1:(Lc=e,!0):(Lc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(qb)}:Mm;function qb(e){setTimeout(function(){throw e})}function oa(e){return e==="head"}function Um(e,t){var i=t,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(c),Di(t);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Vr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Vr(i);for(var f=i.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[ur]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=y}}else i==="body"&&Vr(e.ownerDocument.body);i=c}while(i);Di(t)}function zm(e,t){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function Bc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Bc(i),Yu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Hb(e,t,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function $b(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Lm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function qc(e){return e.data==="$?"||e.data==="$~"}function Hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $c=null;function Bm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ft(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Hm(e,t,i){switch(t=Nl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yu(e)}var Pt=new Map,$m=new Set;function kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=G.d;G.d={f:Gb,r:Vb,D:Kb,C:Xb,L:Qb,m:Jb,X:Zb,S:Ib,M:Wb};function Gb(){var e=Un.f(),t=_l();return e||t}function Vb(e){var t=Pa(e);t!==null&&t.tag===5&&t.type==="form"?i0(t):Un.r(e)}var Ci=typeof document>"u"?null:document;function Ym(e,t,i){var l=Ci;if(l&&typeof t=="string"&&t){var c=Kt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),$m.has(c)||($m.add(c),e={rel:e,crossOrigin:i,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),pt(t,"link",e),st(t),l.head.appendChild(t)))}}function Kb(e){Un.D(e),Ym("dns-prefetch",e,null)}function Xb(e,t){Un.C(e,t),Ym("preconnect",e,t)}function Qb(e,t,i){Un.L(e,t,i);var l=Ci;if(l&&e&&t){var c='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Kt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Kt(i.imageSizes)+'"]')):c+='[href="'+Kt(e)+'"]';var f=c;switch(t){case"style":f=Ri(e);break;case"script":f=Mi(e)}Pt.has(f)||(e=_({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Kr(f))||t==="script"&&l.querySelector(Xr(f))||(t=l.createElement("link"),pt(t,"link",e),st(t),l.head.appendChild(t)))}}function Jb(e,t){Un.m(e,t);var i=Ci;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Mi(e)}if(!Pt.has(f)&&(e=_({rel:"modulepreload",href:e},t),Pt.set(f,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xr(f)))return}l=i.createElement("link"),pt(l,"link",e),st(l),i.head.appendChild(l)}}}function Ib(e,t,i){Un.S(e,t,i);var l=Ci;if(l&&e){var c=ei(l).hoistableStyles,f=Ri(e);t=t||"default";var y=c.get(f);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(Kr(f)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(f))&&Yc(e,i);var S=y=l.createElement("link");st(S),pt(S,"link",e),S._p=new Promise(function(C,z){S.onload=C,S.onerror=z}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jl(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(f,y)}}}function Zb(e,t){Un.X(e,t);var i=Ci;if(i&&e){var l=ei(i).hoistableScripts,c=Mi(e),f=l.get(c);f||(f=i.querySelector(Xr(c)),f||(e=_({src:e,async:!0},t),(t=Pt.get(c))&&Gc(e,t),f=i.createElement("script"),st(f),pt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Wb(e,t){Un.M(e,t);var i=Ci;if(i&&e){var l=ei(i).hoistableScripts,c=Mi(e),f=l.get(c);f||(f=i.querySelector(Xr(c)),f||(e=_({src:e,async:!0,type:"module"},t),(t=Pt.get(c))&&Gc(e,t),f=i.createElement("script"),st(f),pt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gm(e,t,i,l){var c=(c=de.current)?kl(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ri(i.href),i=ei(c).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ri(i.href);var f=ei(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(Kr(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),f||Fb(c,e,i,y.state))),t&&l===null)throw Error(s(528,""));return y}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Mi(i),i=ei(c).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ri(e){return'href="'+Kt(e)+'"'}function Kr(e){return'link[rel="stylesheet"]['+e+"]"}function Vm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Fb(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",i),st(t),e.head.appendChild(t))}function Mi(e){return'[src="'+Kt(e)+'"]'}function Xr(e){return"script[async]"+e}function Km(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(i.href)+'"]');if(l)return t.instance=l,st(l),l;var c=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),pt(l,"style",c),jl(l,i.precedence,e),t.instance=l;case"stylesheet":c=Ri(i.href);var f=e.querySelector(Kr(c));if(f)return t.state.loading|=4,t.instance=f,st(f),f;l=Vm(i),(c=Pt.get(c))&&Yc(l,c),f=(e.ownerDocument||e).createElement("link"),st(f);var y=f;return y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),pt(f,"link",l),t.state.loading|=4,jl(f,i.precedence,e),t.instance=f;case"script":return f=Mi(i.src),(c=e.querySelector(Xr(f)))?(t.instance=c,st(c),c):(l=i,(c=Pt.get(f))&&(l=_({},i),Gc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),st(c),pt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,jl(l,i.precedence,e));return t.instance}function jl(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cl=null;function Xm(e,t,i){if(Cl===null){var l=new Map,c=Cl=new Map;c.set(i,l)}else c=Cl,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[ur]||f[dt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var b=l.get(y);b?b.push(f):l.set(y,[f])}}return l}function Qm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Pb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function e_(e,t,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Ri(l.href),f=t.querySelector(Kr(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,st(f);return}f=t.ownerDocument||t,l=Vm(l),(c=Pt.get(c))&&Yc(l,c),f=f.createElement("link"),st(f);var y=f;y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),pt(f,"link",l),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Rl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Vc=0;function t_(e,t){return e.stylesheets&&e.count===0&&Dl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&Dl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Vc===0&&(Vc=62500*Ub());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Vc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function Dl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,t.forEach(n_,e),Ml=null,Rl.call(e))}function n_(e,t){if(!(t.state.loading&4)){var i=Ml.get(e);if(i)var l=i.get(null);else{i=new Map,Ml.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),l=y)}l&&i.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),f=i.get(y)||l,f===l&&i.set(null,c),i.set(y,c),this.count++,l=Rl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Qr={$$typeof:L,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function a_(e,t,i,l,c,f,y,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.hiddenUpdates=Bu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Im(e,t,i,l,c,f,y,b,S,C,z,$){return e=new a_(e,t,i,y,S,C,z,$,b),t=1,f===!0&&(t|=24),f=Ut(3,null,null,t),e.current=f,f.stateNode=e,t=So(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:t},Oo(f),e}function Zm(e){return e?(e=ci,e):ci}function Wm(e,t,i,l,c,f){c=Zm(c),l.context===null?l.context=c:l.pendingContext=c,l=Fn(t),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Pn(e,l,t),i!==null&&(kt(i,e,t),Er(i,e,t))}function Fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Kc(e,t){Fm(e,t),(e=e.alternate)&&Fm(e,t)}function Pm(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&kt(t,e,67108864),Kc(e,67108864)}}function eg(e){if(e.tag===13||e.tag===31){var t=Ht();t=qu(t);var i=xa(e,t);i!==null&&kt(i,e,t),Kc(e,t)}}var Ul=!0;function i_(e,t,i,l){var c=A.T;A.T=null;var f=G.p;try{G.p=2,Xc(e,t,i,l)}finally{G.p=f,A.T=c}}function r_(e,t,i,l){var c=A.T;A.T=null;var f=G.p;try{G.p=8,Xc(e,t,i,l)}finally{G.p=f,A.T=c}}function Xc(e,t,i,l){if(Ul){var c=Qc(l);if(c===null)Rc(e,t,l,zl,i),ng(e,l);else if(l_(c,e,t,i,l))l.stopPropagation();else if(ng(e,l),t&4&&-1<s_.indexOf(e)){for(;c!==null;){var f=Pa(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=pa(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var S=1<<31-Mt(y);b.entanglements[1]|=S,y&=~S}mn(f),(Ce&6)===0&&(vl=Ct()+500,$r(0))}}break;case 31:case 13:b=xa(f,2),b!==null&&kt(b,f,2),_l(),Kc(f,2)}if(f=Qc(l),f===null&&Rc(e,t,l,zl,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else Rc(e,t,l,null,i)}}function Qc(e){return e=Ju(e),Jc(e)}var zl=null;function Jc(e){if(zl=null,e=Fa(e),e!==null){var t=o(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zl=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kp()){case oh:return 2;case ch:return 8;case Es:case Xp:return 32;case fh:return 268435456;default:return 32}default:return 32}}var Ic=!1,ca=null,fa=null,ha=null,Jr=new Map,Ir=new Map,da=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function Zr(e,t,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Pa(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function l_(e,t,i,l,c){switch(t){case"focusin":return ca=Zr(ca,e,t,i,l,c),!0;case"dragenter":return fa=Zr(fa,e,t,i,l,c),!0;case"mouseover":return ha=Zr(ha,e,t,i,l,c),!0;case"pointerover":var f=c.pointerId;return Jr.set(f,Zr(Jr.get(f)||null,e,t,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ir.set(f,Zr(Ir.get(f)||null,e,t,i,l,c)),!0}return!1}function ag(e){var t=Fa(e.target);if(t!==null){var i=o(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,ph(e.priority,function(){eg(i)});return}}else if(t===31){if(t=d(i),t!==null){e.blockedOn=t,ph(e.priority,function(){eg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qc(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Qu=l,i.target.dispatchEvent(l),Qu=null}else return t=Pa(i),t!==null&&Pm(t),e.blockedOn=i,!1;t.shift()}return!0}function ig(e,t,i){Ll(e)&&i.delete(t)}function u_(){Ic=!1,ca!==null&&Ll(ca)&&(ca=null),fa!==null&&Ll(fa)&&(fa=null),ha!==null&&Ll(ha)&&(ha=null),Jr.forEach(ig),Ir.forEach(ig)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,u_)))}var ql=null;function rg(e){ql!==e&&(ql=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ql===e&&(ql=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Jc(l||i)===null)continue;break}var f=Pa(i);f!==null&&(e.splice(t,3),t-=3,Qo(f,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function Di(e){function t(S){return Bl(S,e)}ca!==null&&Bl(ca,e),fa!==null&&Bl(fa,e),ha!==null&&Bl(ha,e),Jr.forEach(t),Ir.forEach(t);for(var i=0;i<da.length;i++){var l=da[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<da.length&&(i=da[0],i.blockedOn===null);)ag(i),i.blockedOn===null&&da.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],f=i[l+1],y=c[St]||null;if(typeof f=="function")y||rg(i);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[St]||null)b=y.formAction;else if(Jc(c)!==null)continue}else b=y.action;typeof b=="function"?i[l+1]=b:(i.splice(l,3),l-=3),rg(i)}}}function sg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Zc(e){this._internalRoot=e}Hl.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,l=Ht();Wm(i,l,e,t,null,null)},Hl.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wm(e.current,2,null,e,null,null),_l(),t[Wa]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<da.length&&t!==0&&t<da[i].priority;i++);da.splice(i,0,e),i===0&&ag(e)}};var lg=n.version;if(lg!=="19.2.4")throw Error(s(527,lg,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var o_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{rr=$l.inject(o_),Rt=$l}catch{}}return Fr.createRoot=function(e,t){if(!u(e))throw Error(s(299));var i=!1,l="",c=m0,f=g0,y=y0;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Im(e,1,!1,null,null,i,l,null,c,f,y,sg),e[Wa]=t.current,Cc(e),new Zc(t)},Fr.hydrateRoot=function(e,t,i){if(!u(e))throw Error(s(299));var l=!1,c="",f=m0,y=g0,b=y0,S=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=Im(e,1,!0,t,i??null,l,c,S,f,y,b,sg),t.context=Zm(null),i=t.current,l=Ht(),l=qu(l),c=Fn(l),c.callback=null,Pn(i,c,l),i=l,t.current.lanes=i,lr(t,i),mn(t),e[Wa]=t.current,Cc(e),new Hl(t)},Fr.version="19.2.4",Fr}var pg;function b_(){if(pg)return Pc.exports;pg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Pc.exports=v_(),Pc.exports}var __=b_();const w_=ky(__);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=(...a)=>a.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,s)=>s?s.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=a=>{const n=S_(a);return n.charAt(0).toUpperCase()+n.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=pe.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:u="",children:o,iconNode:h,...d},m)=>pe.createElement("svg",{ref:m,...T_,width:n,height:n,stroke:a,strokeWidth:s?Number(r)*24/Number(n):r,className:jy("lucide",u),...!o&&!E_(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,p])=>pe.createElement(g,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(a,n)=>{const r=pe.forwardRef(({className:s,...u},o)=>pe.createElement(A_,{ref:o,iconNode:n,className:jy(`lucide-${x_(vg(a))}`,`lucide-${a}`,s),...u}));return r.displayName=vg(a),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N_=qe("arrow-right",O_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bg=qe("bell",k_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],iu=qe("building",j_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$a=qe("calendar",C_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],M_=qe("check",R_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cy=qe("circle-alert",D_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z_=qe("circle-check-big",U_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B_=qe("circle-check",L_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],H_=qe("circle-plus",q_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y_=qe("clock",$_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Yl=qe("house",G_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K_=qe("info",V_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ry=qe("loader-circle",X_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],J_=qe("lock",Q_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_g=qe("log-out",I_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W_=qe("mail",Z_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],P_=qe("map-pin",F_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tw=qe("pen",ew);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aw=qe("plus",nw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rw=qe("send",iw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ru=qe("settings",sw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uw=qe("trash-2",lw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wg=qe("trending-up",ow);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fw=qe("upload",cw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dw=qe("user",hw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],su=qe("users",mw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yw=qe("x",gw);var Xi=(a=>(a.ADMIN="ADMIN",a.RESIDENT="RESIDENT",a))(Xi||{}),Ya=(a=>(a.CONFIRMED="CONFIRMED",a.CANCELLED="CANCELLED",a.COMPLETED="COMPLETED",a))(Ya||{});const vt=it.memo(({page:a,icon:n,label:r,currentPage:s,onNavigate:u})=>{const o=s===a;return v.jsxs("button",{onClick:()=>u(a),className:`flex flex-col md:flex-row items-center md:gap-3 p-2 md:px-4 md:py-2.5 rounded-lg transition-all duration-200 relative
        ${o?"text-sky-500 bg-sky-50/80 md:bg-sky-500/10 md:text-sky-400":"text-slate-400 hover:text-slate-700 md:text-slate-400 md:hover:text-white md:hover:bg-white/5"}`,children:[v.jsx(n,{size:22,strokeWidth:o?2:1.5}),v.jsx("span",{className:`text-[10px] md:text-sm mt-1 md:mt-0 ${o?"font-semibold":"font-medium"}`,children:r}),o&&v.jsx("span",{className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 w-[3px] h-5 bg-sky-400 rounded-r-full"})]})}),pw=({children:a,user:n,onLogout:r,currentPage:s,onNavigate:u,unreadNotifications:o=0})=>{const h=n.role===Xi.ADMIN;return v.jsxs("div",{className:"min-h-screen bg-slate-50 md:flex",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-60 bg-slate-900 text-white fixed h-full z-20 border-r border-slate-800",children:[v.jsxs("div",{className:"px-5 py-6 border-b border-white/10",children:[v.jsxs("h1",{className:"text-lg font-bold tracking-wider flex items-center gap-2.5",children:[v.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-400 to-sky-600 rounded-lg flex items-center justify-center shadow-md",children:v.jsx(iu,{size:16,strokeWidth:2})}),"LUMINA"]}),v.jsx("p",{className:"text-[11px] text-slate-500 mt-1 ml-[42px] font-medium tracking-wide",children:"Management System"})]}),v.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:h?v.jsxs(v.Fragment,{children:[v.jsx(vt,{page:"admin-dashboard",icon:Yl,label:"Dashboard",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-analytics",icon:wg,label:"Analytics",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-amenities",icon:H_,label:"Amenities",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-calendar",icon:$a,label:"Reservations",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-users",icon:su,label:"Residents",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-settings",icon:ru,label:"Settings",currentPage:s,onNavigate:u})]}):v.jsxs(v.Fragment,{children:[v.jsx(vt,{page:"resident-dashboard",icon:Yl,label:"Book",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"resident-history",icon:$a,label:"My Reservations",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"resident-notifications",icon:bg,label:`Notifications ${o>0?`(${o})`:""}`,currentPage:s,onNavigate:u})]})}),v.jsxs("div",{className:"px-3 py-4 border-t border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3 px-3 py-2 rounded-lg bg-white/5",children:[v.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-9 h-9 rounded-full ring-2 ring-white/10"}),v.jsxs("div",{className:"overflow-hidden flex-1",children:[v.jsx("p",{className:"text-sm font-medium truncate",children:n.name}),v.jsx("p",{className:"text-[11px] text-slate-500 truncate font-medium",children:n.role})]})]}),v.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:text-red-300 w-full hover:bg-red-500/10 rounded-lg transition-colors duration-200",children:[v.jsx(_g,{size:16})," Sign Out"]})]})]}),v.jsxs("main",{className:"flex-1 md:ml-60 pb-20 md:pb-0",children:[v.jsxs("header",{className:"md:hidden bg-white/80 backdrop-blur-lg text-slate-900 p-4 sticky top-0 z-20 flex justify-between items-center border-b border-slate-200/80 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2.5",children:[v.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-sky-400 to-sky-600 rounded-lg flex items-center justify-center text-white",children:v.jsx(iu,{size:14,strokeWidth:2})}),v.jsx("span",{className:"font-bold tracking-wide text-sm",children:"LUMINA"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-xs text-slate-500 font-medium",children:n.name}),v.jsx("button",{onClick:r,className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-colors",children:v.jsx(_g,{size:15,className:"text-slate-400"})})]})]}),v.jsx("div",{className:"p-4 md:p-8 max-w-6xl mx-auto animate-fade-in",children:a})]}),v.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-lg border-t border-slate-200/80 px-2 py-1.5 flex justify-around items-center z-30 shadow-[0_-4px_20px_rgba(0,0,0,0.06)]",children:h?v.jsxs(v.Fragment,{children:[v.jsx(vt,{page:"admin-dashboard",icon:Yl,label:"Home",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-analytics",icon:wg,label:"Analytics",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-calendar",icon:$a,label:"Calendar",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-users",icon:su,label:"People",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"admin-settings",icon:ru,label:"Config",currentPage:s,onNavigate:u})]}):v.jsxs(v.Fragment,{children:[v.jsx(vt,{page:"resident-dashboard",icon:Yl,label:"Book",currentPage:s,onNavigate:u}),v.jsx(vt,{page:"resident-history",icon:$a,label:"My Trips",currentPage:s,onNavigate:u}),v.jsxs("div",{className:"relative",children:[v.jsx(vt,{page:"resident-notifications",icon:bg,label:"Alerts",currentPage:s,onNavigate:u}),o>0&&v.jsx("span",{className:"absolute -top-0.5 right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1 ring-2 ring-white animate-badge-pop",children:o})]})]})})]})};function Eu(a,n){var r={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(a);u<s.length;u++)n.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(a,s[u])&&(r[s[u]]=a[s[u]]);return r}function vw(a,n,r,s){function u(o){return o instanceof r?o:new r(function(h){h(o)})}return new(r||(r=Promise))(function(o,h){function d(p){try{g(s.next(p))}catch(_){h(_)}}function m(p){try{g(s.throw(p))}catch(_){h(_)}}function g(p){p.done?o(p.value):u(p.value).then(d,m)}g((s=s.apply(a,n||[])).next())})}const bw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class Kf extends Error{constructor(n,r="FunctionsError",s){super(n),this.name=r,this.context=s}}class _w extends Kf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class xg extends Kf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Sg extends Kf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var wf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(wf||(wf={}));class ww{constructor(n,{headers:r={},customFetch:s,region:u=wf.Any}={}){this.url=n,this.headers=r,this.region=u,this.fetch=bw(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return vw(this,arguments,void 0,function*(r,s={}){var u;let o,h;try{const{headers:d,method:m,body:g,signal:p,timeout:_}=s;let w={},{region:x}=s;x||(x=this.region);const O=new URL(`${this.url}/${r}`);x&&x!=="any"&&(w["x-region"]=x,O.searchParams.set("forceFunctionRegion",x));let k;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=g):typeof g=="string"?(w["Content-Type"]="text/plain",k=g):typeof FormData<"u"&&g instanceof FormData?k=g:(w["Content-Type"]="application/json",k=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?k=JSON.stringify(g):k=g;let M=p;_&&(h=new AbortController,o=setTimeout(()=>h.abort(),_),p?(M=h.signal,p.addEventListener("abort",()=>h.abort())):M=h.signal);const V=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:k,signal:M}).catch(Z=>{throw new _w(Z)}),Y=V.headers.get("x-relay-error");if(Y&&Y==="true")throw new xg(V);if(!V.ok)throw new Sg(V);let L=((u=V.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),U;return L==="application/json"?U=yield V.json():L==="application/octet-stream"||L==="application/pdf"?U=yield V.blob():L==="text/event-stream"?U=V:L==="multipart/form-data"?U=yield V.formData():U=yield V.text(),{data:U,error:null,response:V}}catch(d){return{data:null,error:d,response:d instanceof Sg||d instanceof xg?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var xw=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},Sw=class{constructor(a){var n,r,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(r=a.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=a.urlLengthLimit)!==null&&s!==void 0?s:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let u=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let h=null,d=null,m=null,g=o.status,p=o.statusText;if(o.ok){var _,w;if(r.method!=="HEAD"){var x;const V=await o.text();V===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?d=V:d=JSON.parse(V))}const k=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),M=(w=o.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&M&&M.length>1&&(m=parseInt(M[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,g=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var O;const k=await o.text();try{h=JSON.parse(k),Array.isArray(h)&&o.status===404&&(d=[],h=null,g=200,p="OK")}catch{o.status===404&&k===""?(g=204,p="No Content"):h={message:k}}if(h&&r.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,g=200,p="OK"),h&&r.shouldThrowOnError)throw new xw(h)}return{error:h,data:d,count:m,status:g,statusText:p}});return this.shouldThrowOnError||(u=u.catch(o=>{var h;let d="",m="",g="";const p=o==null?void 0:o.cause;if(p){var _,w,x,O;const V=(_=p==null?void 0:p.message)!==null&&_!==void 0?_:"",Y=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";d=`${(x=o==null?void 0:o.name)!==null&&x!==void 0?x:"FetchError"}: ${o==null?void 0:o.message}`,d+=`

Caused by: ${(O=p==null?void 0:p.name)!==null&&O!==void 0?O:"Error"}: ${V}`,Y&&(d+=` (${Y})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var k;d=(k=o==null?void 0:o.stack)!==null&&k!==void 0?k:""}const M=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",M>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${M} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",M>this.urlLengthLimit&&(m+=`. Your request URL is ${M} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,details:d,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),u.then(a,n)}returns(){return this}overrideTypes(){return this}},Tw=class extends Sw{select(a){let n=!1;const r=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:u=s}={}){const o=u?`${u}.order`:"order",h=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${h?`${h},`:""}${a}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:r,referencedTable:s=r}={}){const u=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this.url.searchParams.set(o,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:u=!1,format:o="text"}={}){var h;const d=[a?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${m}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const Tg=new RegExp("[,()]");var Gi=class extends Tw{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&Tg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${r})`),this}notIn(a,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&Tg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${r})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:r,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(a,`${u}fts${o}.${n}`),this}match(a){return Object.entries(a).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(a,n,r){return this.url.searchParams.append(a,`not.${n}.${r}`),this}or(a,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,r){return this.url.searchParams.append(a,`${n}.${r}`),this}},Ew=class{constructor(a,{headers:n={},schema:r,fetch:s,urlLengthLimit:u=8e3}){this.url=a,this.headers=new Headers(n),this.schema=r,this.fetch=s,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:r=!1,count:s}=n??{},u=r?"HEAD":"GET";let o=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join(""),{url:d,headers:m}=this.cloneRequestState();return d.searchParams.set("select",h),s&&m.append("Prefer",`count=${s}`),new Gi({method:u,url:d,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:r=!0}={}){var s;const u="POST",{url:o,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),r||h.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(d.length>0){const m=[...new Set(d)].map(g=>`"${g}"`);o.searchParams.set("columns",m.join(","))}}return new Gi({method:u,url:o,headers:h,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:u=!0}={}){var o;const h="POST",{url:d,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&d.searchParams.set("on_conflict",n),s&&m.append("Prefer",`count=${s}`),u||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(g.length>0){const p=[...new Set(g)].map(_=>`"${_}"`);d.searchParams.set("columns",p.join(","))}}return new Gi({method:h,url:d,headers:m,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var r;const s="PATCH",{url:u,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Gi({method:s,url:u,headers:o,schema:this.schema,body:a,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const r="DELETE",{url:s,headers:u}=this.cloneRequestState();return a&&u.append("Prefer",`count=${a}`),new Gi({method:r,url:s,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function fs(a){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fs(a)}function Aw(a,n){if(fs(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(fs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Ow(a){var n=Aw(a,"string");return fs(n)=="symbol"?n:n+""}function Nw(a,n,r){return(n=Ow(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function Eg(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),r.push.apply(r,s)}return r}function Gl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Eg(Object(r),!0).forEach(function(s){Nw(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var kw=class My{constructor(n,{headers:r={},schema:s,fetch:u,timeout:o,urlLengthLimit:h=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=h;const d=u??globalThis.fetch;o!==void 0&&o>0?this.fetch=(m,g)=>{const p=new AbortController,_=setTimeout(()=>p.abort(),o),w=g==null?void 0:g.signal;if(w){if(w.aborted)return clearTimeout(_),d(m,g);const x=()=>{clearTimeout(_),p.abort()};return w.addEventListener("abort",x,{once:!0}),d(m,Gl(Gl({},g),{},{signal:p.signal})).finally(()=>{clearTimeout(_),w.removeEventListener("abort",x)})}return d(m,Gl(Gl({},g),{},{signal:p.signal})).finally(()=>clearTimeout(_))}:this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ew(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new My(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:s=!1,get:u=!1,count:o}={}){var h;let d;const m=new URL(`${this.url}/rpc/${n}`);let g;const p=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(p)),_=s&&Object.values(r).some(p);_?(d="POST",g=r):s||u?(d=s?"HEAD":"GET",Object.entries(r).filter(([x,O])=>O!==void 0).map(([x,O])=>[x,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([x,O])=>{m.searchParams.append(x,O)})):(d="POST",g=r);const w=new Headers(this.headers);return _?w.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&w.set("Prefer",`count=${o}`),new Gi({method:d,url:m,headers:w,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class jw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const u=s.node,o=parseInt(u.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const s=this.getWebSocketConstructor();return new s(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Cw="2.94.1",Rw=`realtime-js/${Cw}`,Mw="1.0.0",Dy="2.0.0",Ag=Dy,xf=1e4,Dw=1e3,Uw=100;var ga;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(ga||(ga={}));var at;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(at||(at={}));var ln;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(ln||(ln={}));var Sf;(function(a){a.websocket="websocket"})(Sf||(Sf={}));var qa;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(qa||(qa={}));class zw{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,s;const u=(s=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var r,s;const u=(s=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,r,s){var u,o;const h=n.topic,d=(u=n.ref)!==null&&u!==void 0?u:"",m=(o=n.join_ref)!==null&&o!==void 0?o:"",g=n.payload.event,p=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(p).length===0?"":JSON.stringify(p);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+h.length+g.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(x),k=0;O.setUint8(k++,this.KINDS.userBroadcastPush),O.setUint8(k++,m.length),O.setUint8(k++,d.length),O.setUint8(k++,h.length),O.setUint8(k++,g.length),O.setUint8(k++,_.length),O.setUint8(k++,r),Array.from(m,V=>O.setUint8(k++,V.charCodeAt(0))),Array.from(d,V=>O.setUint8(k++,V.charCodeAt(0))),Array.from(h,V=>O.setUint8(k++,V.charCodeAt(0))),Array.from(g,V=>O.setUint8(k++,V.charCodeAt(0))),Array.from(_,V=>O.setUint8(k++,V.charCodeAt(0)));var M=new Uint8Array(x.byteLength+s.byteLength);return M.set(new Uint8Array(x),0),M.set(new Uint8Array(s),x.byteLength),M.buffer}decode(n,r){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return r(s)}if(typeof n=="string"){const s=JSON.parse(n),[u,o,h,d,m]=s;return r({join_ref:u,ref:o,topic:h,event:d,payload:m})}return r({})}_binaryDecode(n){const r=new DataView(n),s=r.getUint8(0),u=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,u)}}_decodeUserBroadcast(n,r,s){const u=r.getUint8(1),o=r.getUint8(2),h=r.getUint8(3),d=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(n.slice(m,m+u));m=m+u;const p=s.decode(n.slice(m,m+o));m=m+o;const _=s.decode(n.slice(m,m+h));m=m+h;const w=n.slice(m,n.byteLength),x=d===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,O={type:this.BROADCAST_EVENT,event:p,payload:x};return h>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>r.includes(s)))}}let Uy=class{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var He;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(He||(He={}));const Og=(a,n,r={})=>{var s;const u=(s=r.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((o,h)=>(o[h]=Lw(h,a,n,u),o),{}):{}},Lw=(a,n,r,s)=>{const u=n.find(d=>d.name===a),o=u==null?void 0:u.type,h=r[a];return o&&!s.includes(o)?zy(o,h):Tf(h)},zy=(a,n)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return $w(n,r)}switch(a){case He.bool:return Bw(n);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return qw(n);case He.json:case He.jsonb:return Hw(n);case He.timestamp:return Yw(n);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Tf(n);default:return Tf(n)}},Tf=a=>a,Bw=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},qw=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},Hw=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},$w=(a,n)=>{if(typeof a!="string")return a;const r=a.length-1,s=a[r];if(a[0]==="{"&&s==="}"){let o;const h=a.slice(1,r);try{o=JSON.parse("["+h+"]")}catch{o=h?h.split(","):[]}return o.map(d=>zy(n,d))}return a},Yw=a=>typeof a=="string"?a.replace(" ","T"):a,Ly=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class af{constructor(n,r,s={},u=xf){this.channel=n,this.event=r,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var s;return this._hasReceived(n)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ng;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Ng||(Ng={}));class os{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:o,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=os.syncState(this.state,u,o,h),this.pendingDiffs.forEach(m=>{this.state=os.syncDiff(this.state,m,o,h)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},u=>{const{onJoin:o,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=os.syncDiff(this.state,u,o,h),d())}),this.onJoin((u,o,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:o,newPresences:h})}),this.onLeave((u,o,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:o,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,s,u){const o=this.cloneDeep(n),h=this.transformState(r),d={},m={};return this.map(o,(g,p)=>{h[g]||(m[g]=p)}),this.map(h,(g,p)=>{const _=o[g];if(_){const w=p.map(M=>M.presence_ref),x=_.map(M=>M.presence_ref),O=p.filter(M=>x.indexOf(M.presence_ref)<0),k=_.filter(M=>w.indexOf(M.presence_ref)<0);O.length>0&&(d[g]=O),k.length>0&&(m[g]=k)}else d[g]=p}),this.syncDiff(o,{joins:d,leaves:m},s,u)}static syncDiff(n,r,s,u){const{joins:o,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(o,(d,m)=>{var g;const p=(g=n[d])!==null&&g!==void 0?g:[];if(n[d]=this.cloneDeep(m),p.length>0){const _=n[d].map(x=>x.presence_ref),w=p.filter(x=>_.indexOf(x.presence_ref)<0);n[d].unshift(...w)}s(d,p,m)}),this.map(h,(d,m)=>{let g=n[d];if(!g)return;const p=m.map(_=>_.presence_ref);g=g.filter(_=>p.indexOf(_.presence_ref)<0),n[d]=g,u(d,g,m),g.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(s=>r(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,s)=>{const u=n[s];return"metas"in u?r[s]=u.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[s]=u,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(kg||(kg={}));var cs;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(cs||(cs={}));var Ln;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class Qi{constructor(n,r={config:{}},s){var u,o;if(this.topic=n,this.params=r,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Uy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(h,d)=>{this._trigger(this._replyEventName(d),h)}),this.presence=new os(this),this.broadcastEndpointURL=Ly(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var s,u,o;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:h,presence:d,private:m}}=this.params,g=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},w={broadcast:h,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>n==null?void 0:n(Ln.CHANNEL_ERROR,x)),this._onClose(()=>n==null?void 0:n(Ln.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){n==null||n(Ln.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,M=(O=k==null?void 0:k.length)!==null&&O!==void 0?O:0,V=[];for(let Y=0;Y<M;Y++){const L=k[Y],{filter:{event:U,schema:Z,table:H,filter:X}}=L,ce=x&&x[Y];if(ce&&ce.event===U&&Qi.isFilterValueEqual(ce.schema,Z)&&Qi.isFilterValueEqual(ce.table,H)&&Qi.isFilterValueEqual(ce.filter,X))V.push(Object.assign(Object.assign({},L),{id:ce.id}));else{this.unsubscribe(),this.state=at.errored,n==null||n(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(Ln.SUBSCRIBED);return}}).receive("error",x=>{this.state=at.errored,n==null||n(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,s){return this.state===at.joined&&n===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,s)}async httpSend(n,r,s={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const g=await d.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,r={}){var s,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:h}=n,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var h,d,m;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new af(this,ln.leave,{},n),s.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(n,r,s){const u=new AbortController,o=setTimeout(()=>u.abort(),s),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(o),h}_push(n,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new af(this,n,r,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Uw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,s){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,s){var u,o;const h=n.toLocaleLowerCase(),{close:d,error:m,leave:g,join:p}=ln;if(s&&[d,m,g,p].indexOf(h)>=0&&s!==this._joinRef())return;let w=this._onMessage(h,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var O,k,M;return((O=x.filter)===null||O===void 0?void 0:O.event)==="*"||((M=(k=x.filter)===null||k===void 0?void 0:k.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===h}).map(x=>x.callback(w,s)):(o=this.bindings[h])===null||o===void 0||o.filter(x=>{var O,k,M,V,Y,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in x){const U=x.id,Z=(O=x.filter)===null||O===void 0?void 0:O.event;return U&&((k=r.ids)===null||k===void 0?void 0:k.includes(U))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((M=r.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const U=(Y=(V=x==null?void 0:x.filter)===null||V===void 0?void 0:V.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return U==="*"||U===((L=r==null?void 0:r.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===h}).map(x=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:k,table:M,commit_timestamp:V,type:Y,errors:L}=O;w=Object.assign(Object.assign({},{schema:k,table:M,commit_timestamp:V,eventType:Y,new:{},old:{},errors:L}),this._getPayloadRecords(O))}x.callback(w,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,s){const u=n.toLocaleLowerCase(),o={type:u,filter:r,callback:s};return this.bindings[u]?this.bindings[u].push(o):this.bindings[u]=[o],this}_off(n,r){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var o;return!(((o=u.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Qi.isEqual(u.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const s in n)if(n[s]!==r[s])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ln.close,{},n)}_onError(n){this._on(ln.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Og(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Og(n.columns,n.old_record)),r}}const rf=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gw=[1e3,2e3,5e3,1e4],Vw=1e4,Kw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xw{constructor(n,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xf,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rf,this.ref=0,this.reconnectTimer=null,this.vsn=Ag,this.logger=rf,this.conn=null,this.sendBuffer=[],this.serializer=new zw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...o)=>u(...o):(...o)=>fetch(...o),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Sf.websocket}`,this.httpEndpoint=Ly(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,s){this.logger(n,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ga.connecting:return qa.Connecting;case ga.open:return qa.Open;case ga.closing:return qa.Closing;default:return qa.Closed}}isConnected(){return this.connectionState()===qa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const s=`realtime:${n}`,u=this.getChannels().find(o=>o.topic===s);if(u)return u;{const o=new Qi(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:s,payload:u,ref:o}=n,h=()=>{this.encode(n,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${r} ${s} (${o})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Dw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:u,payload:o,ref:h}=r,d=h?`(${h})`:"",m=o.status||"";this.log("receive",`${m} ${s} ${u} ${d}`.trim(),o),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(u,o,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ga.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ga.open||this.conn.readyState===ga.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(ln.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const s=n.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${n}${s}${u}`}_workerObjectUrl(n){let r;if(n)r=n;else{const s=new Blob([Kw],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,s=!1;if(n)r=n,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const o={access_token:r,version:Rw};r&&u.updateJoinPayload(o),u.joinedOnce&&u._isJoined()&&u._push(ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(r)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Uy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,s,u,o,h,d,m,g,p,_,w,x;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(s=n==null?void 0:n.timeout)!==null&&s!==void 0?s:xf,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:Vl.HEARTBEAT_INTERVAL,this.worker=(o=n==null?void 0:n.worker)!==null&&o!==void 0?o:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(d=n==null?void 0:n.heartbeatCallback)!==null&&d!==void 0?d:rf,this.vsn=(m=n==null?void 0:n.vsn)!==null&&m!==void 0?m:Ag,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(O=>Gw[O-1]||Vw),this.vsn){case Mw:this.encode=(p=n==null?void 0:n.encode)!==null&&p!==void 0?p:((O,k)=>k(JSON.stringify(O))),this.decode=(_=n==null?void 0:n.decode)!==null&&_!==void 0?_:((O,k)=>k(JSON.parse(O)));break;case Dy:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var hs=class extends Error{constructor(a,n){var r;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qw(a,n,r){const s=new URL(n,a);if(r)for(const[u,o]of Object.entries(r))o!==void 0&&s.searchParams.set(u,o);return s.toString()}async function Jw(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Iw(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:u,body:o,headers:h}){const d=Qw(a.baseUrl,s,u),m=await Jw(a.auth),g=await n(d,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...m,...h},body:o?JSON.stringify(o):void 0}),p=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),w=_&&p?JSON.parse(p):p;if(!g.ok){const x=_?w:void 0,O=x==null?void 0:x.error;throw new hs((O==null?void 0:O.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:x})}return{status:g.status,headers:g.headers,data:w}}}}function Kl(a){return a.join("")}var Zw=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:Kl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const r={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(a.namespace)}`}),!0}catch(n){if(n instanceof hs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(r){if(r instanceof hs&&r.status===409)return;throw r}}};function Ui(a){return a.join("")}var Ww=class{constructor(a,n="",r){this.client=a,this.prefix=n,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(a,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ui(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(r){if(r instanceof hs&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(r){if(r instanceof hs&&r.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw r}}},Fw=class{constructor(a){var s;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Iw({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(s=a.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new Zw(this.client,n),this.tableOps=new Ww(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Au=class extends Error{constructor(a,n="storage",r,s){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Ou(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var Xl=class extends Au{constructor(a,n,r,s="storage"){super(a,s,n,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},By=class extends Au{constructor(a,n,r="storage"){super(a,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Pw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),e1=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Ef=a=>{if(Array.isArray(a))return a.map(r=>Ef(r));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([r,s])=>{const u=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[u]=Ef(s)}),n},t1=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function ds(a){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ds(a)}function n1(a,n){if(ds(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(ds(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function a1(a){var n=n1(a,"string");return ds(n)=="symbol"?n:n+""}function i1(a,n,r){return(n=a1(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function jg(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),r.push.apply(r,s)}return r}function oe(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?jg(Object(r),!0).forEach(function(s){i1(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const Cg=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},r1=async(a,n,r,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(r!=null&&r.noResolveJson)){const u=a,o=u.status||500;if(typeof u.json=="function")u.json().then(h=>{const d=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||o+"";n(new Xl(Cg(h),o,d,s))}).catch(()=>{if(s==="vectors"){const h=o+"";n(new Xl(u.statusText||`HTTP ${o} error`,o,h,s))}else{const h=o+"";n(new Xl(u.statusText||`HTTP ${o} error`,o,h,s))}});else{const h=o+"";n(new Xl(u.statusText||`HTTP ${o} error`,o,h,s))}}else n(new By(Cg(a),a,s))},s1=(a,n,r,s)=>{const u={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||a==="HEAD"||!s?oe(oe({},u),r):(e1(s)?(u.headers=oe({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(s)):u.body=s,n!=null&&n.duplex&&(u.duplex=n.duplex),oe(oe({},u),r))};async function Pr(a,n,r,s,u,o,h){return new Promise((d,m)=>{a(r,s1(n,s,u,o)).then(g=>{if(!g.ok)throw g;if(s!=null&&s.noResolveJson)return g;if(h==="vectors"){const p=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!p||!p.includes("application/json"))return{}}return g.json()}).then(g=>d(g)).catch(g=>r1(g,m,s,h))})}function qy(a="storage"){return{get:async(n,r,s,u)=>Pr(n,"GET",r,s,u,void 0,a),post:async(n,r,s,u,o)=>Pr(n,"POST",r,u,o,s,a),put:async(n,r,s,u,o)=>Pr(n,"PUT",r,u,o,s,a),head:async(n,r,s,u)=>Pr(n,"HEAD",r,oe(oe({},s),{},{noResolveJson:!0}),u,void 0,a),remove:async(n,r,s,u,o)=>Pr(n,"DELETE",r,u,o,s,a)}}const l1=qy("storage"),{get:ms,post:sn,put:Af,head:u1,remove:Xf}=l1,Yt=qy("vectors");var ar=class{constructor(a,n={},r,s="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Pw(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ou(r))return{data:null,error:r};throw r}}},o1=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ou(n))return{data:null,error:n};throw n}}};let Hy;Hy=Symbol.toStringTag;var c1=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Hy]="BlobDownloadBuilder",this.promise=null}asStream(){return new o1(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Ou(n))return{data:null,error:n};throw n}}};const f1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var h1=class extends ar{constructor(a,n={},r,s){super(a,n,s,"storage"),this.bucketId=r}async uploadOrUpdate(a,n,r,s){var u=this;return u.handleOperation(async()=>{let o;const h=oe(oe({},Rg),s);let d=oe(oe({},u.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",h.cacheControl),m&&o.append("metadata",u.encodeMetadata(m)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",h.cacheControl),m&&!o.has("metadata")&&o.append("metadata",u.encodeMetadata(m))):(o=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,m&&(d["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!h.duplex&&(h.duplex="half")),s!=null&&s.headers&&(d=oe(oe({},d),s.headers));const g=u._removeEmptyFolders(n),p=u._getFinalPath(g),_=await(a=="PUT"?Af:sn)(u.fetch,`${u.url}/object/${p}`,o,oe({headers:d},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:g,id:_.Id,fullPath:_.Key}})}async upload(a,n,r){return this.uploadOrUpdate("POST",a,n,r)}async uploadToSignedUrl(a,n,r,s){var u=this;const o=u._removeEmptyFolders(a),h=u._getFinalPath(o),d=new URL(u.url+`/object/upload/sign/${h}`);return d.searchParams.set("token",n),u.handleOperation(async()=>{let m;const g=oe({upsert:Rg.upsert},s),p=oe(oe({},u.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType),{path:o,fullPath:(await Af(u.fetch,d.toString(),m,{headers:p})).Key}})}async createSignedUploadUrl(a,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(a);const u=oe({},r.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const o=await sn(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:u}),h=new URL(r.url+o.url),d=h.searchParams.get("token");if(!d)throw new Au("No token returned by API");return{signedUrl:h.toString(),path:a,token:d}})}async update(a,n,r){return this.uploadOrUpdate("PUT",a,n,r)}async move(a,n,r){var s=this;return s.handleOperation(async()=>await sn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}))}async copy(a,n,r){var s=this;return s.handleOperation(async()=>({path:(await sn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(a,n,r){var s=this;return s.handleOperation(async()=>{let u=s._getFinalPath(a),o=await sn(s.fetch,`${s.url}/object/sign/${u}`,oe({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${o.signedURL}${h}`)}})}async createSignedUrls(a,n,r){var s=this;return s.handleOperation(async()=>{const u=await sn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u.map(h=>oe(oe({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${o}`):null}))})}download(a,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=s?`?${s}`:"",o=this._getFinalPath(a),h=()=>ms(this.fetch,`${this.url}/${r}/${o}${u}`,{headers:this.headers,noResolveJson:!0});return new c1(h,this.shouldThrowOnError)}async info(a){var n=this;const r=n._getFinalPath(a);return n.handleOperation(async()=>Ef(await ms(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(a){var n=this;const r=n._getFinalPath(a);try{return await u1(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ou(s)&&s instanceof By){const u=s.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const r=this._getFinalPath(a),s=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&s.push(u);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${d}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await Xf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,r){var s=this;return s.handleOperation(async()=>{const u=oe(oe(oe({},f1),n),{},{prefix:a||""});return await sn(s.fetch,`${s.url}/object/list/${s.bucketId}`,u,{headers:s.headers},r)})}async listV2(a,n){var r=this;return r.handleOperation(async()=>{const s=oe({},a);return await sn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const d1="2.94.1",ws={"X-Client-Info":`storage-js/${d1}`};var m1=class extends ar{constructor(a,n={},r,s){const u=new URL(a);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const o=u.href.replace(/\/$/,""),h=oe(oe({},ws),n);super(o,h,r,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(a);return await ms(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await ms(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var r=this;return r.handleOperation(async()=>await sn(r.fetch,`${r.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(a,n){var r=this;return r.handleOperation(async()=>await Af(r.fetch,`${r.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await sn(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Xf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},g1=class extends ar{constructor(a,n={},r){const s=a.replace(/\/$/,""),u=oe(oe({},ws),n);super(s,u,r,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await sn(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&r.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&r.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&r.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&r.set("sortOrder",a.sortOrder),a!=null&&a.search&&r.set("search",a.search);const s=r.toString(),u=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await ms(n.fetch,u,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Xf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!t1(a))throw new Au("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Fw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(u,o){const h=u[o];return typeof h!="function"?h:async(...d)=>{try{return{data:await h.apply(u,d),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}},y1=class extends ar{constructor(a,n={},r){const s=a.replace(/\/$/,""),u=oe(oe({},ws),{},{"Content-Type":"application/json"},n);super(s,u,r,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var r=this;return r.handleOperation(async()=>await Yt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var r=this;return r.handleOperation(async()=>await Yt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers})||{})}},p1=class extends ar{constructor(a,n={},r){const s=a.replace(/\/$/,""),u=oe(oe({},ws),{},{"Content-Type":"application/json"},n);super(s,u,r,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},v1=class extends ar{constructor(a,n={},r){const s=a.replace(/\/$/,""),u=oe(oe({},ws),{},{"Content-Type":"application/json"},n);super(s,u,r,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},b1=class extends v1{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new _1(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,r=this;return n().call(r,a)}async getBucket(a){var n=()=>super.getBucket,r=this;return n().call(r,a)}async listBuckets(a={}){var n=()=>super.listBuckets,r=this;return n().call(r,a)}async deleteBucket(a){var n=()=>super.deleteBucket,r=this;return n().call(r,a)}},_1=class extends y1{constructor(a,n,r,s){super(a,n,s),this.vectorBucketName=r}async createIndex(a){var n=()=>super.createIndex,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,a)}index(a){return new w1(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},w1=class extends p1{constructor(a,n,r,s,u){super(a,n,u),this.vectorBucketName=r,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(a){var n=()=>super.getVectors,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,r=this;return n().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},x1=class extends m1{constructor(a,n={},r,s){super(a,n,r,s)}from(a){return new h1(this.url,this.headers,a,this.fetch)}get vectors(){return new b1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g1(this.url+"/iceberg",this.headers,this.fetch)}};const $y="2.94.1",Vi=30*1e3,Of=3,sf=Of*Vi,S1="http://localhost:9999",T1="supabase.auth.token",E1={"X-Client-Info":`gotrue-js/${$y}`},Nf="X-Supabase-Api-Version",Yy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O1=600*1e3;class gs extends Error{constructor(n,r,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ae(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class N1 extends gs{constructor(n,r,s){super(n,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function k1(a){return ae(a)&&a.name==="AuthApiError"}class Ha extends gs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Gn extends gs{constructor(n,r,s,u){super(n,s,u),this.name=r,this.status=s}}class $t extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lf(a){return ae(a)&&a.name==="AuthSessionMissingError"}class zi extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends Gn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends Gn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j1(a){return ae(a)&&a.name==="AuthImplicitGrantRedirectError"}class Mg extends Gn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C1 extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kf extends Gn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function uf(a){return ae(a)&&a.name==="AuthRetryableFetchError"}class Dg extends Gn{constructor(n,r,s){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class jf extends Gn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ug=` 	
\r=`.split(""),R1=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Ug.length;n+=1)a[Ug[n].charCodeAt(0)]=-2;for(let n=0;n<lu.length;n+=1)a[lu[n].charCodeAt(0)]=n;return a})();function zg(a,n,r){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(lu[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(lu[s]),n.queuedBits-=6}}function Gy(a,n,r){const s=R1[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Lg(a){const n=[],r=h=>{n.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},o=h=>{U1(h,s,r)};for(let h=0;h<a.length;h+=1)Gy(a.charCodeAt(h),u,o);return n.join("")}function M1(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function D1(a,n){for(let r=0;r<a.length;r+=1){let s=a.charCodeAt(r);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(a.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}M1(s,n)}}function U1(a,n,r){if(n.utf8seq===0){if(a<=127){r(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Zi(a){const n=[],r={queue:0,queuedBits:0},s=u=>{n.push(u)};for(let u=0;u<a.length;u+=1)Gy(a.charCodeAt(u),r,s);return new Uint8Array(n)}function z1(a){const n=[];return D1(a,r=>n.push(r)),new Uint8Array(n)}function Ga(a){const n=[],r={queue:0,queuedBits:0},s=u=>{n.push(u)};return a.forEach(u=>zg(u,r,s)),zg(null,r,s),n.join("")}function L1(a){return Math.round(Date.now()/1e3)+a}function B1(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},Vy=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function q1(a){const n={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,o)=>{n[o]=u})}catch{}return r.searchParams.forEach((s,u)=>{n[u]=s}),n}const Ky=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),H1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Ki=async(a,n,r)=>{await a.setItem(n,JSON.stringify(r))},za=async(a,n)=>{const r=await a.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bt=async(a,n)=>{await a.removeItem(n)};class Nu{constructor(){this.promise=new Nu.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Nu.promiseConstructor=Promise;function Il(a){const n=a.split(".");if(n.length!==3)throw new jf("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!A1.test(n[s]))throw new jf("JWT not in base64url format");return{header:JSON.parse(Lg(n[0])),payload:JSON.parse(Lg(n[1])),signature:Zi(n[2]),raw:{header:n[0],payload:n[1]}}}async function $1(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Y1(a,n){return new Promise((s,u)=>{(async()=>{for(let o=0;o<1/0;o++)try{const h=await a(o);if(!n(o,null,h)){s(h);return}}catch(h){if(!n(o,h)){u(h);return}}})()})}function G1(a){return("0"+a.toString(16)).substr(-2)}function V1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let u="";for(let o=0;o<56;o++)u+=r.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(n),Array.from(n,G1).join("")}async function K1(a){const r=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(s);return Array.from(u).map(o=>String.fromCharCode(o)).join("")}async function X1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await K1(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(a,n,r=!1){const s=V1();let u=s;r&&(u+="/PASSWORD_RECOVERY"),await Ki(a,`${n}-code-verifier`,u);const o=await X1(s);return[o,s===o?"plain":"s256"]}const Q1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J1(a){const n=a.headers.get(Nf);if(!n||!n.match(Q1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function I1(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Z1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(a){if(!W1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function of(){const a={};return new Proxy(a,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F1(a,n){return new Proxy(a,{get:(r,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,u)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,s,u)}})}function Bg(a){return JSON.parse(JSON.stringify(a))}const La=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),P1=[502,503,504];async function qg(a){var n;if(!H1(a))throw new kf(La(a),0);if(P1.includes(a.status))throw new kf(La(a),a.status);let r;try{r=await a.json()}catch(o){throw new Ha(La(o),o)}let s;const u=J1(a);if(u&&u.getTime()>=Yy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Dg(La(r),a.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,h)=>o&&typeof h=="string",!0))throw new Dg(La(r),a.status,r.weak_password.reasons);throw new N1(La(r),a.status||500,s)}const ex=(a,n,r,s)=>{const u={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),r))};async function le(a,n,r,s){var u;const o=Object.assign({},s==null?void 0:s.headers);o[Nf]||(o[Nf]=Yy["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const h=(u=s==null?void 0:s.query)!==null&&u!==void 0?u:{};s!=null&&s.redirectTo&&(h.redirect_to=s.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await tx(a,n,r+d,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(m):{data:Object.assign({},m),error:null}}async function tx(a,n,r,s,u,o){const h=ex(n,s,u,o);let d;try{d=await a(r,Object.assign({},h))}catch(m){throw console.error(m),new kf(La(m),0)}if(d.ok||await qg(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(m){await qg(m)}}function rn(a){var n;let r=null;ix(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=L1(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:r,user:s},error:null}}function Hg(a){const n=rn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function ya(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function nx(a){return{data:a,error:null}}function ax(a){const{action_link:n,email_otp:r,hashed_token:s,redirect_to:u,verification_type:o}=a,h=Eu(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:s,redirect_to:u,verification_type:o},m=Object.assign({},h);return{data:{properties:d,user:m},error:null}}function $g(a){return a}function ix(a){return a.access_token&&a.refresh_token&&a.expires_in}const cf=["global","local","others"];class rx{constructor({url:n="",headers:r={},fetch:s}){this.url=n,this.headers=r,this.fetch=Ky(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=cf[0]){if(cf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cf.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ya})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:r}=n,s=Eu(n,["options"]),u=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(u.new_email=s==null?void 0:s.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:ax,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ya})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,s,u,o,h,d,m;try{const g={nextPage:null,lastPage:0,total:0},p=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&o!==void 0?o:""},xform:$g});if(p.error)throw p.error;const _=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(m=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(O=>{const k=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);g[`${M}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Bi(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ya})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Bi(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ya})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,r=!1){Bi(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ya})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){Bi(n.userId);try{const{data:r,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:s}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Bi(n.userId),Bi(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,s,u,o,h,d,m;try{const g={nextPage:null,lastPage:0,total:0},p=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&o!==void 0?o:""},xform:$g});if(p.error)throw p.error;const _=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(m=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(O=>{const k=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);g[`${M}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Yg(a={}){return{getItem:n=>a[n]||null,setItem:(n,r)=>{a[n]=r},removeItem:n=>{delete a[n]}}}const qi={debug:!!(globalThis&&Vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class sx extends Xy{}async function lx(a,n,r){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,u.name);try{return await r()}finally{qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,u.name)}}else{if(n===0)throw qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new sx(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(qi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ux(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function ox(a){return parseInt(a,16)}function cx(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function fx(a){var n;const{chainId:r,domain:s,expirationTime:u,issuedAt:o=new Date,nonce:h,notBefore:d,requestId:m,resources:g,scheme:p,uri:_,version:w}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=Qy(a.address),O=p?`${p}://${s}`:s,k=a.statement?`${a.statement}
`:"",M=`${O} wants you to sign in with your Ethereum account:
${x}

${k}`;let V=`URI: ${_}
Version: ${w}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${o.toISOString()}`;if(u&&(V+=`
Expiration Time: ${u.toISOString()}`),d&&(V+=`
Not Before: ${d.toISOString()}`),m&&(V+=`
Request ID: ${m}`),g){let Y=`
Resources:`;for(const L of g){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);Y+=`
- ${L}`}V+=Y}return`${M}
${V}`}class tt extends Error{constructor({message:n,code:r,cause:s,name:u}){var o;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=u??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class uu extends tt{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function hx({error:a,options:n}){var r,s,u;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((u=o.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(Jy(h)){if(o.rp.id!==h)return new tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function dx({error:a,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(Jy(s)){if(r.rpId!==s)return new tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class mx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const gx=new mx;function yx(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:r,excludeCredentials:s}=a,u=Eu(a,["challenge","user","excludeCredentials"]),o=Zi(n).buffer,h=Object.assign(Object.assign({},r),{id:Zi(r.id).buffer}),d=Object.assign(Object.assign({},u),{challenge:o,user:h});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];d.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Zi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function px(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:r}=a,s=Eu(a,["challenge","allowCredentials"]),u=Zi(n).buffer,o=Object.assign(Object.assign({},s),{challenge:u});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const d=r[h];o.allowCredentials[h]=Object.assign(Object.assign({},d),{id:Zi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function vx(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:Ga(new Uint8Array(a.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function bx(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,s=a.getClientExtensionResults(),u=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Ga(new Uint8Array(u.authenticatorData)),clientDataJSON:Ga(new Uint8Array(u.clientDataJSON)),signature:Ga(new Uint8Array(u.signature)),userHandle:u.userHandle?Ga(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Gg(){var a,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function _x(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new uu("Browser returned unexpected credential type",n)}:{data:null,error:new uu("Empty credential response",n)}}catch(n){return{data:null,error:hx({error:n,options:a})}}}async function wx(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new uu("Browser returned unexpected credential type",n)}:{data:null,error:new uu("Empty credential response",n)}}catch(n){return{data:null,error:dx({error:n,options:a})}}}const xx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Sx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ou(...a){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of a)if(u)for(const o in u){const h=u[o];if(h!==void 0)if(Array.isArray(h))s[o]=h;else if(r(h))s[o]=h;else if(n(h)){const d=s[o];n(d)?s[o]=ou(d,h):s[o]=ou(h)}else s[o]=h}return s}function Tx(a,n){return ou(xx,a,n||{})}function Ex(a,n){return ou(Sx,a,n||{})}class Ax{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:s,signal:u},o){var h;try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:m};const g=u??gx.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const _=s;if(_)p.name=`${p.id}:${_}`;else{const x=(await this.client.getUser()).data.user,O=((h=x==null?void 0:x.user_metadata)===null||h===void 0?void 0:h.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";p.name=`${p.id}:${O}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Tx(d.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:_,error:w}=await _x({publicKey:p,signal:g});return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const p=Ex(d.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:_,error:w}=await wx(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new Ha("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},o){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn authentication")};try{if(!Gg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:s},signal:u},{request:o});if(!h)return{data:null,error:d};const{webauthn:m}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:s,credential_response:m.credential_response}})}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new Ha("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},o){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn registration")};try{if(!Gg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(p=>{var _;return(_=p.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:m,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:u},{create:o});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new Ha("Unexpected error in register",h)}}}}ux();const Ox={url:S1,storageKey:T1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vg(a,n,r){return await r()}const Hi={};class ys{get jwks(){var n,r;return(r=(n=Hi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Hi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{cachedAt:n})}constructor(n){var r,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Ox),n);if(this.storageKey=o.storageKey,this.instanceID=(r=ys.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ys.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_t()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ky(o.fetch),this.lock=o.lock||Vg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&_t()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=lx:this.lock=Vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ax(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$y}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},s="none";if(_t()&&(r=q1(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),_t()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:o}=await this._getSessionFromURL(r,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),j1(o)){const m=(n=o.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:h,redirectType:d}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new Ha("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,s,u;try{const o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:rn}),{data:h,error:d}=o;if(d||!h)return this._returnResult({data:{user:null,session:null},error:d});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(n){var r,s,u;try{let o;if("email"in n){const{email:p,password:_,options:w}=n;let x=null,O=null;this.flowType==="pkce"&&([x,O]=await Li(this.storage,this.storageKey)),o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:_,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:O},xform:rn})}else if("phone"in n){const{phone:p,password:_,options:w}=n;o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(u=w==null?void 0:w.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:rn})}else throw new Ql("You must provide either an email or phone number and a password");const{data:h,error:d}=o;if(d||!h)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:h,options:d}=n;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:h,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hg})}else if("phone"in n){const{phone:o,password:h,options:d}=n;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:h,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hg})}else throw new Ql("You must provide either an email or phone number and a password");const{data:s,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const o=new zi;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,s,u,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,s,u,o,h,d,m,g,p,_,w;let x,O;if("message"in n)x=n.message,O=n.signature;else{const{chain:k,wallet:M,statement:V,options:Y}=n;let L;if(_t())if(typeof M=="object")L=M;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")L=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=M}const U=new URL((r=Y==null?void 0:Y.url)!==null&&r!==void 0?r:window.location.href),Z=await L.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Qy(Z[0]);let X=(s=Y==null?void 0:Y.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!X){const fe=await L.request({method:"eth_chainId"});X=ox(fe)}const ce={domain:U.host,address:H,statement:V,uri:U.href,version:"1",chainId:X,nonce:(u=Y==null?void 0:Y.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(o=Y==null?void 0:Y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(d=Y==null?void 0:Y.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=Y==null?void 0:Y.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=Y==null?void 0:Y.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=fx(ce),O=await L.request({method:"personal_sign",params:[cx(x),H]})}try{const{data:k,error:M}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:O},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:rn});if(M)throw M;if(!k||!k.session||!k.user){const V=new zi;return this._returnResult({data:{user:null,session:null},error:V})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:M})}catch(k){if(ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(n){var r,s,u,o,h,d,m,g,p,_,w,x;let O,k;if("message"in n)O=n.message,k=n.signature;else{const{chain:M,wallet:V,statement:Y,options:L}=n;let U;if(_t())if(typeof V=="object")U=V;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))U=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=V}const Z=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const H=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),Y?{statement:Y}:null));let X;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")X=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)X=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),k=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${Z.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(u=(s=L==null?void 0:L.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((o=L==null?void 0:L.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L==null?void 0:L.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(p=L==null?void 0:L.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const H=await U.signMessage(new TextEncoder().encode(O),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:M,error:V}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Ga(k)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:rn});if(V)throw V;if(!M||!M.session||!M.user){const Y=new zi;return this._returnResult({data:{user:null,session:null},error:Y})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:V})}catch(M){if(ae(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(n){const r=await za(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new C1;const{data:o,error:h}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:rn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!o||!o.session||!o.user){const d=new zi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:u??null}),error:h})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(n){try{const{options:r,provider:s,token:u,access_token:o,nonce:h}=n,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:o,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rn}),{data:m,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const p=new zi;return this._returnResult({data:{user:null,session:null},error:p})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,s,u,o,h;try{if("email"in n){const{email:d,options:m}=n;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Li(this.storage,this.storageKey));const{error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:d,options:m}=n,{data:g,error:p}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:p})}throw new Ql("You must provide either an email or phone number.")}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var r,s;try{let u,o;"options"in n&&(u=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:d}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:u,xform:rn});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var r,s,u,o,h;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Li(this.storage,this.storageKey));const g=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:nx});return!((o=g.data)===null||o===void 0)&&o.url&&_t()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)throw s;if(!r)throw new $t;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:s,type:u,options:o}=n,{error:h}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:s,type:u,options:o}=n,{data:h,error:d}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:d})}throw new Ql("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<sf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const h=await za(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=of()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=F1(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:o}=await this._callRefreshToken(n.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ya}):await this._useSession(async r=>{var s,u,o;const{data:h,error:d}=r;if(d)throw d;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&o!==void 0?o:void 0,xform:ya})})}catch(r){if(ae(r))return lf(r)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async s=>{const{data:u,error:o}=s;if(o)throw o;if(!u.session)throw new $t;const h=u.session;let d=null,m=null;this.flowType==="pkce"&&n.email!=null&&([d,m]=await Li(this.storage,this.storageKey));const{data:g,error:p}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:m}),jwt:h.access_token,xform:ya});if(p)throw p;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new $t;const r=Date.now()/1e3;let s=r,u=!0,o=null;const{payload:h}=Il(n.access_token);if(h.exp&&(s=h.exp,u=s<=r),u){const{data:d,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});o={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var s;if(!n){const{data:h,error:d}=r;if(d)throw d;n=(s=h.session)!==null&&s!==void 0?s:void 0}if(!(n!=null&&n.refresh_token))throw new $t;const{data:u,error:o}=await this._callRefreshToken(n.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!_t())throw new Jl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Jl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Mg("No code detected.");const{data:Y,error:L}=await this._exchangeCodeForSession(n.code);if(L)throw L;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:o,refresh_token:h,expires_in:d,expires_at:m,token_type:g}=n;if(!o||!d||!h||!g)throw new Jl("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(d);let w=p+_;m&&(w=parseInt(m));const x=w-p;x*1e3<=Vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const O=w-_;p-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,p):p-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,p);const{data:k,error:M}=await this._getUser(o);if(M)throw M;const V={provider_token:s,provider_refresh_token:u,access_token:o,expires_in:_,expires_at:w,refresh_token:h,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await za(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:u,error:o}=r;if(o&&!lf(o))return this._returnResult({error:o});const h=(s=u.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:d}=await this.admin.signOut(h,n);if(d&&!(k1(d)&&(d.status===404||d.status===401||d.status===403)||lf(d)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=B1(),s={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async r=>{var s,u;try{const{data:{session:o},error:h}=r;if(h)throw h;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Li(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var n;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:s,error:u}=await this._useSession(async o=>{var h,d,m,g,p;const{data:_,error:w}=o;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(u)throw u;return _t()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:n.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ae(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var s;try{const{error:u,data:{session:o}}=r;if(u)throw u;const{options:h,provider:d,token:m,access_token:g,nonce:p}=n,_=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:m,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rn}),{data:w,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new zi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(u){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var s,u;const{data:o,error:h}=r;if(h)throw h;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Y1(async u=>(u>0&&await $1(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:rn})),(u,o)=>{const h=200*Math.pow(2,u);return o&&uf(o)&&Date.now()+h-s<Vi})}catch(s){if(this._debug(r,"error",s),ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",s),_t()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await za(this.storage,this.storageKey);if(u&&this.userStorage){let h=await za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Ki(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:of()}else if(u&&!u.user&&!u.user){const h=await za(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await bt(this.storage,this.storageKey+"-user"),await Ki(this.storage,this.storageKey,u)):u.user=of()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const o=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sf;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${sf}s`),o){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),uf(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:d}=await this._getUser(u.access_token);!d&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var r,s;if(!n)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Nu;const{data:o,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!o.session)throw new $t;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(u,"error",o),ae(o)){const h={data:null,error:o};return uf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,r,s=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(m){o.push(m)}});if(await Promise.all(h),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ki(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const o=Bg(u);await Ki(this.storage,this.storageKey,o)}else{const u=Bg(r);await Ki(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Vi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-n)/Vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Vi}ms, refresh threshold is ${Of} ticks`),u<=Of&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Xy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,s){const u=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,h]=await Li(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(d.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);u.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var s;const{data:u,error:o}=r;return o?this._returnResult({data:null,error:o}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var s,u;const{data:o,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:o}=r;if(o)return this._returnResult({data:null,error:o});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?vx(n.webauthn.credential_response):bx(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:o}=r;if(o)return this._returnResult({data:null,error:o});const h=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:d}=h;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:yx(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:px(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const o of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])u.all.push(o),o.status==="verified"&&u[o.factor_type].push(o);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,s,u,o;if(n)try{const{payload:x}=Il(n);let O=null;x.aal&&(O=x.aal);let k=O;const{data:{user:M},error:V}=await this.getUser(n);if(V)return this._returnResult({data:null,error:V});((s=(r=M==null?void 0:M.factors)===null||r===void 0?void 0:r.filter(U=>U.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(k="aal2");const L=x.amr||[];return{data:{currentLevel:O,nextLevel:k,currentAuthenticationMethods:L},error:null}}catch(x){if(ae(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:h},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Il(h.access_token);let g=null;m.aal&&(g=m.aal);let p=g;((o=(u=h.user.factors)===null||u===void 0?void 0:u.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;return u?this._returnResult({data:null,error:u}):s?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async s=>{const{data:{session:u},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!u)return this._returnResult({data:null,error:new $t});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,r){try{return await this._useSession(async s=>{const{data:{session:u},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!u)return this._returnResult({data:null,error:new $t});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;return u?this._returnResult({data:null,error:u}):s?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let s=r.keys.find(d=>d.kid===n);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(d=>d.kid===n),s&&this.jwks_cached_at+O1>u)return s;const{data:o,error:h}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=u,s=o.keys.find(d=>d.kid===n),!s)?null:s}async getClaims(n,r={}){try{let s=n;if(!s){const{data:x,error:O}=await this.getSession();if(O||!x.session)return this._returnResult({data:null,error:O});s=x.session.access_token}const{header:u,payload:o,signature:h,raw:{header:d,payload:m}}=Il(s);r!=null&&r.allowExpired||I1(o.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:o,header:u,signature:h},error:null}}const p=Z1(u.alg),_=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,h,z1(`${d}.${m}`)))throw new jf("Invalid JWT signature");return{data:{claims:o,header:u,signature:h},error:null}}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}}ys.nextInstanceID={};const Nx=ys,kx="2.94.1";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const jx={"X-Client-Info":`supabase-js-${is}/${kx}`},Cx={headers:jx},Rx={schema:"public"},Mx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dx={};function ps(a){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ps(a)}function Ux(a,n){if(ps(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(ps(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function zx(a){var n=Ux(a,"string");return ps(n)=="symbol"?n:n+""}function Lx(a,n,r){return(n=zx(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function Kg(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),r.push.apply(r,s)}return r}function Je(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Kg(Object(r),!0).forEach(function(s){Lx(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const Bx=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),qx=()=>Headers,Hx=(a,n,r)=>{const s=Bx(r),u=qx();return async(o,h)=>{var d;const m=(d=await n())!==null&&d!==void 0?d:a;let g=new u(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),s(o,Je(Je({},h),{},{headers:g}))}};function $x(a){return a.endsWith("/")?a:a+"/"}function Yx(a,n){var r,s;const{db:u,auth:o,realtime:h,global:d}=a,{db:m,auth:g,realtime:p,global:_}=n,w={db:Je(Je({},m),u),auth:Je(Je({},g),o),realtime:Je(Je({},p),h),storage:{},global:Je(Je(Je({},_),d),{},{headers:Je(Je({},(r=_==null?void 0:_.headers)!==null&&r!==void 0?r:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function Gx(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($x(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Vx=class extends Nx{constructor(a){super(a)}},Kx=class{constructor(a,n,r){var s,u;this.supabaseUrl=a,this.supabaseKey=n;const o=Gx(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const h=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:Rx,realtime:Dx,auth:Je(Je({},Mx),{},{storageKey:h}),global:Cx},m=Yx(r??{},d);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=Hx(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new kw(new URL("rest/v1",o).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new x1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new ww(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,r)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,r;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:u,storageKey:o,flowType:h,lock:d,debug:m,throwOnError:g},p,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vx({url:this.authUrl.href,headers:Je(Je({},w),p),storageKey:o,autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:u,flowType:h,lock:d,debug:m,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Xw(this.realtimeUrl.href,Je(Je({},a),{},{params:Je(Je({},{apikey:this.supabaseKey}),a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(a,n,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Xx=(a,n,r)=>new Kx(a,n,r);function Qx(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Qx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jx="https://ornzvfifcmkqszxfkpcn.supabase.co",Ix="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ybnp2ZmlmY21rcXN6eGZrcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyNDcxMzksImV4cCI6MjA4NTgyMzEzOX0.Jg0LFrWiroRXq1_sDzgCpRcGRiDp087qBp137b0DsB4",Qe=Xx(Jx,Ix),Iy=pe.createContext(void 0),Zx=({children:a})=>{const[n,r]=pe.useState([]),s=pe.useCallback((o,h)=>{const d=Math.random().toString(36).substr(2,9);r(m=>[...m,{id:d,message:o,type:h}]),setTimeout(()=>{r(m=>m.filter(g=>g.id!==d))},5e3)},[]),u={success:{container:"bg-emerald-50 text-emerald-800 border border-emerald-200",icon:v.jsx(z_,{size:18,className:"text-emerald-500 shrink-0"})},error:{container:"bg-red-50 text-red-800 border border-red-200",icon:v.jsx(Cy,{size:18,className:"text-red-500 shrink-0"})},info:{container:"bg-sky-50 text-sky-800 border border-sky-200",icon:v.jsx(K_,{size:18,className:"text-sky-500 shrink-0"})}};return v.jsxs(Iy.Provider,{value:{addToast:s},children:[a,v.jsx("div",{className:"fixed top-4 right-4 z-[1080] flex flex-col gap-2.5 pointer-events-none",role:"region","aria-label":"Notifications",children:n.map(o=>v.jsxs("div",{role:"alert",className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-elevated animate-slide-down ${u[o.type].container}`,style:{minWidth:"300px",maxWidth:"440px"},children:[u[o.type].icon,v.jsx("span",{className:"text-sm font-medium flex-1",children:o.message}),v.jsx("button",{onClick:()=>r(h=>h.filter(d=>d.id!==o.id)),className:"ml-auto shrink-0 w-6 h-6 rounded-md flex items-center justify-center hover:bg-black/5 transition-colors","aria-label":"Dismiss",children:v.jsx(yw,{size:14})})]},o.id))})]})},ku=()=>{const a=pe.useContext(Iy);if(!a)throw new Error("useToast must be used within a ToastProvider");return a},Wx=({onLogin:a})=>{const[n,r]=pe.useState(!0),[s,u]=pe.useState(!1),{addToast:o}=ku(),[h,d]=pe.useState(""),[m,g]=pe.useState(""),[p,_]=pe.useState(""),[w,x]=pe.useState(""),O=async k=>{k.preventDefault(),u(!0);try{if(n){const{error:M}=await Qe.auth.signInWithPassword({email:h,password:m});if(M)throw M;o("Welcome back!","success"),a()}else{const{error:M}=await Qe.auth.signUp({email:h,password:m,options:{data:{full_name:p,apartment:w,role:"resident"}}});if(M)throw M;o("Account created! Please check your email.","success"),r(!0)}}catch(M){o(M.message,"error")}finally{u(!1)}};return v.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-sky-900/20 via-slate-900 to-slate-900"}),v.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}}),v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-scale-in",children:[v.jsxs("div",{className:"bg-slate-50 p-8 text-center border-b border-slate-100",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-sky-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-sky-500/30 text-white transform rotate-3 hover:rotate-6 transition-transform duration-300",children:v.jsx(iu,{size:32,strokeWidth:1.5})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"LUMINA"}),v.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Building Management System"})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"flex gap-4 mb-8 bg-slate-100 p-1 rounded-xl",children:[v.jsx("button",{onClick:()=>r(!0),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${n?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-900"}`,children:"Sign In"}),v.jsx("button",{onClick:()=>r(!1),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${n?"text-slate-500 hover:text-slate-900":"bg-white text-slate-900 shadow-sm"}`,children:"Sign Up"})]}),v.jsxs("form",{onSubmit:O,className:"space-y-5",children:[!n&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Full Name"}),v.jsxs("div",{className:"relative group",children:[v.jsx(dw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-sky-500 transition-colors",size:18}),v.jsx("input",{type:"text",required:!0,value:p,onChange:k=>_(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:"John Doe"})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Unit / Apartment"}),v.jsxs("div",{className:"relative group",children:[v.jsx(iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-sky-500 transition-colors",size:18}),v.jsx("input",{type:"text",required:!0,value:w,onChange:k=>x(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:"e.g. 101A"})]})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email Address"}),v.jsxs("div",{className:"relative group",children:[v.jsx(W_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-sky-500 transition-colors",size:18}),v.jsx("input",{type:"email",required:!0,value:h,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:"name@example.com"})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Password"}),v.jsxs("div",{className:"relative group",children:[v.jsx(J_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-sky-500 transition-colors",size:18}),v.jsx("input",{type:"password",required:!0,value:m,onChange:k=>g(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:""})]})]}),v.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 text-white font-semibold py-3 rounded-xl shadow-lg shadow-sky-500/25 flex items-center justify-center gap-2 transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:s?v.jsx(Ry,{className:"animate-spin",size:20}):v.jsxs(v.Fragment,{children:[n?"Sign In":"Create Account",v.jsx(N_,{size:20})]})})]})]}),v.jsx("div",{className:"bg-slate-50 p-4 text-center border-t border-slate-100",children:v.jsxs("p",{className:"text-xs text-slate-400 flex items-center justify-center gap-1.5",children:[v.jsx(B_,{size:12,className:"text-emerald-500"}),"Secure Authentication"]})})]})]})},ff=a=>{const n={weekday:"short",month:"long",day:"numeric"};return new Date(a).toLocaleDateString("es-ES",n)},Fx=(a,n)=>new Date(a,n+1,0).getDate(),Px=(a,n)=>new Date(a,n,1).getDay(),eS=(a,n)=>{const r=[];let[s]=a.split(":").map(Number);const[u]=n.split(":").map(Number);for(;s<u;)r.push(`${s.toString().padStart(2,"0")}:00`),s++;return r},Xg=a=>{const n=new Date,r=isNaN(a)?0:a;return n.setDate(n.getDate()+r),n.toISOString().split("T")[0]},tS=a=>{const n=a.split(`
`),r=[];for(let s=0;s<n.length;s++){const u=n[s].trim();if(!u)continue;const[o,h,d]=u.split(",").map(m=>m.trim());d&&d.includes("@")&&r.push({name:o,unit:h,email:d})}return r};function eu(a,n){return a==null||n==null?NaN:a<n?-1:a>n?1:a>=n?0:NaN}function nS(a,n){return a==null||n==null?NaN:n<a?-1:n>a?1:n>=a?0:NaN}function Qf(a){let n,r,s;a.length!==2?(n=eu,r=(d,m)=>eu(a(d),m),s=(d,m)=>a(d)-m):(n=a===eu||a===nS?a:aS,r=a,s=a);function u(d,m,g=0,p=d.length){if(g<p){if(n(m,m)!==0)return p;do{const _=g+p>>>1;r(d[_],m)<0?g=_+1:p=_}while(g<p)}return g}function o(d,m,g=0,p=d.length){if(g<p){if(n(m,m)!==0)return p;do{const _=g+p>>>1;r(d[_],m)<=0?g=_+1:p=_}while(g<p)}return g}function h(d,m,g=0,p=d.length){const _=u(d,m,g,p-1);return _>g&&s(d[_-1],m)>-s(d[_],m)?_-1:_}return{left:u,center:h,right:o}}function aS(){return 0}function iS(a){return a===null?NaN:+a}const rS=Qf(eu),sS=rS.right;Qf(iS).center;function lS(a,n){let r,s;if(n===void 0)for(const u of a)u!=null&&(r===void 0?u>=u&&(r=s=u):(r>u&&(r=u),s<u&&(s=u)));else{let u=-1;for(let o of a)(o=n(o,++u,a))!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}return[r,s]}class Qg extends Map{constructor(n,r=cS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[s,u]of n)this.set(s,u)}get(n){return super.get(Jg(this,n))}has(n){return super.has(Jg(this,n))}set(n,r){return super.set(uS(this,n),r)}delete(n){return super.delete(oS(this,n))}}function Jg({_intern:a,_key:n},r){const s=n(r);return a.has(s)?a.get(s):r}function uS({_intern:a,_key:n},r){const s=n(r);return a.has(s)?a.get(s):(a.set(s,r),r)}function oS({_intern:a,_key:n},r){const s=n(r);return a.has(s)&&(r=a.get(s),a.delete(s)),r}function cS(a){return a!==null&&typeof a=="object"?a.valueOf():a}const fS=Math.sqrt(50),hS=Math.sqrt(10),dS=Math.sqrt(2);function cu(a,n,r){const s=(n-a)/Math.max(0,r),u=Math.floor(Math.log10(s)),o=s/Math.pow(10,u),h=o>=fS?10:o>=hS?5:o>=dS?2:1;let d,m,g;return u<0?(g=Math.pow(10,-u)/h,d=Math.round(a*g),m=Math.round(n*g),d/g<a&&++d,m/g>n&&--m,g=-g):(g=Math.pow(10,u)*h,d=Math.round(a/g),m=Math.round(n/g),d*g<a&&++d,m*g>n&&--m),m<d&&.5<=r&&r<2?cu(a,n,r*2):[d,m,g]}function mS(a,n,r){if(n=+n,a=+a,r=+r,!(r>0))return[];if(a===n)return[a];const s=n<a,[u,o,h]=s?cu(n,a,r):cu(a,n,r);if(!(o>=u))return[];const d=o-u+1,m=new Array(d);if(s)if(h<0)for(let g=0;g<d;++g)m[g]=(o-g)/-h;else for(let g=0;g<d;++g)m[g]=(o-g)*h;else if(h<0)for(let g=0;g<d;++g)m[g]=(u+g)/-h;else for(let g=0;g<d;++g)m[g]=(u+g)*h;return m}function Cf(a,n,r){return n=+n,a=+a,r=+r,cu(a,n,r)[2]}function Rf(a,n,r){n=+n,a=+a,r=+r;const s=n<a,u=s?Cf(n,a,r):Cf(a,n,r);return(s?-1:1)*(u<0?1/-u:u)}function Zy(a,n){let r;if(n===void 0)for(const s of a)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let u of a)(u=n(u,++s,a))!=null&&(r<u||r===void 0&&u>=u)&&(r=u)}return r}function gS(a,n,r){a=+a,n=+n,r=(u=arguments.length)<2?(n=a,a=0,1):u<3?1:+r;for(var s=-1,u=Math.max(0,Math.ceil((n-a)/r))|0,o=new Array(u);++s<u;)o[s]=a+s*r;return o}function yS(a){return a}var hf=1,df=2,Mf=3,rs=4,Ig=1e-6;function pS(a){return"translate("+a+",0)"}function vS(a){return"translate(0,"+a+")"}function bS(a){return n=>+a(n)}function _S(a,n){return n=Math.max(0,a.bandwidth()-n*2)/2,a.round()&&(n=Math.round(n)),r=>+a(r)+n}function wS(){return!this.__axis}function Wy(a,n){var r=[],s=null,u=null,o=6,h=6,d=3,m=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=a===hf||a===rs?-1:1,p=a===rs||a===df?"x":"y",_=a===hf||a===Mf?pS:vS;function w(x){var O=s??(n.ticks?n.ticks.apply(n,r):n.domain()),k=u??(n.tickFormat?n.tickFormat.apply(n,r):yS),M=Math.max(o,0)+d,V=n.range(),Y=+V[0]+m,L=+V[V.length-1]+m,U=(n.bandwidth?_S:bS)(n.copy(),m),Z=x.selection?x.selection():x,H=Z.selectAll(".domain").data([null]),X=Z.selectAll(".tick").data(O,n).order(),ce=X.exit(),fe=X.enter().append("g").attr("class","tick"),Q=X.select("line"),Ee=X.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),X=X.merge(fe),Q=Q.merge(fe.append("line").attr("stroke","currentColor").attr(p+"2",g*o)),Ee=Ee.merge(fe.append("text").attr("fill","currentColor").attr(p,g*M).attr("dy",a===hf?"0em":a===Mf?"0.71em":"0.32em")),x!==Z&&(H=H.transition(x),X=X.transition(x),Q=Q.transition(x),Ee=Ee.transition(x),ce=ce.transition(x).attr("opacity",Ig).attr("transform",function(F){return isFinite(F=U(F))?_(F+m):this.getAttribute("transform")}),fe.attr("opacity",Ig).attr("transform",function(F){var je=this.parentNode.__axis;return _((je&&isFinite(je=je(F))?je:U(F))+m)})),ce.remove(),H.attr("d",a===rs||a===df?h?"M"+g*h+","+Y+"H"+m+"V"+L+"H"+g*h:"M"+m+","+Y+"V"+L:h?"M"+Y+","+g*h+"V"+m+"H"+L+"V"+g*h:"M"+Y+","+m+"H"+L),X.attr("opacity",1).attr("transform",function(F){return _(U(F)+m)}),Q.attr(p+"2",g*o),Ee.attr(p,g*M).text(k),Z.filter(wS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===df?"start":a===rs?"end":"middle"),Z.each(function(){this.__axis=U})}return w.scale=function(x){return arguments.length?(n=x,w):n},w.ticks=function(){return r=Array.from(arguments),w},w.tickArguments=function(x){return arguments.length?(r=x==null?[]:Array.from(x),w):r.slice()},w.tickValues=function(x){return arguments.length?(s=x==null?null:Array.from(x),w):s&&s.slice()},w.tickFormat=function(x){return arguments.length?(u=x,w):u},w.tickSize=function(x){return arguments.length?(o=h=+x,w):o},w.tickSizeInner=function(x){return arguments.length?(o=+x,w):o},w.tickSizeOuter=function(x){return arguments.length?(h=+x,w):h},w.tickPadding=function(x){return arguments.length?(d=+x,w):d},w.offset=function(x){return arguments.length?(m=+x,w):m},w}function Fy(a){return Wy(Mf,a)}function Py(a){return Wy(rs,a)}var xS={value:()=>{}};function ep(){for(var a=0,n=arguments.length,r={},s;a<n;++a){if(!(s=arguments[a]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new tu(r)}function tu(a){this._=a}function SS(a,n){return a.trim().split(/^|\s+/).map(function(r){var s="",u=r.indexOf(".");if(u>=0&&(s=r.slice(u+1),r=r.slice(0,u)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}tu.prototype=ep.prototype={constructor:tu,on:function(a,n){var r=this._,s=SS(a+"",r),u,o=-1,h=s.length;if(arguments.length<2){for(;++o<h;)if((u=(a=s[o]).type)&&(u=TS(r[u],a.name)))return u;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<h;)if(u=(a=s[o]).type)r[u]=Zg(r[u],a.name,n);else if(n==null)for(u in r)r[u]=Zg(r[u],a.name,null);return this},copy:function(){var a={},n=this._;for(var r in n)a[r]=n[r].slice();return new tu(a)},call:function(a,n){if((u=arguments.length-2)>0)for(var r=new Array(u),s=0,u,o;s<u;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(o=this._[a],s=0,u=o.length;s<u;++s)o[s].value.apply(n,r)},apply:function(a,n,r){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var s=this._[a],u=0,o=s.length;u<o;++u)s[u].value.apply(n,r)}};function TS(a,n){for(var r=0,s=a.length,u;r<s;++r)if((u=a[r]).name===n)return u.value}function Zg(a,n,r){for(var s=0,u=a.length;s<u;++s)if(a[s].name===n){a[s]=xS,a=a.slice(0,s).concat(a.slice(s+1));break}return r!=null&&a.push({name:n,value:r}),a}var Df="http://www.w3.org/1999/xhtml";const Wg={svg:"http://www.w3.org/2000/svg",xhtml:Df,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ju(a){var n=a+="",r=n.indexOf(":");return r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),Wg.hasOwnProperty(n)?{space:Wg[n],local:a}:a}function ES(a){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Df&&n.documentElement.namespaceURI===Df?n.createElement(a):n.createElementNS(r,a)}}function AS(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function tp(a){var n=ju(a);return(n.local?AS:ES)(n)}function OS(){}function Jf(a){return a==null?OS:function(){return this.querySelector(a)}}function NS(a){typeof a!="function"&&(a=Jf(a));for(var n=this._groups,r=n.length,s=new Array(r),u=0;u<r;++u)for(var o=n[u],h=o.length,d=s[u]=new Array(h),m,g,p=0;p<h;++p)(m=o[p])&&(g=a.call(m,m.__data__,p,o))&&("__data__"in m&&(g.__data__=m.__data__),d[p]=g);return new Gt(s,this._parents)}function kS(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function jS(){return[]}function np(a){return a==null?jS:function(){return this.querySelectorAll(a)}}function CS(a){return function(){return kS(a.apply(this,arguments))}}function RS(a){typeof a=="function"?a=CS(a):a=np(a);for(var n=this._groups,r=n.length,s=[],u=[],o=0;o<r;++o)for(var h=n[o],d=h.length,m,g=0;g<d;++g)(m=h[g])&&(s.push(a.call(m,m.__data__,g,h)),u.push(m));return new Gt(s,u)}function ap(a){return function(){return this.matches(a)}}function ip(a){return function(n){return n.matches(a)}}var MS=Array.prototype.find;function DS(a){return function(){return MS.call(this.children,a)}}function US(){return this.firstElementChild}function zS(a){return this.select(a==null?US:DS(typeof a=="function"?a:ip(a)))}var LS=Array.prototype.filter;function BS(){return Array.from(this.children)}function qS(a){return function(){return LS.call(this.children,a)}}function HS(a){return this.selectAll(a==null?BS:qS(typeof a=="function"?a:ip(a)))}function $S(a){typeof a!="function"&&(a=ap(a));for(var n=this._groups,r=n.length,s=new Array(r),u=0;u<r;++u)for(var o=n[u],h=o.length,d=s[u]=[],m,g=0;g<h;++g)(m=o[g])&&a.call(m,m.__data__,g,o)&&d.push(m);return new Gt(s,this._parents)}function rp(a){return new Array(a.length)}function YS(){return new Gt(this._enter||this._groups.map(rp),this._parents)}function fu(a,n){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=n}fu.prototype={constructor:fu,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,n){return this._parent.insertBefore(a,n)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function GS(a){return function(){return a}}function VS(a,n,r,s,u,o){for(var h=0,d,m=n.length,g=o.length;h<g;++h)(d=n[h])?(d.__data__=o[h],s[h]=d):r[h]=new fu(a,o[h]);for(;h<m;++h)(d=n[h])&&(u[h]=d)}function KS(a,n,r,s,u,o,h){var d,m,g=new Map,p=n.length,_=o.length,w=new Array(p),x;for(d=0;d<p;++d)(m=n[d])&&(w[d]=x=h.call(m,m.__data__,d,n)+"",g.has(x)?u[d]=m:g.set(x,m));for(d=0;d<_;++d)x=h.call(a,o[d],d,o)+"",(m=g.get(x))?(s[d]=m,m.__data__=o[d],g.delete(x)):r[d]=new fu(a,o[d]);for(d=0;d<p;++d)(m=n[d])&&g.get(w[d])===m&&(u[d]=m)}function XS(a){return a.__data__}function QS(a,n){if(!arguments.length)return Array.from(this,XS);var r=n?KS:VS,s=this._parents,u=this._groups;typeof a!="function"&&(a=GS(a));for(var o=u.length,h=new Array(o),d=new Array(o),m=new Array(o),g=0;g<o;++g){var p=s[g],_=u[g],w=_.length,x=JS(a.call(p,p&&p.__data__,g,s)),O=x.length,k=d[g]=new Array(O),M=h[g]=new Array(O),V=m[g]=new Array(w);r(p,_,k,M,V,x,n);for(var Y=0,L=0,U,Z;Y<O;++Y)if(U=k[Y]){for(Y>=L&&(L=Y+1);!(Z=M[L])&&++L<O;);U._next=Z||null}}return h=new Gt(h,s),h._enter=d,h._exit=m,h}function JS(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function IS(){return new Gt(this._exit||this._groups.map(rp),this._parents)}function ZS(a,n,r){var s=this.enter(),u=this,o=this.exit();return typeof a=="function"?(s=a(s),s&&(s=s.selection())):s=s.append(a+""),n!=null&&(u=n(u),u&&(u=u.selection())),r==null?o.remove():r(o),s&&u?s.merge(u).order():u}function WS(a){for(var n=a.selection?a.selection():a,r=this._groups,s=n._groups,u=r.length,o=s.length,h=Math.min(u,o),d=new Array(u),m=0;m<h;++m)for(var g=r[m],p=s[m],_=g.length,w=d[m]=new Array(_),x,O=0;O<_;++O)(x=g[O]||p[O])&&(w[O]=x);for(;m<u;++m)d[m]=r[m];return new Gt(d,this._parents)}function FS(){for(var a=this._groups,n=-1,r=a.length;++n<r;)for(var s=a[n],u=s.length-1,o=s[u],h;--u>=0;)(h=s[u])&&(o&&h.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(h,o),o=h);return this}function PS(a){a||(a=e2);function n(_,w){return _&&w?a(_.__data__,w.__data__):!_-!w}for(var r=this._groups,s=r.length,u=new Array(s),o=0;o<s;++o){for(var h=r[o],d=h.length,m=u[o]=new Array(d),g,p=0;p<d;++p)(g=h[p])&&(m[p]=g);m.sort(n)}return new Gt(u,this._parents).order()}function e2(a,n){return a<n?-1:a>n?1:a>=n?0:NaN}function t2(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function n2(){return Array.from(this)}function a2(){for(var a=this._groups,n=0,r=a.length;n<r;++n)for(var s=a[n],u=0,o=s.length;u<o;++u){var h=s[u];if(h)return h}return null}function i2(){let a=0;for(const n of this)++a;return a}function r2(){return!this.node()}function s2(a){for(var n=this._groups,r=0,s=n.length;r<s;++r)for(var u=n[r],o=0,h=u.length,d;o<h;++o)(d=u[o])&&a.call(d,d.__data__,o,u);return this}function l2(a){return function(){this.removeAttribute(a)}}function u2(a){return function(){this.removeAttributeNS(a.space,a.local)}}function o2(a,n){return function(){this.setAttribute(a,n)}}function c2(a,n){return function(){this.setAttributeNS(a.space,a.local,n)}}function f2(a,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(a):this.setAttribute(a,r)}}function h2(a,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,r)}}function d2(a,n){var r=ju(a);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((n==null?r.local?u2:l2:typeof n=="function"?r.local?h2:f2:r.local?c2:o2)(r,n))}function sp(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function m2(a){return function(){this.style.removeProperty(a)}}function g2(a,n,r){return function(){this.style.setProperty(a,n,r)}}function y2(a,n,r){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(a):this.style.setProperty(a,s,r)}}function p2(a,n,r){return arguments.length>1?this.each((n==null?m2:typeof n=="function"?y2:g2)(a,n,r??"")):Fi(this.node(),a)}function Fi(a,n){return a.style.getPropertyValue(n)||sp(a).getComputedStyle(a,null).getPropertyValue(n)}function v2(a){return function(){delete this[a]}}function b2(a,n){return function(){this[a]=n}}function _2(a,n){return function(){var r=n.apply(this,arguments);r==null?delete this[a]:this[a]=r}}function w2(a,n){return arguments.length>1?this.each((n==null?v2:typeof n=="function"?_2:b2)(a,n)):this.node()[a]}function lp(a){return a.trim().split(/^|\s+/)}function If(a){return a.classList||new up(a)}function up(a){this._node=a,this._names=lp(a.getAttribute("class")||"")}up.prototype={add:function(a){var n=this._names.indexOf(a);n<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var n=this._names.indexOf(a);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function op(a,n){for(var r=If(a),s=-1,u=n.length;++s<u;)r.add(n[s])}function cp(a,n){for(var r=If(a),s=-1,u=n.length;++s<u;)r.remove(n[s])}function x2(a){return function(){op(this,a)}}function S2(a){return function(){cp(this,a)}}function T2(a,n){return function(){(n.apply(this,arguments)?op:cp)(this,a)}}function E2(a,n){var r=lp(a+"");if(arguments.length<2){for(var s=If(this.node()),u=-1,o=r.length;++u<o;)if(!s.contains(r[u]))return!1;return!0}return this.each((typeof n=="function"?T2:n?x2:S2)(r,n))}function A2(){this.textContent=""}function O2(a){return function(){this.textContent=a}}function N2(a){return function(){var n=a.apply(this,arguments);this.textContent=n??""}}function k2(a){return arguments.length?this.each(a==null?A2:(typeof a=="function"?N2:O2)(a)):this.node().textContent}function j2(){this.innerHTML=""}function C2(a){return function(){this.innerHTML=a}}function R2(a){return function(){var n=a.apply(this,arguments);this.innerHTML=n??""}}function M2(a){return arguments.length?this.each(a==null?j2:(typeof a=="function"?R2:C2)(a)):this.node().innerHTML}function D2(){this.nextSibling&&this.parentNode.appendChild(this)}function U2(){return this.each(D2)}function z2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L2(){return this.each(z2)}function B2(a){var n=typeof a=="function"?a:tp(a);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function q2(){return null}function H2(a,n){var r=typeof a=="function"?a:tp(a),s=n==null?q2:typeof n=="function"?n:Jf(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function $2(){var a=this.parentNode;a&&a.removeChild(this)}function Y2(){return this.each($2)}function G2(){var a=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function V2(){var a=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function K2(a){return this.select(a?V2:G2)}function X2(a){return arguments.length?this.property("__data__",a):this.node().__data__}function Q2(a){return function(n){a.call(this,n,this.__data__)}}function J2(a){return a.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");return s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),{type:n,name:r}})}function I2(a){return function(){var n=this.__on;if(n){for(var r=0,s=-1,u=n.length,o;r<u;++r)o=n[r],(!a.type||o.type===a.type)&&o.name===a.name?this.removeEventListener(o.type,o.listener,o.options):n[++s]=o;++s?n.length=s:delete this.__on}}}function Z2(a,n,r){return function(){var s=this.__on,u,o=Q2(n);if(s){for(var h=0,d=s.length;h<d;++h)if((u=s[h]).type===a.type&&u.name===a.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=o,u.options=r),u.value=n;return}}this.addEventListener(a.type,o,r),u={type:a.type,name:a.name,value:n,listener:o,options:r},s?s.push(u):this.__on=[u]}}function W2(a,n,r){var s=J2(a+""),u,o=s.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,g=d.length,p;m<g;++m)for(u=0,p=d[m];u<o;++u)if((h=s[u]).type===p.type&&h.name===p.name)return p.value}return}for(d=n?Z2:I2,u=0;u<o;++u)this.each(d(s[u],n,r));return this}function fp(a,n,r){var s=sp(a),u=s.CustomEvent;typeof u=="function"?u=new u(n,r):(u=s.document.createEvent("Event"),r?(u.initEvent(n,r.bubbles,r.cancelable),u.detail=r.detail):u.initEvent(n,!1,!1)),a.dispatchEvent(u)}function F2(a,n){return function(){return fp(this,a,n)}}function P2(a,n){return function(){return fp(this,a,n.apply(this,arguments))}}function eT(a,n){return this.each((typeof n=="function"?P2:F2)(a,n))}function*tT(){for(var a=this._groups,n=0,r=a.length;n<r;++n)for(var s=a[n],u=0,o=s.length,h;u<o;++u)(h=s[u])&&(yield h)}var hp=[null];function Gt(a,n){this._groups=a,this._parents=n}function xs(){return new Gt([[document.documentElement]],hp)}function nT(){return this}Gt.prototype=xs.prototype={constructor:Gt,select:NS,selectAll:RS,selectChild:zS,selectChildren:HS,filter:$S,data:QS,enter:YS,exit:IS,join:ZS,merge:WS,selection:nT,order:FS,sort:PS,call:t2,nodes:n2,node:a2,size:i2,empty:r2,each:s2,attr:d2,style:p2,property:w2,classed:E2,text:k2,html:M2,raise:U2,lower:L2,append:B2,insert:H2,remove:Y2,clone:K2,datum:X2,on:W2,dispatch:eT,[Symbol.iterator]:tT};function hu(a){return typeof a=="string"?new Gt([[document.querySelector(a)]],[document.documentElement]):new Gt([[a]],hp)}function Zf(a,n,r){a.prototype=n.prototype=r,r.constructor=a}function dp(a,n){var r=Object.create(a.prototype);for(var s in n)r[s]=n[s];return r}function Ss(){}var vs=.7,du=1/vs,Wi="\\s*([+-]?\\d+)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aT=/^#([0-9a-f]{3,8})$/,iT=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),rT=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),sT=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${bs}\\)$`),lT=new RegExp(`^rgba\\(${gn},${gn},${gn},${bs}\\)$`),uT=new RegExp(`^hsl\\(${bs},${gn},${gn}\\)$`),oT=new RegExp(`^hsla\\(${bs},${gn},${gn},${bs}\\)$`),Fg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zf(Ss,Xa,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:Pg,formatHex:Pg,formatHex8:cT,formatHsl:fT,formatRgb:ey,toString:ey});function Pg(){return this.rgb().formatHex()}function cT(){return this.rgb().formatHex8()}function fT(){return mp(this).formatHsl()}function ey(){return this.rgb().formatRgb()}function Xa(a){var n,r;return a=(a+"").trim().toLowerCase(),(n=aT.exec(a))?(r=n[1].length,n=parseInt(n[1],16),r===6?ty(n):r===3?new jt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Zl(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Zl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=iT.exec(a))?new jt(n[1],n[2],n[3],1):(n=rT.exec(a))?new jt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=sT.exec(a))?Zl(n[1],n[2],n[3],n[4]):(n=lT.exec(a))?Zl(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=uT.exec(a))?iy(n[1],n[2]/100,n[3]/100,1):(n=oT.exec(a))?iy(n[1],n[2]/100,n[3]/100,n[4]):Fg.hasOwnProperty(a)?ty(Fg[a]):a==="transparent"?new jt(NaN,NaN,NaN,0):null}function ty(a){return new jt(a>>16&255,a>>8&255,a&255,1)}function Zl(a,n,r,s){return s<=0&&(a=n=r=NaN),new jt(a,n,r,s)}function hT(a){return a instanceof Ss||(a=Xa(a)),a?(a=a.rgb(),new jt(a.r,a.g,a.b,a.opacity)):new jt}function Uf(a,n,r,s){return arguments.length===1?hT(a):new jt(a,n,r,s??1)}function jt(a,n,r,s){this.r=+a,this.g=+n,this.b=+r,this.opacity=+s}Zf(jt,Uf,dp(Ss,{brighter(a){return a=a==null?du:Math.pow(du,a),new jt(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?vs:Math.pow(vs,a),new jt(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new jt(Ka(this.r),Ka(this.g),Ka(this.b),mu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ny,formatHex:ny,formatHex8:dT,formatRgb:ay,toString:ay}));function ny(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function dT(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function ay(){const a=mu(this.opacity);return`${a===1?"rgb(":"rgba("}${Ka(this.r)}, ${Ka(this.g)}, ${Ka(this.b)}${a===1?")":`, ${a})`}`}function mu(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Ka(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Va(a){return a=Ka(a),(a<16?"0":"")+a.toString(16)}function iy(a,n,r,s){return s<=0?a=n=r=NaN:r<=0||r>=1?a=n=NaN:n<=0&&(a=NaN),new on(a,n,r,s)}function mp(a){if(a instanceof on)return new on(a.h,a.s,a.l,a.opacity);if(a instanceof Ss||(a=Xa(a)),!a)return new on;if(a instanceof on)return a;a=a.rgb();var n=a.r/255,r=a.g/255,s=a.b/255,u=Math.min(n,r,s),o=Math.max(n,r,s),h=NaN,d=o-u,m=(o+u)/2;return d?(n===o?h=(r-s)/d+(r<s)*6:r===o?h=(s-n)/d+2:h=(n-r)/d+4,d/=m<.5?o+u:2-o-u,h*=60):d=m>0&&m<1?0:h,new on(h,d,m,a.opacity)}function mT(a,n,r,s){return arguments.length===1?mp(a):new on(a,n,r,s??1)}function on(a,n,r,s){this.h=+a,this.s=+n,this.l=+r,this.opacity=+s}Zf(on,mT,dp(Ss,{brighter(a){return a=a==null?du:Math.pow(du,a),new on(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?vs:Math.pow(vs,a),new on(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,n=isNaN(a)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*n,u=2*r-s;return new jt(mf(a>=240?a-240:a+120,u,s),mf(a,u,s),mf(a<120?a+240:a-120,u,s),this.opacity)},clamp(){return new on(ry(this.h),Wl(this.s),Wl(this.l),mu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=mu(this.opacity);return`${a===1?"hsl(":"hsla("}${ry(this.h)}, ${Wl(this.s)*100}%, ${Wl(this.l)*100}%${a===1?")":`, ${a})`}`}}));function ry(a){return a=(a||0)%360,a<0?a+360:a}function Wl(a){return Math.max(0,Math.min(1,a||0))}function mf(a,n,r){return(a<60?n+(r-n)*a/60:a<180?r:a<240?n+(r-n)*(240-a)/60:n)*255}const Wf=a=>()=>a;function gT(a,n){return function(r){return a+r*n}}function yT(a,n,r){return a=Math.pow(a,r),n=Math.pow(n,r)-a,r=1/r,function(s){return Math.pow(a+s*n,r)}}function pT(a){return(a=+a)==1?gp:function(n,r){return r-n?yT(n,r,a):Wf(isNaN(n)?r:n)}}function gp(a,n){var r=n-a;return r?gT(a,r):Wf(isNaN(a)?n:a)}const gu=(function a(n){var r=pT(n);function s(u,o){var h=r((u=Uf(u)).r,(o=Uf(o)).r),d=r(u.g,o.g),m=r(u.b,o.b),g=gp(u.opacity,o.opacity);return function(p){return u.r=h(p),u.g=d(p),u.b=m(p),u.opacity=g(p),u+""}}return s.gamma=a,s})(1);function vT(a,n){n||(n=[]);var r=a?Math.min(n.length,a.length):0,s=n.slice(),u;return function(o){for(u=0;u<r;++u)s[u]=a[u]*(1-o)+n[u]*o;return s}}function bT(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function _T(a,n){var r=n?n.length:0,s=a?Math.min(r,a.length):0,u=new Array(s),o=new Array(r),h;for(h=0;h<s;++h)u[h]=Ff(a[h],n[h]);for(;h<r;++h)o[h]=n[h];return function(d){for(h=0;h<s;++h)o[h]=u[h](d);return o}}function wT(a,n){var r=new Date;return a=+a,n=+n,function(s){return r.setTime(a*(1-s)+n*s),r}}function un(a,n){return a=+a,n=+n,function(r){return a*(1-r)+n*r}}function xT(a,n){var r={},s={},u;(a===null||typeof a!="object")&&(a={}),(n===null||typeof n!="object")&&(n={});for(u in n)u in a?r[u]=Ff(a[u],n[u]):s[u]=n[u];return function(o){for(u in r)s[u]=r[u](o);return s}}var zf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gf=new RegExp(zf.source,"g");function ST(a){return function(){return a}}function TT(a){return function(n){return a(n)+""}}function yp(a,n){var r=zf.lastIndex=gf.lastIndex=0,s,u,o,h=-1,d=[],m=[];for(a=a+"",n=n+"";(s=zf.exec(a))&&(u=gf.exec(n));)(o=u.index)>r&&(o=n.slice(r,o),d[h]?d[h]+=o:d[++h]=o),(s=s[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,m.push({i:h,x:un(s,u)})),r=gf.lastIndex;return r<n.length&&(o=n.slice(r),d[h]?d[h]+=o:d[++h]=o),d.length<2?m[0]?TT(m[0].x):ST(n):(n=m.length,function(g){for(var p=0,_;p<n;++p)d[(_=m[p]).i]=_.x(g);return d.join("")})}function Ff(a,n){var r=typeof n,s;return n==null||r==="boolean"?Wf(n):(r==="number"?un:r==="string"?(s=Xa(n))?(n=s,gu):yp:n instanceof Xa?gu:n instanceof Date?wT:bT(n)?vT:Array.isArray(n)?_T:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?xT:un)(a,n)}function ET(a,n){return a=+a,n=+n,function(r){return Math.round(a*(1-r)+n*r)}}var sy=180/Math.PI,Lf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pp(a,n,r,s,u,o){var h,d,m;return(h=Math.sqrt(a*a+n*n))&&(a/=h,n/=h),(m=a*r+n*s)&&(r-=a*m,s-=n*m),(d=Math.sqrt(r*r+s*s))&&(r/=d,s/=d,m/=d),a*s<n*r&&(a=-a,n=-n,m=-m,h=-h),{translateX:u,translateY:o,rotate:Math.atan2(n,a)*sy,skewX:Math.atan(m)*sy,scaleX:h,scaleY:d}}var Fl;function AT(a){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return n.isIdentity?Lf:pp(n.a,n.b,n.c,n.d,n.e,n.f)}function OT(a){return a==null||(Fl||(Fl=document.createElementNS("http://www.w3.org/2000/svg","g")),Fl.setAttribute("transform",a),!(a=Fl.transform.baseVal.consolidate()))?Lf:(a=a.matrix,pp(a.a,a.b,a.c,a.d,a.e,a.f))}function vp(a,n,r,s){function u(g){return g.length?g.pop()+" ":""}function o(g,p,_,w,x,O){if(g!==_||p!==w){var k=x.push("translate(",null,n,null,r);O.push({i:k-4,x:un(g,_)},{i:k-2,x:un(p,w)})}else(_||w)&&x.push("translate("+_+n+w+r)}function h(g,p,_,w){g!==p?(g-p>180?p+=360:p-g>180&&(g+=360),w.push({i:_.push(u(_)+"rotate(",null,s)-2,x:un(g,p)})):p&&_.push(u(_)+"rotate("+p+s)}function d(g,p,_,w){g!==p?w.push({i:_.push(u(_)+"skewX(",null,s)-2,x:un(g,p)}):p&&_.push(u(_)+"skewX("+p+s)}function m(g,p,_,w,x,O){if(g!==_||p!==w){var k=x.push(u(x)+"scale(",null,",",null,")");O.push({i:k-4,x:un(g,_)},{i:k-2,x:un(p,w)})}else(_!==1||w!==1)&&x.push(u(x)+"scale("+_+","+w+")")}return function(g,p){var _=[],w=[];return g=a(g),p=a(p),o(g.translateX,g.translateY,p.translateX,p.translateY,_,w),h(g.rotate,p.rotate,_,w),d(g.skewX,p.skewX,_,w),m(g.scaleX,g.scaleY,p.scaleX,p.scaleY,_,w),g=p=null,function(x){for(var O=-1,k=w.length,M;++O<k;)_[(M=w[O]).i]=M.x(x);return _.join("")}}}var NT=vp(AT,"px, ","px)","deg)"),kT=vp(OT,", ",")",")"),Pi=0,ss=0,es=0,bp=1e3,yu,ls,pu=0,Qa=0,Cu=0,_s=typeof performance=="object"&&performance.now?performance:Date,_p=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function Pf(){return Qa||(_p(jT),Qa=_s.now()+Cu)}function jT(){Qa=0}function vu(){this._call=this._time=this._next=null}vu.prototype=wp.prototype={constructor:vu,restart:function(a,n,r){if(typeof a!="function")throw new TypeError("callback is not a function");r=(r==null?Pf():+r)+(n==null?0:+n),!this._next&&ls!==this&&(ls?ls._next=this:yu=this,ls=this),this._call=a,this._time=r,Bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bf())}};function wp(a,n,r){var s=new vu;return s.restart(a,n,r),s}function CT(){Pf(),++Pi;for(var a=yu,n;a;)(n=Qa-a._time)>=0&&a._call.call(void 0,n),a=a._next;--Pi}function ly(){Qa=(pu=_s.now())+Cu,Pi=ss=0;try{CT()}finally{Pi=0,MT(),Qa=0}}function RT(){var a=_s.now(),n=a-pu;n>bp&&(Cu-=n,pu=a)}function MT(){for(var a,n=yu,r,s=1/0;n;)n._call?(s>n._time&&(s=n._time),a=n,n=n._next):(r=n._next,n._next=null,n=a?a._next=r:yu=r);ls=a,Bf(s)}function Bf(a){if(!Pi){ss&&(ss=clearTimeout(ss));var n=a-Qa;n>24?(a<1/0&&(ss=setTimeout(ly,a-_s.now()-Cu)),es&&(es=clearInterval(es))):(es||(pu=_s.now(),es=setInterval(RT,bp)),Pi=1,_p(ly))}}function uy(a,n,r){var s=new vu;return n=n==null?0:+n,s.restart(u=>{s.stop(),a(u+n)},n,r),s}var DT=ep("start","end","cancel","interrupt"),UT=[],xp=0,oy=1,qf=2,nu=3,cy=4,Hf=5,au=6;function Ru(a,n,r,s,u,o){var h=a.__transition;if(!h)a.__transition={};else if(r in h)return;zT(a,r,{name:n,index:s,group:u,on:DT,tween:UT,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xp})}function eh(a,n){var r=cn(a,n);if(r.state>xp)throw new Error("too late; already scheduled");return r}function yn(a,n){var r=cn(a,n);if(r.state>nu)throw new Error("too late; already running");return r}function cn(a,n){var r=a.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function zT(a,n,r){var s=a.__transition,u;s[n]=r,r.timer=wp(o,0,r.time);function o(g){r.state=oy,r.timer.restart(h,r.delay,r.time),r.delay<=g&&h(g-r.delay)}function h(g){var p,_,w,x;if(r.state!==oy)return m();for(p in s)if(x=s[p],x.name===r.name){if(x.state===nu)return uy(h);x.state===cy?(x.state=au,x.timer.stop(),x.on.call("interrupt",a,a.__data__,x.index,x.group),delete s[p]):+p<n&&(x.state=au,x.timer.stop(),x.on.call("cancel",a,a.__data__,x.index,x.group),delete s[p])}if(uy(function(){r.state===nu&&(r.state=cy,r.timer.restart(d,r.delay,r.time),d(g))}),r.state=qf,r.on.call("start",a,a.__data__,r.index,r.group),r.state===qf){for(r.state=nu,u=new Array(w=r.tween.length),p=0,_=-1;p<w;++p)(x=r.tween[p].value.call(a,a.__data__,r.index,r.group))&&(u[++_]=x);u.length=_+1}}function d(g){for(var p=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(m),r.state=Hf,1),_=-1,w=u.length;++_<w;)u[_].call(a,p);r.state===Hf&&(r.on.call("end",a,a.__data__,r.index,r.group),m())}function m(){r.state=au,r.timer.stop(),delete s[n];for(var g in s)return;delete a.__transition}}function LT(a,n){var r=a.__transition,s,u,o=!0,h;if(r){n=n==null?null:n+"";for(h in r){if((s=r[h]).name!==n){o=!1;continue}u=s.state>qf&&s.state<Hf,s.state=au,s.timer.stop(),s.on.call(u?"interrupt":"cancel",a,a.__data__,s.index,s.group),delete r[h]}o&&delete a.__transition}}function BT(a){return this.each(function(){LT(this,a)})}function qT(a,n){var r,s;return function(){var u=yn(this,a),o=u.tween;if(o!==r){s=r=o;for(var h=0,d=s.length;h<d;++h)if(s[h].name===n){s=s.slice(),s.splice(h,1);break}}u.tween=s}}function HT(a,n,r){var s,u;if(typeof r!="function")throw new Error;return function(){var o=yn(this,a),h=o.tween;if(h!==s){u=(s=h).slice();for(var d={name:n,value:r},m=0,g=u.length;m<g;++m)if(u[m].name===n){u[m]=d;break}m===g&&u.push(d)}o.tween=u}}function $T(a,n){var r=this._id;if(a+="",arguments.length<2){for(var s=cn(this.node(),r).tween,u=0,o=s.length,h;u<o;++u)if((h=s[u]).name===a)return h.value;return null}return this.each((n==null?qT:HT)(r,a,n))}function th(a,n,r){var s=a._id;return a.each(function(){var u=yn(this,s);(u.value||(u.value={}))[n]=r.apply(this,arguments)}),function(u){return cn(u,s).value[n]}}function Sp(a,n){var r;return(typeof n=="number"?un:n instanceof Xa?gu:(r=Xa(n))?(n=r,gu):yp)(a,n)}function YT(a){return function(){this.removeAttribute(a)}}function GT(a){return function(){this.removeAttributeNS(a.space,a.local)}}function VT(a,n,r){var s,u=r+"",o;return function(){var h=this.getAttribute(a);return h===u?null:h===s?o:o=n(s=h,r)}}function KT(a,n,r){var s,u=r+"",o;return function(){var h=this.getAttributeNS(a.space,a.local);return h===u?null:h===s?o:o=n(s=h,r)}}function XT(a,n,r){var s,u,o;return function(){var h,d=r(this),m;return d==null?void this.removeAttribute(a):(h=this.getAttribute(a),m=d+"",h===m?null:h===s&&m===u?o:(u=m,o=n(s=h,d)))}}function QT(a,n,r){var s,u,o;return function(){var h,d=r(this),m;return d==null?void this.removeAttributeNS(a.space,a.local):(h=this.getAttributeNS(a.space,a.local),m=d+"",h===m?null:h===s&&m===u?o:(u=m,o=n(s=h,d)))}}function JT(a,n){var r=ju(a),s=r==="transform"?kT:Sp;return this.attrTween(a,typeof n=="function"?(r.local?QT:XT)(r,s,th(this,"attr."+a,n)):n==null?(r.local?GT:YT)(r):(r.local?KT:VT)(r,s,n))}function IT(a,n){return function(r){this.setAttribute(a,n.call(this,r))}}function ZT(a,n){return function(r){this.setAttributeNS(a.space,a.local,n.call(this,r))}}function WT(a,n){var r,s;function u(){var o=n.apply(this,arguments);return o!==s&&(r=(s=o)&&ZT(a,o)),r}return u._value=n,u}function FT(a,n){var r,s;function u(){var o=n.apply(this,arguments);return o!==s&&(r=(s=o)&&IT(a,o)),r}return u._value=n,u}function PT(a,n){var r="attr."+a;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var s=ju(a);return this.tween(r,(s.local?WT:FT)(s,n))}function eE(a,n){return function(){eh(this,a).delay=+n.apply(this,arguments)}}function tE(a,n){return n=+n,function(){eh(this,a).delay=n}}function nE(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?eE:tE)(n,a)):cn(this.node(),n).delay}function aE(a,n){return function(){yn(this,a).duration=+n.apply(this,arguments)}}function iE(a,n){return n=+n,function(){yn(this,a).duration=n}}function rE(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?aE:iE)(n,a)):cn(this.node(),n).duration}function sE(a,n){if(typeof n!="function")throw new Error;return function(){yn(this,a).ease=n}}function lE(a){var n=this._id;return arguments.length?this.each(sE(n,a)):cn(this.node(),n).ease}function uE(a,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;yn(this,a).ease=r}}function oE(a){if(typeof a!="function")throw new Error;return this.each(uE(this._id,a))}function cE(a){typeof a!="function"&&(a=ap(a));for(var n=this._groups,r=n.length,s=new Array(r),u=0;u<r;++u)for(var o=n[u],h=o.length,d=s[u]=[],m,g=0;g<h;++g)(m=o[g])&&a.call(m,m.__data__,g,o)&&d.push(m);return new Hn(s,this._parents,this._name,this._id)}function fE(a){if(a._id!==this._id)throw new Error;for(var n=this._groups,r=a._groups,s=n.length,u=r.length,o=Math.min(s,u),h=new Array(s),d=0;d<o;++d)for(var m=n[d],g=r[d],p=m.length,_=h[d]=new Array(p),w,x=0;x<p;++x)(w=m[x]||g[x])&&(_[x]=w);for(;d<s;++d)h[d]=n[d];return new Hn(h,this._parents,this._name,this._id)}function hE(a){return(a+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function dE(a,n,r){var s,u,o=hE(n)?eh:yn;return function(){var h=o(this,a),d=h.on;d!==s&&(u=(s=d).copy()).on(n,r),h.on=u}}function mE(a,n){var r=this._id;return arguments.length<2?cn(this.node(),r).on.on(a):this.each(dE(r,a,n))}function gE(a){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==a)return;n&&n.removeChild(this)}}function yE(){return this.on("end.remove",gE(this._id))}function pE(a){var n=this._name,r=this._id;typeof a!="function"&&(a=Jf(a));for(var s=this._groups,u=s.length,o=new Array(u),h=0;h<u;++h)for(var d=s[h],m=d.length,g=o[h]=new Array(m),p,_,w=0;w<m;++w)(p=d[w])&&(_=a.call(p,p.__data__,w,d))&&("__data__"in p&&(_.__data__=p.__data__),g[w]=_,Ru(g[w],n,r,w,g,cn(p,r)));return new Hn(o,this._parents,n,r)}function vE(a){var n=this._name,r=this._id;typeof a!="function"&&(a=np(a));for(var s=this._groups,u=s.length,o=[],h=[],d=0;d<u;++d)for(var m=s[d],g=m.length,p,_=0;_<g;++_)if(p=m[_]){for(var w=a.call(p,p.__data__,_,m),x,O=cn(p,r),k=0,M=w.length;k<M;++k)(x=w[k])&&Ru(x,n,r,k,w,O);o.push(w),h.push(p)}return new Hn(o,h,n,r)}var bE=xs.prototype.constructor;function _E(){return new bE(this._groups,this._parents)}function wE(a,n){var r,s,u;return function(){var o=Fi(this,a),h=(this.style.removeProperty(a),Fi(this,a));return o===h?null:o===r&&h===s?u:u=n(r=o,s=h)}}function Tp(a){return function(){this.style.removeProperty(a)}}function xE(a,n,r){var s,u=r+"",o;return function(){var h=Fi(this,a);return h===u?null:h===s?o:o=n(s=h,r)}}function SE(a,n,r){var s,u,o;return function(){var h=Fi(this,a),d=r(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(a),Fi(this,a))),h===m?null:h===s&&m===u?o:(u=m,o=n(s=h,d))}}function TE(a,n){var r,s,u,o="style."+n,h="end."+o,d;return function(){var m=yn(this,a),g=m.on,p=m.value[o]==null?d||(d=Tp(n)):void 0;(g!==r||u!==p)&&(s=(r=g).copy()).on(h,u=p),m.on=s}}function EE(a,n,r){var s=(a+="")=="transform"?NT:Sp;return n==null?this.styleTween(a,wE(a,s)).on("end.style."+a,Tp(a)):typeof n=="function"?this.styleTween(a,SE(a,s,th(this,"style."+a,n))).each(TE(this._id,a)):this.styleTween(a,xE(a,s,n),r).on("end.style."+a,null)}function AE(a,n,r){return function(s){this.style.setProperty(a,n.call(this,s),r)}}function OE(a,n,r){var s,u;function o(){var h=n.apply(this,arguments);return h!==u&&(s=(u=h)&&AE(a,h,r)),s}return o._value=n,o}function NE(a,n,r){var s="style."+(a+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,OE(a,n,r??""))}function kE(a){return function(){this.textContent=a}}function jE(a){return function(){var n=a(this);this.textContent=n??""}}function CE(a){return this.tween("text",typeof a=="function"?jE(th(this,"text",a)):kE(a==null?"":a+""))}function RE(a){return function(n){this.textContent=a.call(this,n)}}function ME(a){var n,r;function s(){var u=a.apply(this,arguments);return u!==r&&(n=(r=u)&&RE(u)),n}return s._value=a,s}function DE(a){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(a==null)return this.tween(n,null);if(typeof a!="function")throw new Error;return this.tween(n,ME(a))}function UE(){for(var a=this._name,n=this._id,r=Ep(),s=this._groups,u=s.length,o=0;o<u;++o)for(var h=s[o],d=h.length,m,g=0;g<d;++g)if(m=h[g]){var p=cn(m,n);Ru(m,a,r,g,h,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Hn(s,this._parents,a,r)}function zE(){var a,n,r=this,s=r._id,u=r.size();return new Promise(function(o,h){var d={value:h},m={value:function(){--u===0&&o()}};r.each(function(){var g=yn(this,s),p=g.on;p!==a&&(n=(a=p).copy(),n._.cancel.push(d),n._.interrupt.push(d),n._.end.push(m)),g.on=n}),u===0&&o()})}var LE=0;function Hn(a,n,r,s){this._groups=a,this._parents=n,this._name=r,this._id=s}function Ep(){return++LE}var zn=xs.prototype;Hn.prototype={constructor:Hn,select:pE,selectAll:vE,selectChild:zn.selectChild,selectChildren:zn.selectChildren,filter:cE,merge:fE,selection:_E,transition:UE,call:zn.call,nodes:zn.nodes,node:zn.node,size:zn.size,empty:zn.empty,each:zn.each,on:mE,attr:JT,attrTween:PT,style:EE,styleTween:NE,text:CE,textTween:DE,remove:yE,tween:$T,delay:nE,duration:rE,ease:lE,easeVarying:oE,end:zE,[Symbol.iterator]:zn[Symbol.iterator]};function BE(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var qE={time:null,delay:0,duration:250,ease:BE};function HE(a,n){for(var r;!(r=a.__transition)||!(r=r[n]);)if(!(a=a.parentNode))throw new Error(`transition ${n} not found`);return r}function $E(a){var n,r;a instanceof Hn?(n=a._id,a=a._name):(n=Ep(),(r=qE).time=Pf(),a=a==null?null:a+"");for(var s=this._groups,u=s.length,o=0;o<u;++o)for(var h=s[o],d=h.length,m,g=0;g<d;++g)(m=h[g])&&Ru(m,a,n,g,h,r||HE(m,n));return new Hn(s,this._parents,a,n)}xs.prototype.interrupt=BT;xs.prototype.transition=$E;const $f=Math.PI,Yf=2*$f,Ba=1e-6,YE=Yf-Ba;function Ap(a){this._+=a[0];for(let n=1,r=a.length;n<r;++n)this._+=arguments[n]+a[n]}function GE(a){let n=Math.floor(a);if(!(n>=0))throw new Error(`invalid digits: ${a}`);if(n>15)return Ap;const r=10**n;return function(s){this._+=s[0];for(let u=1,o=s.length;u<o;++u)this._+=Math.round(arguments[u]*r)/r+s[u]}}class VE{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ap:GE(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,s,u){this._append`Q${+n},${+r},${this._x1=+s},${this._y1=+u}`}bezierCurveTo(n,r,s,u,o,h){this._append`C${+n},${+r},${+s},${+u},${this._x1=+o},${this._y1=+h}`}arcTo(n,r,s,u,o){if(n=+n,r=+r,s=+s,u=+u,o=+o,o<0)throw new Error(`negative radius: ${o}`);let h=this._x1,d=this._y1,m=s-n,g=u-r,p=h-n,_=d-r,w=p*p+_*_;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(w>Ba)if(!(Math.abs(_*m-g*p)>Ba)||!o)this._append`L${this._x1=n},${this._y1=r}`;else{let x=s-h,O=u-d,k=m*m+g*g,M=x*x+O*O,V=Math.sqrt(k),Y=Math.sqrt(w),L=o*Math.tan(($f-Math.acos((k+w-M)/(2*V*Y)))/2),U=L/Y,Z=L/V;Math.abs(U-1)>Ba&&this._append`L${n+U*p},${r+U*_}`,this._append`A${o},${o},0,0,${+(_*x>p*O)},${this._x1=n+Z*m},${this._y1=r+Z*g}`}}arc(n,r,s,u,o,h){if(n=+n,r=+r,s=+s,h=!!h,s<0)throw new Error(`negative radius: ${s}`);let d=s*Math.cos(u),m=s*Math.sin(u),g=n+d,p=r+m,_=1^h,w=h?u-o:o-u;this._x1===null?this._append`M${g},${p}`:(Math.abs(this._x1-g)>Ba||Math.abs(this._y1-p)>Ba)&&this._append`L${g},${p}`,s&&(w<0&&(w=w%Yf+Yf),w>YE?this._append`A${s},${s},0,1,${_},${n-d},${r-m}A${s},${s},0,1,${_},${this._x1=g},${this._y1=p}`:w>Ba&&this._append`A${s},${s},0,${+(w>=$f)},${_},${this._x1=n+s*Math.cos(o)},${this._y1=r+s*Math.sin(o)}`)}rect(n,r,s,u){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${s=+s}v${+u}h${-s}Z`}toString(){return this._}}function KE(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function bu(a,n){if(!isFinite(a)||a===0)return null;var r=(a=n?a.toExponential(n-1):a.toExponential()).indexOf("e"),s=a.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+a.slice(r+1)]}function er(a){return a=bu(Math.abs(a)),a?a[1]:NaN}function XE(a,n){return function(r,s){for(var u=r.length,o=[],h=0,d=a[0],m=0;u>0&&d>0&&(m+d+1>s&&(d=Math.max(1,s-m)),o.push(r.substring(u-=d,u+d)),!((m+=d+1)>s));)d=a[h=(h+1)%a.length];return o.reverse().join(n)}}function QE(a){return function(n){return n.replace(/[0-9]/g,function(r){return a[+r]})}}var JE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _u(a){if(!(n=JE.exec(a)))throw new Error("invalid format: "+a);var n;return new nh({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}_u.prototype=nh.prototype;function nh(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}nh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IE(a){e:for(var n=a.length,r=1,s=-1,u;r<n;++r)switch(a[r]){case".":s=u=r;break;case"0":s===0&&(s=r),u=r;break;default:if(!+a[r])break e;s>0&&(s=0);break}return s>0?a.slice(0,s)+a.slice(u+1):a}var wu;function ZE(a,n){var r=bu(a,n);if(!r)return wu=void 0,a.toPrecision(n);var s=r[0],u=r[1],o=u-(wu=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,h=s.length;return o===h?s:o>h?s+new Array(o-h+1).join("0"):o>0?s.slice(0,o)+"."+s.slice(o):"0."+new Array(1-o).join("0")+bu(a,Math.max(0,n+o-1))[0]}function fy(a,n){var r=bu(a,n);if(!r)return a+"";var s=r[0],u=r[1];return u<0?"0."+new Array(-u).join("0")+s:s.length>u+1?s.slice(0,u+1)+"."+s.slice(u+1):s+new Array(u-s.length+2).join("0")}const hy={"%":(a,n)=>(a*100).toFixed(n),b:a=>Math.round(a).toString(2),c:a=>a+"",d:KE,e:(a,n)=>a.toExponential(n),f:(a,n)=>a.toFixed(n),g:(a,n)=>a.toPrecision(n),o:a=>Math.round(a).toString(8),p:(a,n)=>fy(a*100,n),r:fy,s:ZE,X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function dy(a){return a}var my=Array.prototype.map,gy=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WE(a){var n=a.grouping===void 0||a.thousands===void 0?dy:XE(my.call(a.grouping,Number),a.thousands+""),r=a.currency===void 0?"":a.currency[0]+"",s=a.currency===void 0?"":a.currency[1]+"",u=a.decimal===void 0?".":a.decimal+"",o=a.numerals===void 0?dy:QE(my.call(a.numerals,String)),h=a.percent===void 0?"%":a.percent+"",d=a.minus===void 0?"":a.minus+"",m=a.nan===void 0?"NaN":a.nan+"";function g(_,w){_=_u(_);var x=_.fill,O=_.align,k=_.sign,M=_.symbol,V=_.zero,Y=_.width,L=_.comma,U=_.precision,Z=_.trim,H=_.type;H==="n"?(L=!0,H="g"):hy[H]||(U===void 0&&(U=12),Z=!0,H="g"),(V||x==="0"&&O==="=")&&(V=!0,x="0",O="=");var X=(w&&w.prefix!==void 0?w.prefix:"")+(M==="$"?r:M==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():""),ce=(M==="$"?s:/[%p]/.test(H)?h:"")+(w&&w.suffix!==void 0?w.suffix:""),fe=hy[H],Q=/[defgprs%]/.test(H);U=U===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function Ee(F){var je=X,Re=ce,Ge,A,G;if(H==="c")Re=fe(F)+Re,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?m:fe(Math.abs(F),U),Z&&(F=IE(F)),W&&+F==0&&k!=="+"&&(W=!1),je=(W?k==="("?k:d:k==="-"||k==="("?"":k)+je,Re=(H==="s"&&!isNaN(F)&&wu!==void 0?gy[8+wu/3]:"")+Re+(W&&k==="("?")":""),Q){for(Ge=-1,A=F.length;++Ge<A;)if(G=F.charCodeAt(Ge),48>G||G>57){Re=(G===46?u+F.slice(Ge+1):F.slice(Ge))+Re,F=F.slice(0,Ge);break}}}L&&!V&&(F=n(F,1/0));var te=je.length+F.length+Re.length,re=te<Y?new Array(Y-te+1).join(x):"";switch(L&&V&&(F=n(re+F,re.length?Y-Re.length:1/0),re=""),O){case"<":F=je+F+Re+re;break;case"=":F=je+re+F+Re;break;case"^":F=re.slice(0,te=re.length>>1)+je+F+Re+re.slice(te);break;default:F=re+je+F+Re;break}return o(F)}return Ee.toString=function(){return _+""},Ee}function p(_,w){var x=Math.max(-8,Math.min(8,Math.floor(er(w)/3)))*3,O=Math.pow(10,-x),k=g((_=_u(_),_.type="f",_),{suffix:gy[8+x/3]});return function(M){return k(O*M)}}return{format:g,formatPrefix:p}}var Pl,Op,Np;FE({thousands:",",grouping:[3],currency:["$",""]});function FE(a){return Pl=WE(a),Op=Pl.format,Np=Pl.formatPrefix,Pl}function PE(a){return Math.max(0,-er(Math.abs(a)))}function eA(a,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(er(n)/3)))*3-er(Math.abs(a)))}function tA(a,n){return a=Math.abs(a),n=Math.abs(n)-a,Math.max(0,er(n)-er(a))+1}function Mu(a,n){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(n).domain(a);break}return this}const yy=Symbol("implicit");function kp(){var a=new Qg,n=[],r=[],s=yy;function u(o){let h=a.get(o);if(h===void 0){if(s!==yy)return s;a.set(o,h=n.push(o)-1)}return r[h%r.length]}return u.domain=function(o){if(!arguments.length)return n.slice();n=[],a=new Qg;for(const h of o)a.has(h)||a.set(h,n.push(h)-1);return u},u.range=function(o){return arguments.length?(r=Array.from(o),u):r.slice()},u.unknown=function(o){return arguments.length?(s=o,u):s},u.copy=function(){return kp(n,r).unknown(s)},Mu.apply(u,arguments),u}function jp(){var a=kp().unknown(void 0),n=a.domain,r=a.range,s=0,u=1,o,h,d=!1,m=0,g=0,p=.5;delete a.unknown;function _(){var w=n().length,x=u<s,O=x?u:s,k=x?s:u;o=(k-O)/Math.max(1,w-m+g*2),d&&(o=Math.floor(o)),O+=(k-O-o*(w-m))*p,h=o*(1-m),d&&(O=Math.round(O),h=Math.round(h));var M=gS(w).map(function(V){return O+o*V});return r(x?M.reverse():M)}return a.domain=function(w){return arguments.length?(n(w),_()):n()},a.range=function(w){return arguments.length?([s,u]=w,s=+s,u=+u,_()):[s,u]},a.rangeRound=function(w){return[s,u]=w,s=+s,u=+u,d=!0,_()},a.bandwidth=function(){return h},a.step=function(){return o},a.round=function(w){return arguments.length?(d=!!w,_()):d},a.padding=function(w){return arguments.length?(m=Math.min(1,g=+w),_()):m},a.paddingInner=function(w){return arguments.length?(m=Math.min(1,w),_()):m},a.paddingOuter=function(w){return arguments.length?(g=+w,_()):g},a.align=function(w){return arguments.length?(p=Math.max(0,Math.min(1,w)),_()):p},a.copy=function(){return jp(n(),[s,u]).round(d).paddingInner(m).paddingOuter(g).align(p)},Mu.apply(_(),arguments)}function nA(a){return function(){return a}}function aA(a){return+a}var py=[0,1];function Ji(a){return a}function Gf(a,n){return(n-=a=+a)?function(r){return(r-a)/n}:nA(isNaN(n)?NaN:.5)}function iA(a,n){var r;return a>n&&(r=a,a=n,n=r),function(s){return Math.max(a,Math.min(n,s))}}function rA(a,n,r){var s=a[0],u=a[1],o=n[0],h=n[1];return u<s?(s=Gf(u,s),o=r(h,o)):(s=Gf(s,u),o=r(o,h)),function(d){return o(s(d))}}function sA(a,n,r){var s=Math.min(a.length,n.length)-1,u=new Array(s),o=new Array(s),h=-1;for(a[s]<a[0]&&(a=a.slice().reverse(),n=n.slice().reverse());++h<s;)u[h]=Gf(a[h],a[h+1]),o[h]=r(n[h],n[h+1]);return function(d){var m=sS(a,d,1,s)-1;return o[m](u[m](d))}}function Cp(a,n){return n.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function lA(){var a=py,n=py,r=Ff,s,u,o,h=Ji,d,m,g;function p(){var w=Math.min(a.length,n.length);return h!==Ji&&(h=iA(a[0],a[w-1])),d=w>2?sA:rA,m=g=null,_}function _(w){return w==null||isNaN(w=+w)?o:(m||(m=d(a.map(s),n,r)))(s(h(w)))}return _.invert=function(w){return h(u((g||(g=d(n,a.map(s),un)))(w)))},_.domain=function(w){return arguments.length?(a=Array.from(w,aA),p()):a.slice()},_.range=function(w){return arguments.length?(n=Array.from(w),p()):n.slice()},_.rangeRound=function(w){return n=Array.from(w),r=ET,p()},_.clamp=function(w){return arguments.length?(h=w?!0:Ji,p()):h!==Ji},_.interpolate=function(w){return arguments.length?(r=w,p()):r},_.unknown=function(w){return arguments.length?(o=w,_):o},function(w,x){return s=w,u=x,p()}}function Rp(){return lA()(Ji,Ji)}function uA(a,n,r,s){var u=Rf(a,n,r),o;switch(s=_u(s??",f"),s.type){case"s":{var h=Math.max(Math.abs(a),Math.abs(n));return s.precision==null&&!isNaN(o=eA(u,h))&&(s.precision=o),Np(s,h)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=tA(u,Math.max(Math.abs(a),Math.abs(n))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=PE(u))&&(s.precision=o-(s.type==="%")*2);break}}return Op(s)}function oA(a){var n=a.domain;return a.ticks=function(r){var s=n();return mS(s[0],s[s.length-1],r??10)},a.tickFormat=function(r,s){var u=n();return uA(u[0],u[u.length-1],r??10,s)},a.nice=function(r){r==null&&(r=10);var s=n(),u=0,o=s.length-1,h=s[u],d=s[o],m,g,p=10;for(d<h&&(g=h,h=d,d=g,g=u,u=o,o=g);p-- >0;){if(g=Cf(h,d,r),g===m)return s[u]=h,s[o]=d,n(s);if(g>0)h=Math.floor(h/g)*g,d=Math.ceil(d/g)*g;else if(g<0)h=Math.ceil(h*g)/g,d=Math.floor(d*g)/g;else break;m=g}return a},a}function ah(){var a=Rp();return a.copy=function(){return Cp(a,ah())},Mu.apply(a,arguments),oA(a)}function cA(a,n){a=a.slice();var r=0,s=a.length-1,u=a[r],o=a[s],h;return o<u&&(h=r,r=s,s=h,h=u,u=o,o=h),a[r]=n.floor(u),a[s]=n.ceil(o),a}const yf=new Date,pf=new Date;function rt(a,n,r,s){function u(o){return a(o=arguments.length===0?new Date:new Date(+o)),o}return u.floor=o=>(a(o=new Date(+o)),o),u.ceil=o=>(a(o=new Date(o-1)),n(o,1),a(o),o),u.round=o=>{const h=u(o),d=u.ceil(o);return o-h<d-o?h:d},u.offset=(o,h)=>(n(o=new Date(+o),h==null?1:Math.floor(h)),o),u.range=(o,h,d)=>{const m=[];if(o=u.ceil(o),d=d==null?1:Math.floor(d),!(o<h)||!(d>0))return m;let g;do m.push(g=new Date(+o)),n(o,d),a(o);while(g<o&&o<h);return m},u.filter=o=>rt(h=>{if(h>=h)for(;a(h),!o(h);)h.setTime(h-1)},(h,d)=>{if(h>=h)if(d<0)for(;++d<=0;)for(;n(h,-1),!o(h););else for(;--d>=0;)for(;n(h,1),!o(h););}),r&&(u.count=(o,h)=>(yf.setTime(+o),pf.setTime(+h),a(yf),a(pf),Math.floor(r(yf,pf))),u.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?u.filter(s?h=>s(h)%o===0:h=>u.count(0,h)%o===0):u)),u}const xu=rt(()=>{},(a,n)=>{a.setTime(+a+n)},(a,n)=>n-a);xu.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?rt(n=>{n.setTime(Math.floor(n/a)*a)},(n,r)=>{n.setTime(+n+r*a)},(n,r)=>(r-n)/a):xu);xu.range;const Bn=1e3,en=Bn*60,qn=en*60,$n=qn*24,ih=$n*7,vy=$n*30,vf=$n*365,Ii=rt(a=>{a.setTime(a-a.getMilliseconds())},(a,n)=>{a.setTime(+a+n*Bn)},(a,n)=>(n-a)/Bn,a=>a.getUTCSeconds());Ii.range;const rh=rt(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*Bn)},(a,n)=>{a.setTime(+a+n*en)},(a,n)=>(n-a)/en,a=>a.getMinutes());rh.range;const fA=rt(a=>{a.setUTCSeconds(0,0)},(a,n)=>{a.setTime(+a+n*en)},(a,n)=>(n-a)/en,a=>a.getUTCMinutes());fA.range;const sh=rt(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*Bn-a.getMinutes()*en)},(a,n)=>{a.setTime(+a+n*qn)},(a,n)=>(n-a)/qn,a=>a.getHours());sh.range;const hA=rt(a=>{a.setUTCMinutes(0,0,0)},(a,n)=>{a.setTime(+a+n*qn)},(a,n)=>(n-a)/qn,a=>a.getUTCHours());hA.range;const Ts=rt(a=>a.setHours(0,0,0,0),(a,n)=>a.setDate(a.getDate()+n),(a,n)=>(n-a-(n.getTimezoneOffset()-a.getTimezoneOffset())*en)/$n,a=>a.getDate()-1);Ts.range;const lh=rt(a=>{a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCDate(a.getUTCDate()+n)},(a,n)=>(n-a)/$n,a=>a.getUTCDate()-1);lh.range;const dA=rt(a=>{a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCDate(a.getUTCDate()+n)},(a,n)=>(n-a)/$n,a=>Math.floor(a/$n));dA.range;function Ia(a){return rt(n=>{n.setDate(n.getDate()-(n.getDay()+7-a)%7),n.setHours(0,0,0,0)},(n,r)=>{n.setDate(n.getDate()+r*7)},(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*en)/ih)}const Du=Ia(0),Su=Ia(1),mA=Ia(2),gA=Ia(3),tr=Ia(4),yA=Ia(5),pA=Ia(6);Du.range;Su.range;mA.range;gA.range;tr.range;yA.range;pA.range;function Za(a){return rt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-a)%7),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r*7)},(n,r)=>(r-n)/ih)}const Mp=Za(0),Tu=Za(1),vA=Za(2),bA=Za(3),nr=Za(4),_A=Za(5),wA=Za(6);Mp.range;Tu.range;vA.range;bA.range;nr.range;_A.range;wA.range;const uh=rt(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,n)=>{a.setMonth(a.getMonth()+n)},(a,n)=>n.getMonth()-a.getMonth()+(n.getFullYear()-a.getFullYear())*12,a=>a.getMonth());uh.range;const xA=rt(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCMonth(a.getUTCMonth()+n)},(a,n)=>n.getUTCMonth()-a.getUTCMonth()+(n.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());xA.range;const Yn=rt(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,n)=>{a.setFullYear(a.getFullYear()+n)},(a,n)=>n.getFullYear()-a.getFullYear(),a=>a.getFullYear());Yn.every=a=>!isFinite(a=Math.floor(a))||!(a>0)?null:rt(n=>{n.setFullYear(Math.floor(n.getFullYear()/a)*a),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r*a)});Yn.range;const Ja=rt(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCFullYear(a.getUTCFullYear()+n)},(a,n)=>n.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());Ja.every=a=>!isFinite(a=Math.floor(a))||!(a>0)?null:rt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/a)*a),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r*a)});Ja.range;function SA(a,n,r,s,u,o){const h=[[Ii,1,Bn],[Ii,5,5*Bn],[Ii,15,15*Bn],[Ii,30,30*Bn],[o,1,en],[o,5,5*en],[o,15,15*en],[o,30,30*en],[u,1,qn],[u,3,3*qn],[u,6,6*qn],[u,12,12*qn],[s,1,$n],[s,2,2*$n],[r,1,ih],[n,1,vy],[n,3,3*vy],[a,1,vf]];function d(g,p,_){const w=p<g;w&&([g,p]=[p,g]);const x=_&&typeof _.range=="function"?_:m(g,p,_),O=x?x.range(g,+p+1):[];return w?O.reverse():O}function m(g,p,_){const w=Math.abs(p-g)/_,x=Qf(([,,M])=>M).right(h,w);if(x===h.length)return a.every(Rf(g/vf,p/vf,_));if(x===0)return xu.every(Math.max(Rf(g,p,_),1));const[O,k]=h[w/h[x-1][2]<h[x][2]/w?x-1:x];return O.every(k)}return[d,m]}const[TA,EA]=SA(Yn,uh,Du,Ts,sh,rh);function bf(a){if(0<=a.y&&a.y<100){var n=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return n.setFullYear(a.y),n}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function _f(a){if(0<=a.y&&a.y<100){var n=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return n.setUTCFullYear(a.y),n}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function ts(a,n,r){return{y:a,m:n,d:r,H:0,M:0,S:0,L:0}}function AA(a){var n=a.dateTime,r=a.date,s=a.time,u=a.periods,o=a.days,h=a.shortDays,d=a.months,m=a.shortMonths,g=ns(u),p=as(u),_=ns(o),w=as(o),x=ns(h),O=as(h),k=ns(d),M=as(d),V=ns(m),Y=as(m),L={a:G,A:W,b:te,B:re,c:null,d:Ty,e:Ty,f:IA,g:rO,G:lO,H:XA,I:QA,j:JA,L:Dp,m:ZA,M:WA,p:T,q,Q:Oy,s:Ny,S:FA,u:PA,U:eO,V:tO,w:nO,W:aO,x:null,X:null,y:iO,Y:sO,Z:uO,"%":Ay},U={a:I,A:P,b:ue,B:de,c:null,d:Ey,e:Ey,f:hO,g:xO,G:TO,H:oO,I:cO,j:fO,L:zp,m:dO,M:mO,p:ve,q:ot,Q:Oy,s:Ny,S:gO,u:yO,U:pO,V:vO,w:bO,W:_O,x:null,X:null,y:wO,Y:SO,Z:EO,"%":Ay},Z={a:Q,A:Ee,b:F,B:je,c:Re,d:xy,e:xy,f:YA,g:wy,G:_y,H:Sy,I:Sy,j:BA,L:$A,m:LA,M:qA,p:fe,q:zA,Q:VA,s:KA,S:HA,u:CA,U:RA,V:MA,w:jA,W:DA,x:Ge,X:A,y:wy,Y:_y,Z:UA,"%":GA};L.x=H(r,L),L.X=H(s,L),L.c=H(n,L),U.x=H(r,U),U.X=H(s,U),U.c=H(n,U);function H(J,me){return function(be){var K=[],ct=-1,Ae=0,ft=J.length,ht,pn,ir;for(be instanceof Date||(be=new Date(+be));++ct<ft;)J.charCodeAt(ct)===37&&(K.push(J.slice(Ae,ct)),(pn=by[ht=J.charAt(++ct)])!=null?ht=J.charAt(++ct):pn=ht==="e"?" ":"0",(ir=me[ht])&&(ht=ir(be,pn)),K.push(ht),Ae=ct+1);return K.push(J.slice(Ae,ct)),K.join("")}}function X(J,me){return function(be){var K=ts(1900,void 0,1),ct=ce(K,J,be+="",0),Ae,ft;if(ct!=be.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(me&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ae=_f(ts(K.y,0,1)),ft=Ae.getUTCDay(),Ae=ft>4||ft===0?Tu.ceil(Ae):Tu(Ae),Ae=lh.offset(Ae,(K.V-1)*7),K.y=Ae.getUTCFullYear(),K.m=Ae.getUTCMonth(),K.d=Ae.getUTCDate()+(K.w+6)%7):(Ae=bf(ts(K.y,0,1)),ft=Ae.getDay(),Ae=ft>4||ft===0?Su.ceil(Ae):Su(Ae),Ae=Ts.offset(Ae,(K.V-1)*7),K.y=Ae.getFullYear(),K.m=Ae.getMonth(),K.d=Ae.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ft="Z"in K?_f(ts(K.y,0,1)).getUTCDay():bf(ts(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ft+5)%7:K.w+K.U*7-(ft+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,_f(K)):bf(K)}}function ce(J,me,be,K){for(var ct=0,Ae=me.length,ft=be.length,ht,pn;ct<Ae;){if(K>=ft)return-1;if(ht=me.charCodeAt(ct++),ht===37){if(ht=me.charAt(ct++),pn=Z[ht in by?me.charAt(ct++):ht],!pn||(K=pn(J,be,K))<0)return-1}else if(ht!=be.charCodeAt(K++))return-1}return K}function fe(J,me,be){var K=g.exec(me.slice(be));return K?(J.p=p.get(K[0].toLowerCase()),be+K[0].length):-1}function Q(J,me,be){var K=x.exec(me.slice(be));return K?(J.w=O.get(K[0].toLowerCase()),be+K[0].length):-1}function Ee(J,me,be){var K=_.exec(me.slice(be));return K?(J.w=w.get(K[0].toLowerCase()),be+K[0].length):-1}function F(J,me,be){var K=V.exec(me.slice(be));return K?(J.m=Y.get(K[0].toLowerCase()),be+K[0].length):-1}function je(J,me,be){var K=k.exec(me.slice(be));return K?(J.m=M.get(K[0].toLowerCase()),be+K[0].length):-1}function Re(J,me,be){return ce(J,n,me,be)}function Ge(J,me,be){return ce(J,r,me,be)}function A(J,me,be){return ce(J,s,me,be)}function G(J){return h[J.getDay()]}function W(J){return o[J.getDay()]}function te(J){return m[J.getMonth()]}function re(J){return d[J.getMonth()]}function T(J){return u[+(J.getHours()>=12)]}function q(J){return 1+~~(J.getMonth()/3)}function I(J){return h[J.getUTCDay()]}function P(J){return o[J.getUTCDay()]}function ue(J){return m[J.getUTCMonth()]}function de(J){return d[J.getUTCMonth()]}function ve(J){return u[+(J.getUTCHours()>=12)]}function ot(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var me=H(J+="",L);return me.toString=function(){return J},me},parse:function(J){var me=X(J+="",!1);return me.toString=function(){return J},me},utcFormat:function(J){var me=H(J+="",U);return me.toString=function(){return J},me},utcParse:function(J){var me=X(J+="",!0);return me.toString=function(){return J},me}}}var by={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,OA=/^%/,NA=/[\\^$*+?|[\]().{}]/g;function ke(a,n,r){var s=a<0?"-":"",u=(s?-a:a)+"",o=u.length;return s+(o<r?new Array(r-o+1).join(n)+u:u)}function kA(a){return a.replace(NA,"\\$&")}function ns(a){return new RegExp("^(?:"+a.map(kA).join("|")+")","i")}function as(a){return new Map(a.map((n,r)=>[n.toLowerCase(),r]))}function jA(a,n,r){var s=ut.exec(n.slice(r,r+1));return s?(a.w=+s[0],r+s[0].length):-1}function CA(a,n,r){var s=ut.exec(n.slice(r,r+1));return s?(a.u=+s[0],r+s[0].length):-1}function RA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.U=+s[0],r+s[0].length):-1}function MA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.V=+s[0],r+s[0].length):-1}function DA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.W=+s[0],r+s[0].length):-1}function _y(a,n,r){var s=ut.exec(n.slice(r,r+4));return s?(a.y=+s[0],r+s[0].length):-1}function wy(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function UA(a,n,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return s?(a.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function zA(a,n,r){var s=ut.exec(n.slice(r,r+1));return s?(a.q=s[0]*3-3,r+s[0].length):-1}function LA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.m=s[0]-1,r+s[0].length):-1}function xy(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.d=+s[0],r+s[0].length):-1}function BA(a,n,r){var s=ut.exec(n.slice(r,r+3));return s?(a.m=0,a.d=+s[0],r+s[0].length):-1}function Sy(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.H=+s[0],r+s[0].length):-1}function qA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.M=+s[0],r+s[0].length):-1}function HA(a,n,r){var s=ut.exec(n.slice(r,r+2));return s?(a.S=+s[0],r+s[0].length):-1}function $A(a,n,r){var s=ut.exec(n.slice(r,r+3));return s?(a.L=+s[0],r+s[0].length):-1}function YA(a,n,r){var s=ut.exec(n.slice(r,r+6));return s?(a.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function GA(a,n,r){var s=OA.exec(n.slice(r,r+1));return s?r+s[0].length:-1}function VA(a,n,r){var s=ut.exec(n.slice(r));return s?(a.Q=+s[0],r+s[0].length):-1}function KA(a,n,r){var s=ut.exec(n.slice(r));return s?(a.s=+s[0],r+s[0].length):-1}function Ty(a,n){return ke(a.getDate(),n,2)}function XA(a,n){return ke(a.getHours(),n,2)}function QA(a,n){return ke(a.getHours()%12||12,n,2)}function JA(a,n){return ke(1+Ts.count(Yn(a),a),n,3)}function Dp(a,n){return ke(a.getMilliseconds(),n,3)}function IA(a,n){return Dp(a,n)+"000"}function ZA(a,n){return ke(a.getMonth()+1,n,2)}function WA(a,n){return ke(a.getMinutes(),n,2)}function FA(a,n){return ke(a.getSeconds(),n,2)}function PA(a){var n=a.getDay();return n===0?7:n}function eO(a,n){return ke(Du.count(Yn(a)-1,a),n,2)}function Up(a){var n=a.getDay();return n>=4||n===0?tr(a):tr.ceil(a)}function tO(a,n){return a=Up(a),ke(tr.count(Yn(a),a)+(Yn(a).getDay()===4),n,2)}function nO(a){return a.getDay()}function aO(a,n){return ke(Su.count(Yn(a)-1,a),n,2)}function iO(a,n){return ke(a.getFullYear()%100,n,2)}function rO(a,n){return a=Up(a),ke(a.getFullYear()%100,n,2)}function sO(a,n){return ke(a.getFullYear()%1e4,n,4)}function lO(a,n){var r=a.getDay();return a=r>=4||r===0?tr(a):tr.ceil(a),ke(a.getFullYear()%1e4,n,4)}function uO(a){var n=a.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ke(n/60|0,"0",2)+ke(n%60,"0",2)}function Ey(a,n){return ke(a.getUTCDate(),n,2)}function oO(a,n){return ke(a.getUTCHours(),n,2)}function cO(a,n){return ke(a.getUTCHours()%12||12,n,2)}function fO(a,n){return ke(1+lh.count(Ja(a),a),n,3)}function zp(a,n){return ke(a.getUTCMilliseconds(),n,3)}function hO(a,n){return zp(a,n)+"000"}function dO(a,n){return ke(a.getUTCMonth()+1,n,2)}function mO(a,n){return ke(a.getUTCMinutes(),n,2)}function gO(a,n){return ke(a.getUTCSeconds(),n,2)}function yO(a){var n=a.getUTCDay();return n===0?7:n}function pO(a,n){return ke(Mp.count(Ja(a)-1,a),n,2)}function Lp(a){var n=a.getUTCDay();return n>=4||n===0?nr(a):nr.ceil(a)}function vO(a,n){return a=Lp(a),ke(nr.count(Ja(a),a)+(Ja(a).getUTCDay()===4),n,2)}function bO(a){return a.getUTCDay()}function _O(a,n){return ke(Tu.count(Ja(a)-1,a),n,2)}function wO(a,n){return ke(a.getUTCFullYear()%100,n,2)}function xO(a,n){return a=Lp(a),ke(a.getUTCFullYear()%100,n,2)}function SO(a,n){return ke(a.getUTCFullYear()%1e4,n,4)}function TO(a,n){var r=a.getUTCDay();return a=r>=4||r===0?nr(a):nr.ceil(a),ke(a.getUTCFullYear()%1e4,n,4)}function EO(){return"+0000"}function Ay(){return"%"}function Oy(a){return+a}function Ny(a){return Math.floor(+a/1e3)}var $i,Bp,qp;AO({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AO(a){return $i=AA(a),Bp=$i.format,qp=$i.parse,$i.utcFormat,$i.utcParse,$i}function OO(a){return new Date(a)}function NO(a){return a instanceof Date?+a:+new Date(+a)}function Hp(a,n,r,s,u,o,h,d,m,g){var p=Rp(),_=p.invert,w=p.domain,x=g(".%L"),O=g(":%S"),k=g("%I:%M"),M=g("%I %p"),V=g("%a %d"),Y=g("%b %d"),L=g("%B"),U=g("%Y");function Z(H){return(m(H)<H?x:d(H)<H?O:h(H)<H?k:o(H)<H?M:s(H)<H?u(H)<H?V:Y:r(H)<H?L:U)(H)}return p.invert=function(H){return new Date(_(H))},p.domain=function(H){return arguments.length?w(Array.from(H,NO)):w().map(OO)},p.ticks=function(H){var X=w();return a(X[0],X[X.length-1],H??10)},p.tickFormat=function(H,X){return X==null?Z:g(X)},p.nice=function(H){var X=w();return(!H||typeof H.range!="function")&&(H=n(X[0],X[X.length-1],H??10)),H?w(cA(X,H)):p},p.copy=function(){return Cp(p,Hp(a,n,r,s,u,o,h,d,m,g))},p}function kO(){return Mu.apply(Hp(TA,EA,Yn,uh,Du,Ts,sh,rh,Ii,Bp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yi(a){return function(){return a}}function jO(a){let n=3;return a.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);n=s}return a},()=>new VE(n)}function CO(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function $p(a){this._context=a}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,n){switch(a=+a,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 1:this._point=2;default:this._context.lineTo(a,n);break}}};function RO(a){return new $p(a)}function MO(a){return a[0]}function DO(a){return a[1]}function UO(a,n){var r=Yi(!0),s=null,u=RO,o=null,h=jO(d);a=typeof a=="function"?a:a===void 0?MO:Yi(a),n=typeof n=="function"?n:n===void 0?DO:Yi(n);function d(m){var g,p=(m=CO(m)).length,_,w=!1,x;for(s==null&&(o=u(x=h())),g=0;g<=p;++g)!(g<p&&r(_=m[g],g,m))===w&&((w=!w)?o.lineStart():o.lineEnd()),w&&o.point(+a(_,g,m),+n(_,g,m));if(x)return o=null,x+""||null}return d.x=function(m){return arguments.length?(a=typeof m=="function"?m:Yi(+m),d):a},d.y=function(m){return arguments.length?(n=typeof m=="function"?m:Yi(+m),d):n},d.defined=function(m){return arguments.length?(r=typeof m=="function"?m:Yi(!!m),d):r},d.curve=function(m){return arguments.length?(u=m,s!=null&&(o=u(s)),d):u},d.context=function(m){return arguments.length?(m==null?s=o=null:o=u(s=m),d):s},d}function us(a,n,r){this.k=a,this.x=n,this.y=r}us.prototype={constructor:us,scale:function(a){return a===1?this:new us(this.k*a,this.x,this.y)},translate:function(a,n){return a===0&n===0?this:new us(this.k,this.x+this.k*a,this.y+this.k*n)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};us.prototype;const zO=({data:a})=>{const n=pe.useRef(null);return pe.useEffect(()=>{if(!a||a.length===0)return;hu(n.current).selectAll("*").remove();const r=600,s=400,u={top:20,right:30,bottom:40,left:40},o=hu(n.current).attr("width",r).attr("height",s).style("background","#1e293b").style("border-radius","8px").append("g").attr("transform",`translate(${u.left},${u.top})`),h=jp().domain(a.map(m=>m.amenity_name)).range([0,r-u.left-u.right]).padding(.2);o.append("g").attr("transform",`translate(0,${s-u.top-u.bottom})`).call(Fy(h)).selectAll("text").style("fill","#94a3b8");const d=ah().domain([0,Zy(a,m=>m.total_bookings)||10]).range([s-u.top-u.bottom,0]);o.append("g").call(Py(d)).selectAll("text").style("fill","#94a3b8"),o.selectAll("mybar").data(a).enter().append("rect").attr("x",m=>h(m.amenity_name)||0).attr("y",m=>d(m.total_bookings)).attr("width",h.bandwidth()).attr("height",m=>s-u.top-u.bottom-d(m.total_bookings)).attr("fill","#38bdf8")},[a]),v.jsx("svg",{ref:n})},LO=({data:a})=>{const n=pe.useRef(null);return pe.useEffect(()=>{if(!a||a.length===0)return;hu(n.current).selectAll("*").remove();const r=600,s=400,u={top:20,right:30,bottom:40,left:40},o=hu(n.current).attr("width",r).attr("height",s).style("background","#1e293b").style("border-radius","8px").append("g").attr("transform",`translate(${u.left},${u.top})`),h=a.map(g=>({date:qp("%Y-%m-%d")(g.booking_date),value:g.total_bookings})).sort((g,p)=>g.date.getTime()-p.date.getTime()),d=kO().domain(lS(h,g=>g.date)).range([0,r-u.left-u.right]);o.append("g").attr("transform",`translate(0,${s-u.top-u.bottom})`).call(Fy(d)).selectAll("text").style("fill","#94a3b8");const m=ah().domain([0,Zy(h,g=>g.value)||10]).range([s-u.top-u.bottom,0]);o.append("g").call(Py(m)).selectAll("text").style("fill","#94a3b8"),o.append("path").datum(h).attr("fill","none").attr("stroke","#a78bfa").attr("stroke-width",2).attr("d",UO().x(g=>d(g.date)).y(g=>m(g.value)))},[a]),v.jsx("svg",{ref:n})},BO=()=>{const[a,n]=pe.useState([]),[r,s]=pe.useState(!0);pe.useEffect(()=>{u()},[]);const u=async()=>{try{await Qe.rpc("refresh_analytics");const{data:d,error:m}=await Qe.rpc("get_daily_analytics");if(m)throw m;d&&n(d)}catch(d){console.error("Error fetching analytics:",d)}finally{s(!1)}},o=Object.values(a.reduce((d,m)=>(d[m.amenity_name]||(d[m.amenity_name]={amenity_name:m.amenity_name,total_bookings:0}),d[m.amenity_name].total_bookings+=m.total_bookings,d),{})),h=Object.values(a.reduce((d,m)=>(d[m.booking_date]||(d[m.booking_date]={booking_date:m.booking_date,total_bookings:0}),d[m.booking_date].total_bookings+=m.total_bookings,d),{}));return r?v.jsx("div",{className:"text-white",children:"Loading Analytics..."}):v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics Dashboard"}),v.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition-colors",children:"Refresh Data"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700",children:[v.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-4",children:"Bookings by Amenity"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsx(zO,{data:o})})]}),v.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700",children:[v.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-4",children:"Booking Trends (Last 30 Days)"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsx(LO,{data:h})})]})]}),a.length===0&&v.jsx("div",{className:"text-center text-slate-400 py-10",children:"No analytics data available yet. Create some bookings to see charts."})]})},qO=({page:a,amenities:n,users:r,reservations:s,settings:u,onUpdateSettings:o,onAddAmenity:h,onDeleteAmenity:d,onAddUsers:m,onCancelReservation:g,onMakeAnnouncement:p})=>{const{addToast:_}=ku(),[w,x]=pe.useState(""),[O,k]=pe.useState({title:"",message:""}),[M,V]=pe.useState({name:"",capacity:10,openTime:"08:00",closeTime:"22:00"}),[Y,L]=pe.useState(u),[U,Z]=pe.useState(!1);it.useEffect(()=>{L(u)},[u]);const H=it.useMemo(()=>s.filter(Q=>Q.date===new Date().toISOString().split("T")[0]&&Q.status==="CONFIRMED").length,[s]),X=it.useMemo(()=>r.filter(Q=>Q.role==="RESIDENT").length,[r]),ce=it.useCallback(()=>{!O.title||!O.message||(p({id:crypto.randomUUID(),title:O.title,message:O.message,date:new Date().toISOString(),priority:"HIGH",readBy:[]}),k({title:"",message:""}),_("Announcement sent","success"))},[O,p,_]);if(a==="admin-dashboard")return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("header",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),v.jsx("p",{className:"text-slate-400 mt-1 text-sm",children:"Welcome back, Admin."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[v.jsx("div",{className:"ds-card p-6 ds-card-interactive",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-sky-50 text-sky-500 rounded-xl flex items-center justify-center",children:v.jsx($a,{size:22,strokeWidth:1.5})}),v.jsxs("div",{children:[v.jsx("p",{className:"ds-overline",children:"Today's Bookings"}),v.jsx("h3",{className:"text-2xl font-bold text-slate-900 mt-0.5",children:H})]})]})}),v.jsx("div",{className:"ds-card p-6 ds-card-interactive",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-purple-50 text-purple-500 rounded-xl flex items-center justify-center",children:v.jsx(su,{size:22,strokeWidth:1.5})}),v.jsxs("div",{children:[v.jsx("p",{className:"ds-overline",children:"Total Residents"}),v.jsx("h3",{className:"text-2xl font-bold text-slate-900 mt-0.5",children:X})]})]})}),v.jsxs("div",{className:"ds-card p-6",children:[v.jsx("h4",{className:"font-semibold text-slate-800 mb-4 text-sm",children:"Quick Announcement"}),v.jsxs("div",{className:"space-y-2.5",children:[v.jsx("input",{type:"text",placeholder:"Title",className:"w-full ds-input text-sm",value:O.title,onChange:Q=>k({...O,title:Q.target.value})}),v.jsx("textarea",{placeholder:"Message",className:"w-full ds-input h-auto py-2 text-sm resize-none",rows:2,value:O.message,onChange:Q=>k({...O,message:Q.target.value})}),v.jsxs("button",{onClick:ce,className:"btn btn-primary btn-sm w-full",children:[v.jsx(rw,{size:14})," Send to All"]})]})]})]})]});if(a==="admin-amenities")return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex justify-between items-center",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Amenities"})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[n.map(Q=>v.jsxs("div",{className:"ds-card overflow-hidden group ds-card-interactive cursor-default",children:[v.jsxs("div",{className:"h-40 bg-slate-100 relative overflow-hidden",children:[v.jsx("img",{src:Q.imageUrl,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsx("button",{onClick:()=>d(Q.id),className:"absolute top-2.5 right-2.5 w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg text-red-500 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-red-50 shadow-sm",children:v.jsx(uw,{size:14})})]}),v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h3",{className:"font-bold text-slate-900",children:Q.name}),v.jsxs("span",{className:"ds-tag ds-tag-slate text-[11px]",children:[Q.openTime," - ",Q.closeTime]})]}),v.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:Q.description}),v.jsx("div",{className:"mt-3 flex items-center gap-2",children:v.jsxs("span",{className:"ds-tag ds-tag-sky",children:[v.jsx(su,{size:11})," ",Q.capacity," guests"]})})]})]},Q.id)),v.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-8 flex flex-col justify-center items-center text-slate-400 hover:border-sky-400 hover:text-sky-500 hover:bg-sky-50/50 transition-all duration-300 cursor-pointer group",onClick:()=>{const Q=prompt("Amenity Name");Q&&h({id:Math.random().toString(),name:Q,description:"New space",capacity:10,imageUrl:`https://picsum.photos/800/600?random=${Math.random()}`,iconName:"Star",openTime:"08:00",closeTime:"22:00"})},children:[v.jsx("div",{className:"w-12 h-12 rounded-xl border-2 border-dashed border-current flex items-center justify-center mb-3 group-hover:border-sky-400",children:v.jsx(aw,{size:24})}),v.jsx("span",{className:"text-sm font-semibold",children:"Add Amenity"})]})]})]});if(a==="admin-users")return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Resident Directory"}),v.jsxs("div",{className:"ds-card p-6",children:[v.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2 text-slate-800",children:[v.jsx(fw,{size:16,className:"text-sky-500"})," Bulk Import"]}),v.jsx("textarea",{className:"w-full h-28 ds-input h-auto py-3 font-mono text-[13px] text-slate-600 bg-slate-50 mb-3 resize-none",placeholder:`Paste CSV data here:
Name, Unit, Email
John Doe, 101, john@example.com`,value:w,onChange:Q=>x(Q.target.value)}),v.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{const Q=tS(w);Q.length>0?(m(Q),x(""),_(`Imported ${Q.length} residents successfully`,"success")):_("Invalid CSV format","error")},children:"Import Residents"})]}),v.jsx("div",{className:"ds-card overflow-hidden",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-slate-100",children:[v.jsx("th",{className:"p-4 ds-overline",children:"Name"}),v.jsx("th",{className:"p-4 ds-overline",children:"Unit"}),v.jsx("th",{className:"p-4 ds-overline",children:"Email"}),v.jsx("th",{className:"p-4 ds-overline",children:"Role"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-50",children:r.map(Q=>v.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[v.jsxs("td",{className:"p-4 flex items-center gap-3",children:[v.jsx("img",{src:Q.avatarUrl||`https://ui-avatars.com/api/?name=${Q.name}`,className:"w-8 h-8 rounded-full ring-2 ring-slate-100"}),v.jsx("span",{className:"font-medium text-slate-800",children:Q.name})]}),v.jsx("td",{className:"p-4 text-slate-500",children:Q.unit||"-"}),v.jsx("td",{className:"p-4 text-slate-500",children:Q.email}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`ds-tag ${Q.role==="ADMIN"?"ds-tag-purple":"ds-tag-emerald"}`,children:Q.role})})]},Q.id))})]})})]});if(a==="admin-analytics")return v.jsx(BO,{});if(a==="admin-calendar")return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Global Reservations"}),v.jsx("div",{className:"ds-card p-6",children:v.jsxs("div",{className:"space-y-3",children:[s.sort((Q,Ee)=>new Date(Ee.date).getTime()-new Date(Q.date).getTime()).map(Q=>{const Ee=r.find(je=>je.id===Q.userId),F=n.find(je=>je.id===Q.amenityId);return v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-4 border border-slate-100 rounded-xl hover:border-sky-200 hover:bg-sky-50/30 transition-all duration-200",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center text-slate-500 font-bold flex-col leading-tight border border-slate-100",children:[v.jsx("span",{className:"text-[10px] ds-overline",children:new Date(Q.date).toLocaleString("default",{month:"short"})}),v.jsx("span",{className:"text-lg font-bold text-slate-800",children:new Date(Q.date).getDate()})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-slate-900",children:F==null?void 0:F.name}),v.jsxs("p",{className:"text-sm text-slate-400",children:[Q.startTime," - ",Q.endTime,"  ",Ee==null?void 0:Ee.name," (",Ee==null?void 0:Ee.unit,")"]})]})]}),Q.status===Ya.CONFIRMED&&v.jsx("button",{onClick:()=>g(Q.id),className:"btn btn-danger btn-sm mt-3 md:mt-0",children:"Cancel Booking"}),Q.status===Ya.CANCELLED&&v.jsx("span",{className:"ds-tag ds-tag-red mt-2 md:mt-0",children:"Cancelled"})]},Q.id)}),s.length===0&&v.jsxs("div",{className:"text-center py-12",children:[v.jsx($a,{className:"mx-auto mb-3 text-slate-300",size:40,strokeWidth:1}),v.jsx("p",{className:"text-slate-400 text-sm",children:"No reservations found."})]})]})})]});const fe=async()=>{Z(!0),await o(Y),Z(!1)};return a==="admin-settings"?v.jsxs("div",{className:"space-y-6 pb-20",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"System Configuration"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"ds-card p-8 space-y-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-base font-bold text-slate-800 mb-1 flex items-center gap-2",children:[v.jsx(ru,{size:18,className:"text-sky-500"}),"Booking Constraints"]}),v.jsx("p",{className:"text-sm text-slate-400",children:"Define the global rules for amenity reservations."})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Advance Notice (Hours)"}),v.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Minimum hours required before a booking can be made."}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,12,24,48].map(Q=>v.jsx("button",{onClick:()=>L({...Y,minHoursAdvance:Q}),className:`py-2.5 rounded-lg border text-sm font-semibold transition-all duration-200 ${Y.minHoursAdvance===Q?"bg-sky-500 text-white border-sky-500 shadow-md shadow-sky-200/50 scale-[1.02]":"bg-white text-slate-600 border-slate-200 hover:border-sky-300 hover:bg-sky-50"}`,children:Q===0?"Instant":`${Q}h`},Q))})]}),v.jsx("hr",{className:"border-slate-100"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Maximum Duration (Hours)"}),v.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Longest period a resident can book an amenity."}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("input",{type:"range",min:"1",max:"12",value:Y.maxDuration,onChange:Q=>L({...Y,maxDuration:parseInt(Q.target.value)}),className:"w-full h-1.5 bg-slate-100 rounded-full appearance-none cursor-pointer accent-sky-500"}),v.jsxs("span",{className:"font-bold text-slate-700 w-12 text-center bg-slate-50 py-1.5 rounded-lg border border-slate-100 text-sm",children:[Y.maxDuration,"h"]})]})]}),v.jsx("hr",{className:"border-slate-100"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Active Bookings Limit"}),v.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Maximum number of confirmed parallel bookings per user."}),v.jsx("div",{className:"flex items-center gap-4",children:v.jsx("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden",children:[1,2,3,5,10].map(Q=>v.jsx("button",{onClick:()=>L({...Y,maxActiveBookings:Q}),className:`px-4 py-2 text-sm font-semibold border-r border-slate-100 last:border-0 transition-all duration-200 ${Y.maxActiveBookings===Q?"bg-slate-800 text-white":"bg-white text-slate-500 hover:bg-slate-50 hover:text-slate-700"}`,children:Q},Q))})})]})]}),v.jsx("div",{className:"pt-2",children:v.jsxs("button",{onClick:fe,disabled:U||JSON.stringify(Y)===JSON.stringify(u),className:`btn btn-lg w-full font-bold ${U||JSON.stringify(Y)===JSON.stringify(u)?"bg-slate-100 text-slate-400 cursor-not-allowed border-0":"btn-primary shadow-lg shadow-sky-200/50"}`,children:[U?v.jsx(Ry,{className:"animate-spin",size:20}):v.jsx(tw,{size:16}),"Save System Changes"]})})]}),v.jsx("div",{className:"hidden lg:block",children:v.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-emerald-50 p-8 rounded-2xl border border-sky-100/80",children:[v.jsxs("h4",{className:"font-bold text-sky-800 mb-3 flex items-center gap-2",children:[v.jsx("span",{className:"w-6 h-6 bg-sky-100 rounded-md flex items-center justify-center text-sky-600",children:v.jsx(ru,{size:13})}),"Security Note"]}),v.jsxs("p",{className:"text-sm text-sky-700/80 leading-relaxed space-y-4",children:["These changes are applied via ",v.jsx("strong",{className:"text-sky-800",children:"Supabase Edge Functions"})," and ",v.jsx("strong",{className:"text-sky-800",children:"Row Level Security"}),".",v.jsx("br",{}),v.jsx("br",{}),"When you update these values, the validation logic in the backend will immediately enforce the new rules for all future booking attempts.",v.jsx("br",{}),v.jsx("br",{}),"Existing bookings will not be affected to prevent service disruption."]})]})})]})]}):v.jsx("div",{children:"Page not found"})},HO=({page:a,user:n,amenities:r,reservations:s,announcements:u,settings:o,onCreateReservation:h,onCancelReservation:d,onMarkAnnouncementRead:m})=>{const{addToast:g}=ku(),[p,_]=pe.useState(null),w=Math.ceil((o.minHoursAdvance||0)/24),[x,O]=pe.useState(Xg(w)),[k,M]=pe.useState(null),V=()=>{const U=new Date(x).getFullYear(),Z=new Date(x).getMonth(),H=Fx(U,Z),X=Px(U,Z),ce=[];for(let fe=0;fe<X;fe++)ce.push(v.jsx("div",{className:"p-2"},`empty-${fe}`));for(let fe=1;fe<=H;fe++){const Q=new Date(U,Z,fe).toISOString().split("T")[0],Ee=Math.ceil((o.minHoursAdvance||0)/24),F=Xg(Ee-1),je=Q<=F,Re=Q===x,Ge=Q===new Date().toISOString().split("T")[0];ce.push(v.jsx("button",{disabled:je,onClick:()=>{O(Q),M(null)},className:`
                        w-9 h-9 text-sm rounded-full flex items-center justify-center transition-all duration-200 relative font-medium
                        ${Re?"bg-sky-500 text-white font-bold shadow-md shadow-sky-200/60":""}
                        ${Ge&&!Re?"ring-2 ring-sky-200 text-sky-600 font-semibold":""}
                        ${je?"text-slate-200 cursor-not-allowed":Re?"":"hover:bg-sky-50 text-slate-600 cursor-pointer"}
                    `,children:fe},fe))}return ce},Y=it.useMemo(()=>s.filter(U=>U.userId===n.id).sort((U,Z)=>new Date(Z.date).getTime()-new Date(U.date).getTime()),[s,n.id]);it.useMemo(()=>u.filter(U=>!U.readBy.includes(n.id)),[u,n.id]);const L=it.useCallback(()=>{k&&p&&(h({id:crypto.randomUUID(),userId:n.id,amenityId:p.id,date:x,startTime:k,endTime:k.split(":")[0]+":59",status:Ya.CONFIRMED}),_(null),g("Reservation Confirmed!","success"))},[k,p,n.id,x,h,g]);return a==="resident-dashboard"?v.jsxs("div",{className:"space-y-8 animate-fade-in pb-20",children:[v.jsxs("header",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Book a Space"}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Select an amenity to reserve."})]}),p?v.jsxs("div",{className:"ds-card overflow-hidden flex flex-col md:flex-row shadow-elevated",children:[v.jsxs("div",{className:"p-6 md:w-2/3 border-r border-slate-100",children:[v.jsx("button",{onClick:()=>{_(null),M(null)},className:"text-sm text-sky-500 hover:text-sky-600 font-medium mb-4 transition-colors",children:" Back to Amenities"}),v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("img",{src:p.imageUrl,className:"w-14 h-14 rounded-xl object-cover shadow-sm ring-1 ring-slate-100"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-slate-900",children:p.name}),v.jsxs("p",{className:"text-slate-400 text-sm",children:["Max ",p.capacity," people"]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h4",{className:"font-semibold mb-3 text-slate-700 text-sm",children:"Select Date"}),v.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 max-w-sm mx-auto md:mx-0 bg-white",children:[v.jsx("div",{className:"text-center font-bold mb-4 text-slate-800 text-sm",children:new Date(x).toLocaleString("default",{month:"long",year:"numeric"})}),v.jsxs("div",{className:"grid grid-cols-7 gap-0.5 text-center text-[11px] font-semibold text-slate-400 mb-2 uppercase",children:[v.jsx("span",{children:"Su"}),v.jsx("span",{children:"Mo"}),v.jsx("span",{children:"Tu"}),v.jsx("span",{children:"We"}),v.jsx("span",{children:"Th"}),v.jsx("span",{children:"Fr"}),v.jsx("span",{children:"Sa"})]}),v.jsx("div",{className:"grid grid-cols-7 gap-0.5 place-items-center",children:V()})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-3 text-slate-700 text-sm",children:"Available Slots"}),v.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2",children:eS(p.openTime,p.closeTime).map(U=>{const Z=s.some(H=>H.amenityId===p.id&&H.date===x&&H.startTime===U&&H.status===Ya.CONFIRMED);return v.jsx("button",{disabled:Z,onClick:()=>M(U),className:`
                                                    py-2.5 px-2 rounded-lg border text-sm font-medium transition-all duration-200
                                                    ${k===U?"bg-sky-500 text-white border-sky-500 shadow-md shadow-sky-200/40":"bg-white text-slate-600 border-slate-200"}
                                                    ${Z?"bg-slate-50 text-slate-300 line-through cursor-not-allowed border-slate-100":k!==U?"hover:border-sky-300 hover:bg-sky-50/50":""}
                                                `,children:U},U)})})]})]}),v.jsxs("div",{className:"bg-slate-50/80 p-6 md:w-1/3 flex flex-col justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-slate-800 mb-5 text-sm",children:"Reservation Summary"}),v.jsx("div",{className:"space-y-4 text-sm",children:[{label:"Amenity",value:p.name},{label:"Date",value:ff(x)},{label:"Time",value:k||"--:--"},{label:"Duration",value:"1 Hour"}].map(U=>v.jsxs("div",{className:"flex justify-between border-b border-slate-200/60 pb-3",children:[v.jsx("span",{className:"text-slate-400",children:U.label}),v.jsx("span",{className:"font-medium text-slate-700",children:U.value})]},U.label))})]}),v.jsxs("button",{disabled:!k,onClick:L,className:`btn btn-lg w-full font-bold mt-6 ${k?"btn-primary shadow-lg shadow-sky-200/50":"bg-slate-200 text-slate-400 cursor-not-allowed border-0"}`,children:[v.jsx(M_,{size:18})," Confirm Booking"]})]})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:r.map(U=>v.jsxs("div",{onClick:()=>_(U),className:"ds-card overflow-hidden ds-card-interactive cursor-pointer group",children:[v.jsxs("div",{className:"h-44 overflow-hidden relative",children:[v.jsx("img",{src:U.imageUrl,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/10 to-transparent"}),v.jsx("h3",{className:"absolute bottom-3 left-4 text-white font-bold text-lg drop-shadow-sm",children:U.name})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("p",{className:"text-slate-500 text-sm mb-3 line-clamp-2",children:U.description}),v.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx(Y_,{size:13,className:"text-sky-400"})," ",U.openTime," - ",U.closeTime]}),v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx(P_,{size:13,className:"text-sky-400"})," ",U.capacity," Guests"]})]})]})]},U.id))})]}):a==="resident-history"?v.jsxs("div",{className:"space-y-6 pb-20",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"My Reservations"}),v.jsxs("div",{className:"space-y-3",children:[Y.length===0&&v.jsxs("div",{className:"text-center py-12 ds-card border-dashed",children:[v.jsx($a,{className:"mx-auto mb-3 text-slate-300",size:44,strokeWidth:1}),v.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"No reservations yet."}),v.jsx("p",{className:"text-slate-300 text-xs mt-1",children:"Book a space to get started"})]}),Y.map(U=>{const Z=r.find(ce=>ce.id===U.amenityId),H=new Date(U.date)<new Date,X=U.status===Ya.CONFIRMED;return v.jsxs("div",{className:`ds-card p-4 flex justify-between items-center transition-opacity ${H?"opacity-50":""}`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-1.5 h-11 rounded-full ${X?"bg-emerald-400":"bg-red-300"}`}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-slate-800",children:Z==null?void 0:Z.name}),v.jsxs("p",{className:"text-sm text-slate-400 mt-0.5",children:[ff(U.date)," @ ",U.startTime]})]})]}),X&&!H&&v.jsx("button",{onClick:()=>{d(U.id),g("Reservation Cancelled","info")},className:"btn btn-danger btn-xs",children:"Cancel"}),U.status===Ya.CANCELLED&&v.jsx("span",{className:"ds-tag ds-tag-red",children:"CANCELLED"})]},U.id)})]})]}):a==="resident-notifications"?v.jsxs("div",{className:"space-y-6 pb-20",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Notifications"}),v.jsxs("div",{className:"space-y-3",children:[u.map(U=>{const Z=!U.readBy.includes(n.id);return v.jsx("div",{onClick:()=>Z&&m(U.id),className:`ds-card p-5 transition-all duration-200 ${Z?"border-l-[3px] border-l-sky-500 shadow-card-hover cursor-pointer hover:bg-sky-50/30":"bg-slate-50/50 text-slate-500 border-slate-100"}`,children:v.jsxs("div",{className:"flex items-start gap-3",children:[U.priority==="HIGH"&&v.jsx("div",{className:"w-7 h-7 rounded-lg bg-orange-50 flex items-center justify-center shrink-0 mt-0.5",children:v.jsx(Cy,{className:"text-orange-500",size:16})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:`font-semibold text-sm ${Z?"text-slate-900":"text-slate-500"}`,children:U.title}),v.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:U.message}),v.jsx("p",{className:"text-xs text-slate-400 mt-2",children:ff(U.date)})]}),Z&&v.jsx("span",{className:"w-2 h-2 bg-sky-500 rounded-full shrink-0 mt-2"})]})},U.id)}),u.length===0&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-slate-400 text-sm",children:"No announcements."})})]})]}):v.jsx("div",{children:"Page not found"})},$O=()=>{const[a,n]=pe.useState(null),[r,s]=pe.useState("auth"),[u,o]=pe.useState(!0),[h,d]=pe.useState([]),[m,g]=pe.useState([]),[p,_]=pe.useState([]),[w,x]=pe.useState([]),[O,k]=pe.useState({minHoursAdvance:24,maxDuration:4,maxActiveBookings:3}),{addToast:M}=ku(),V=A=>({id:A.id,amenityId:A.amenity_id,userId:A.user_id,date:A.booking_date,startTime:A.start_time.substring(0,5),endTime:A.end_time.substring(0,5),status:A.status.toUpperCase()}),Y=A=>({id:A.id,name:A.name,description:A.description||"",capacity:A.capacity,imageUrl:A.image_url||`https://picsum.photos/seed/${A.id}/800/600`,iconName:A.icon_name||"Home",openTime:A.available_from.substring(0,5),closeTime:A.available_to.substring(0,5)}),L=A=>({id:A.id,title:A.title,message:A.content,date:A.created_at,priority:A.priority.toUpperCase(),readBy:[]}),U=A=>({id:A.id,name:A.full_name,email:"",role:A.role.toUpperCase(),unit:A.apartment,avatarUrl:`https://ui-avatars.com/api/?name=${A.full_name}`});pe.useEffect(()=>{Qe.auth.getSession().then(({data:{session:G}})=>{G?Z(G.user.id):o(!1)});const{data:{subscription:A}}=Qe.auth.onAuthStateChange((G,W)=>{W?Z(W.user.id):(n(null),s("auth"),o(!1))});return()=>A.unsubscribe()},[]);const Z=async A=>{const{data:G,error:W}=await Qe.from("profiles").select("*").eq("id",A).single();if(G){const te=U(G);n(te),r==="auth"&&s(te.role===Xi.ADMIN?"admin-dashboard":"resident-dashboard")}o(!1)};pe.useEffect(()=>{if(!a)return;(async()=>{var te,re,T;try{const[{data:q},{data:I},{data:P},{data:ue},de]=await Promise.all([Qe.from("amenities").select("*").eq("is_active",!0),Qe.from("announcements").select("*").eq("is_published",!0).order("created_at",{ascending:!1}),Qe.from("bookings").select("*"),Qe.from("building_settings").select("*"),a.role===Xi.ADMIN?Qe.from("profiles").select("*"):Promise.resolve({data:null})]);q&&g(q.map(Y)),I&&x(I.map(L)),P&&_(P.map(V)),ue&&k({minHoursAdvance:Number(((te=ue.find(ve=>ve.key==="min_hours_advance"))==null?void 0:te.value)||24),maxDuration:Number(((re=ue.find(ve=>ve.key==="max_duration"))==null?void 0:re.value)||4),maxActiveBookings:Number(((T=ue.find(ve=>ve.key==="max_active_bookings"))==null?void 0:T.value)||3)}),a.role===Xi.ADMIN&&de.data&&d(de.data.map(U))}catch(q){console.error("Error fetching data:",q),M("Failed to load initial data","error")}})();const G=Qe.channel("bookings-channel").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},te=>{console.log("Realtime update (bookings):",te),te.eventType==="INSERT"?_(re=>[...re,V(te.new)]):te.eventType==="UPDATE"?_(re=>re.map(T=>T.id===te.new.id?V(te.new):T)):te.eventType==="DELETE"&&_(re=>re.filter(T=>T.id===te.old.id))}).subscribe(),W=Qe.channel("settings-channel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"building_settings"},te=>{console.log("Realtime update (settings):",te),k(re=>{const T={...re};return te.new.key==="min_hours_advance"&&(T.minHoursAdvance=Number(te.new.value)),te.new.key==="max_duration"&&(T.maxDuration=Number(te.new.value)),te.new.key==="max_active_bookings"&&(T.maxActiveBookings=Number(te.new.value)),T})}).subscribe();return()=>{Qe.removeChannel(G),Qe.removeChannel(W)}},[a]);const H=it.useCallback(async()=>{await Qe.auth.signOut(),M("Logged out successfully","info")},[M]),X=it.useCallback(async A=>{const{data:G,error:W}=await Qe.functions.invoke("validate-booking",{body:{amenity_id:A.amenityId,date:A.date,start_time:A.startTime,end_time:A.endTime}});if(W){let te="Failed to create reservation";try{te=(await W.context.json()).error||te}catch{te=W.message||te}M(te,"error")}else G!=null&&G.error?M(G.error,"error"):M("Reservation Confirmed!","success")},[M]),ce=it.useCallback(async A=>{const{error:G}=await Qe.from("bookings").update({status:"cancelled"}).eq("id",A);G?M(G.message,"error"):M("Reservation cancelled","info")},[M]),fe=it.useCallback(async A=>{A.minHoursAdvance.toString(),A.maxDuration.toString(),A.maxActiveBookings.toString();const{error:G}=await Qe.rpc("update_building_setting",{p_key:"min_hours_advance",p_value:A.minHoursAdvance});await Qe.rpc("update_building_setting",{p_key:"max_duration",p_value:A.maxDuration}),await Qe.rpc("update_building_setting",{p_key:"max_active_bookings",p_value:A.maxActiveBookings}),G?M(G.message,"error"):(M("System settings updated successfully","success"),k(A))},[M]),Q=it.useCallback(A=>{M("Admin: Feature coming soon to DB","info")},[M]),Ee=it.useCallback(A=>{M("Admin: Feature coming soon to DB","info")},[M]),F=it.useCallback(A=>{M("Admin: Bulk user import coming soon","info")},[M]),je=it.useCallback(A=>{M("Admin: Announcements feature coming soon","info")},[M]),Re=it.useCallback(A=>{x(G=>G.map(W=>a&&W.id===A?{...W,readBy:[...W.readBy,a.id]}:W))},[a]),Ge=it.useMemo(()=>a?w.filter(A=>!A.readBy.includes(a.id)).length:0,[w,a]);return u?v.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-500"})}):v.jsx(v.Fragment,{children:a?v.jsx(pw,{user:a,onLogout:H,currentPage:r,onNavigate:s,unreadNotifications:Ge,children:a.role===Xi.ADMIN?v.jsx(qO,{page:r,amenities:m,users:h,reservations:p,settings:O,onUpdateSettings:fe,onAddAmenity:Q,onDeleteAmenity:Ee,onAddUsers:F,onCancelReservation:ce,onMakeAnnouncement:je}):v.jsx(HO,{page:r,user:a,amenities:m,reservations:p,announcements:w,settings:O,onCreateReservation:X,onCancelReservation:ce,onMarkAnnouncementRead:Re})}):v.jsx(Wx,{onLogin:()=>{}})})},YO=()=>v.jsx(Zx,{children:v.jsx($O,{})}),Yp=document.getElementById("root");if(!Yp)throw new Error("Could not find root element to mount to");const GO=w_.createRoot(Yp);GO.render(v.jsx(it.StrictMode,{children:v.jsx(YO,{})}));
